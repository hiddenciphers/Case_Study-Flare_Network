(window.webpackJsonp=window.webpackJsonp||[]).push([[20,56],{554:function(t,e,i){"use strict";i.r(e);var s={name:"Pagination",props:{itemsCount:{type:Number,default:0,required:!0},currentPage:{type:Number,default:1,required:!0},perPage:{type:Number,default:24}},computed:{maxVisibleButtons:function(){return Math.min(3,this.pageCount)},pageCount:function(){return Math.ceil(this.itemsCount/this.perPage)},startRange:function(){return 1===Number(this.currentPage)?1:Number(this.currentPage)===this.pageCount?this.pageCount-this.maxVisibleButtons+1:Number(this.currentPage-1)},endRange:function(){return Math.min(this.startRange+this.maxVisibleButtons-1,this.pageCount)},range:function(){for(var t=[],e=this.startRange;e<=this.endRange;e++)t.push(e);return this.startRange>1&&t.unshift(1,"..."),this.startRange<this.pageCount-(this.maxVisibleButtons-1)&&t.push("...",this.pageCount),t}},methods:{pageLink:function(t){var e="list_page=".concat(t);if(window.location.search){var i=window.location.search.split("?")[1].split("&").filter((function(t){return!t.includes("list_page")}));return i.length?"?".concat(i.join("&"),"&").concat(e):"?".concat(e)}return"?".concat(e)}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.pageCount>1?i("section",[i("nav",{staticClass:"pagination is-centered"},[i("ul",{staticClass:"pagination-list"},[i("li",{class:1===Number(t.currentPage)?"previous disabled":"previous"},[i("a",{staticClass:"pagination-link",attrs:{href:t.pageLink(Number(t.currentPage)-1)}},[t._m(0)])]),t._v(" "),t._l(t.range,(function(e,s){return i("li",{key:s+e,staticClass:"is-small"},[e===t.currentPage?i("span",{staticClass:"pagination-link current is-small",attrs:{"aria-current":"page"}},[t._v(t._s(e))]):i("a",{staticClass:"pagination-link number",class:"..."===e?"disabled":"",attrs:{href:t.pageLink(Number(e))}},[t._v("\n          "+t._s(e)+"\n        ")])])})),t._v(" "),i("li",{class:Number(t.currentPage)===t.pageCount?"next disabled":"next"},[i("a",{staticClass:"pagination-link",attrs:{href:t.pageLink(Number(t.currentPage)+1)}},[t._m(1)])])],2)])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-chevron-right"})])}],!1,null,"7a393f6d",null);e.default=a.exports},555:function(t,e,i){"use strict";i.r(e);var s=i(723),n={name:"ExchangeContentTile",mixins:[i(642).a],props:{id:{type:String,default:""},title:{type:String,default:""},content:{type:String,default:""},date_created:{type:Number,default:null},url:{type:String,default:""},score:{type:Number,default:null},upvote_count:{type:Number,default:0},comment_count:{type:Number,default:0},answer_count:{type:Number,default:0},response_count:{type:Number,default:0},user:{type:Object,default:function(){return{name:"",picture:null}}},__typename:{type:String,default:"Post"}},computed:{timeSince:function(){return Object(s.a)(new Date(this.date_created))},actionText:function(){return this.__typename,"Posted "},repliesText:function(){var t=(this.__typename,this.comment_count||this.response_count);return"".concat(t,1===t?" Reply":" Replies")},likesText:function(){return 1===this.upvote_count?"".concat(this.upvote_count," Like"):"".concat(this.upvote_count," Likes")}}},a=i(149),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-horizontal"},[i("a",{attrs:{href:t.url}},[i("div",{staticClass:"columns is-mobile is-vcentered"},[i("div",{staticClass:"column is-narrow"},[i("img",{attrs:{src:t.user.picture}})]),t._v(" "),i("div",{staticClass:"column"},[i("strong",[t._v(t._s(t.user.name))]),i("br"),t._v(" "),i("span",{staticClass:"de-emphasis"},[t._v(t._s(t.actionText)+" "+t._s(t.timeSince)+" ago")])])]),t._v(" "),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"content is-paddingless"},[t.title?i("strong",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.content?i("div",{domProps:{innerHTML:t._s(t.content)}}):t._e()])])]),t._v(" "),i("div",{staticClass:"columns is-mobile is-vcentered"},[i("div",{staticClass:"column is-narrow"},[i("i",{staticClass:"fa fa-heart",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.likesText))]),t._v(" "),i("div",{staticClass:"column is-4"},[t._v(t._s(t.repliesText))]),t._v(" "),t._m(0)])])])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column has-text-right"},[i("i",{staticClass:"fa fa-comment-o",attrs:{"aria-hidden":"true"}}),t._v(" Reply")])}],!1,null,"04873dcd",null);e.default=o.exports},560:function(t,e,i){"use strict";i.r(e);var s=i(728),n=i(642),a={name:"IssueContentTile",components:{MyList:i(548).default},mixins:[n.a],props:{id:{type:String,default:""},type:{type:String,default:"issue"},issue_description:{type:String,default:""},issue_page_count:{type:Number,default:0},issue_published_on:{type:Number,default:null},issue_title:{type:String,default:""},links:{type:Object,default:function(){return{permalink:null}}},source:{type:Object,default:function(){return{type:"",id:""}}},index:{type:Number,default:void 0},display_template:{default:"default",type:String}},data:function(){return{isOpen:!1,showNotification:!1,notificationText:"",watchedThreshold:.9,hasAccess:!1}},computed:{isLoggedIn:function(){return this.$store.getters["userIndex/isUserLoggedIn"]},link:function(){if(this.links.permalink){var t="";return this.source.type&&this.source.id&&(t="?source_".concat(this.source.type,"=").concat(this.source.id)),"".concat(this.links.permalink).concat(t)}return"/issues/id/".concat(this.id)},formattedDate:function(){return Object(s.a)(this.issue_published_on,"MMM dd, yyyy")},isLocked:function(){return!this.isLoggedIn||!this.hasAccess}},created:function(){var t=this;this.$store.dispatch("issuesIndex/getData",{id:this.id}).then((function(){t.hasAccess=t.$store.getters["issuesIndex/hasAccess"](t.id)})),this.links.permalink||this.$store.dispatch("issuesIndex/getLink",{id:this.id}).then((function(e){t.$set(t.links,"permalink",e.wp_link)}))},methods:{onMobileClick:function(t){t.preventDefault(),this.isOpen=!this.isOpen},onClickPlay:function(){window.location=this.link},triggerNotification:function(t){var e=this;this.notificationText=t,this.showNotification=!0,setTimeout((function(){e.showNotification=!1}),1e3)}}},o=i(149),r=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile",class:t.type},[i("div",{on:{click:t.onClickPlay}},["numbered"===t.display_template&&void 0!==t.index?[i("span",{staticClass:"content-tile__index"},[t._v("\n        "+t._s(t.index+1)+"\n      ")])]:t._e(),t._v(" "),i("a",{staticClass:"image",attrs:{href:t.link}},[i("ImageChef",{attrs:{title:t.issue_title,dimensions:[664,null],src:t.id+"/hero","max-bytes":{webp:25e3,jpeg:3e4}}}),t._v(" "),t.issue_page_count?i("div",{staticClass:"content-tile__duration is-uppercase"},[t._v(t._s(t.issue_page_count)+" pages")]):t._e(),t._v(" "),i("div",{staticClass:"button-container"},[t.isLocked?t._e():i("MyList",{attrs:{content_id:t.id,content_type:t.type,button_text:[],button_type:"round"},on:{trigger_notification:t.triggerNotification}})],1),t._v(" "),i("div",{staticClass:"content-tile__play"},[i("svg",{attrs:{viewBox:"0 0 58 58"}},[i("g",{attrs:{"fill-rule":"evenodd",fill:"none"}},[i("circle",{attrs:{cx:"26.25",cy:"26.25",r:"27.5",transform:"translate(3 3)","stroke-width":"2.5",stroke:"#FFF"}}),t._v(" "),i("path",{attrs:{d:"M23.615 29.858c0 .625.508 1.132 1.132 1.132h8.902a1.132 1.132 0 000-2.264h-8.902c-.624 0-1.132.507-1.132 1.132m1.132-3.483h2.175a1.132 1.132 0 000-2.264h-2.175a1.132 1.132 0 000 2.264zm8.902 7.037h-8.96a1.132 1.132 0 000 2.264h8.96a1.132 1.132 0 000-2.264",fill:"#FFF"}}),t._v(" "),i("path",{attrs:{d:"M37.29 38.667H21.265V18.451h9.483v5.351c0 .626.507 1.132 1.132 1.132h5.412v13.732zm-4.277-18.641l2.677 2.646h-2.677zm6.181 2.954a1.09 1.09 0 00-.122-.15l-6.365-6.288c-.008-.008-.02-.014-.028-.023a1.13 1.13 0 00-.8-.33H20.132A1.13 1.13 0 0019 17.319v22.478c0 .625.507 1.132 1.132 1.132h18.29c.625 0 1.132-.507 1.132-1.132V23.803c0-.325-.14-.617-.36-.823z",fill:"#fff"}})])])]),t._v(" "),i("div",{staticClass:"content-tile__notification",class:{show:t.showNotification}},[i("div",{staticClass:"content-tile__notification-text"},[t._v(t._s(t.notificationText))])]),t._v(" "),i("div",{staticClass:"content-tile__locked",class:{"is-hidden":t.hasAccess}},[i("svg",{attrs:{viewBox:"0 0 21 28",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{stroke:"#FFF",fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M5.89 12.012h9.22V6.358a4.61 4.61 0 1 0-9.22 0v5.654z","stroke-width":"3.032"}}),t._v(" "),i("path",{attrs:{d:"M2.798 10.266c-1.03 0-1.865.835-1.865 1.866v13.07c0 1.03.835 1.865 1.865 1.865h15.404c1.03 0 1.865-.835 1.865-1.865v-13.07c0-1.03-.835-1.866-1.865-1.866H2.798zm7.702 4.668a2.77 2.77 0 0 1 2.77 2.77v1.925a2.77 2.77 0 0 1-5.54 0v-1.925a2.77 2.77 0 0 1 2.77-2.77z","stroke-width":"1.866",fill:"#FFF"}})])])])],1),t._v(" "),i("div",{staticClass:"meta"},[i("div",{staticClass:"additional"},[i("span",[t._v(t._s(t.formattedDate))])]),t._v(" "),i("a",{attrs:{href:t.link}},[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.issue_title)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.issue_description)}})])])],2)])}),[],!1,null,"827d8454",null);e.default=r.exports},561:function(t,e,i){"use strict";i.r(e);var s=i(692),n=i(642),a={name:"ShowContentTile",components:{LiveNowBadge:i(549).default},mixins:[n.a],props:{id:{type:String,default:""},type:{type:String,default:"show"},data:{type:Object,default:function(){return{}}},links:{type:Object,default:function(){return{permalink:null}}}},data:function(){return{hasMadeImpression:!1,showNotification:!1,notificationText:""}},computed:{link:function(){return this.links&&Object.prototype.hasOwnProperty.call(this.links,"permalink")&&this.links.permalink?this.links.permalink:"/tv/shows/id/".concat(this.data.show_id)},hasNewEpisodes:function(){var t=new Date(this.$store.getters["showsIndex/getShowUpdatedOn"](this.data.show_id));return Object(s.a)(new Date,t)<5}},created:function(){this.$store.dispatch("showsIndex/fetchShows")},methods:{triggerNotification:function(t){var e=this;this.notificationText=t,this.showNotification=!0,setTimeout((function(){e.showNotification=!1}),1e3)}}},o=i(149),r=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile"},[i("a",{attrs:{href:t.link}},[i("div",{staticClass:"image"},[i("live-now-badge",{attrs:{"content-id":t.id,"show-latest-episode":t.hasNewEpisodes,position:"top-right"}}),t._v(" "),i("ImageChef",{attrs:{title:t.data.show_name,dimensions:[328,492],src:t.data.show_id+"/poster"}}),t._v(" "),i("div",{staticClass:"metadata"},[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.data.show_name)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.data.show_description)}})]),t._v(" "),i("div",{staticClass:"content-tile__notification",class:{show:t.showNotification}},[i("div",{staticClass:"content-tile__notification-text"},[t._v(t._s(t.notificationText))])])],1)])])}),[],!1,null,"d26daf94",null);e.default=r.exports},562:function(t,e,i){"use strict";i.r(e);var s={name:"CollectionContentTile",mixins:[i(642).a],props:{type:{type:String,default:"collection"},title:{type:String,default:""},link_override:{type:[Object,String],default:function(){return{}}},link_collection:{type:String,default:""},image:{type:String,default:""},label:{type:String,default:""}},data:function(){return{hasMadeImpression:!1}},computed:{tileLink:function(){return this.link_override?this.link_override.url:this.link_collection}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-full-mobile"},[i("a",{attrs:{href:t.tileLink}},[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{dimensions:[280,420],src:t.image}}),t._v(" "),i("div",{staticClass:"content-tile__play"},[i("div",{staticClass:"collection-label"},[i("p",[t._v(t._s(t.label))]),t._v(" "),i("svg",{attrs:{width:"20",height:"12",viewBox:"0 0 20 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M19.1844 6.53033C19.4773 6.23744 19.4773 5.76256 19.1844 5.46967L14.4114 0.696699C14.1185 0.403806 13.6436 0.403806 13.3508 0.696699C13.0579 0.989593 13.0579 1.46447 13.3508 1.75736L17.5934 6L13.3508 10.2426C13.0579 10.5355 13.0579 11.0104 13.3508 11.3033C13.6436 11.5962 14.1185 11.5962 14.4114 11.3033L19.1844 6.53033ZM6.55669e-08 6.75L18.6541 6.75L18.6541 5.25L-6.55672e-08 5.25L6.55669e-08 6.75Z",fill:"white"}})])])])],1),t._v(" "),i("div",{staticClass:"collection-title",domProps:{innerHTML:t._s(t.title)}})])])}),[],!1,null,"9727e046",null);e.default=a.exports},563:function(t,e,i){"use strict";i.r(e);var s=i(692),n={name:"DocumentaryContentTile",mixins:[i(642).a],props:{id:{type:String,default:""},type:{type:String,default:"show"},data:{type:Object,default:function(){return{}}},links:{type:Object,default:function(){return{permalink:null}}}},data:function(){return{isOpen:!1,hasMadeImpression:!1}},computed:{link:function(){return this.links&&Object.prototype.hasOwnProperty.call(this.links,"permalink")?this.links.permalink:"/tv/shows/id/".concat(this.data.show_id)},hasNewEpisodes:function(){var t=new Date(this.$store.getters["showsIndex/getShowUpdatedOn"](this.data.show_id));return Object(s.a)(new Date,t)<5},episodeCount:function(){return null}},created:function(){this.$store.dispatch("showsIndex/fetchShows")},methods:{onMobileClick:function(t){t.preventDefault(),this.isOpen=!this.isOpen}}},a=i(149),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-full-mobile"},[i("a",{attrs:{href:t.link}},[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{title:t.data.show_name,dimensions:[656,null],src:t.data.show_id+"/screenshot"}}),t._v(" "),i("div",{staticClass:"metadata"},[i("div",[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.data.show_name)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.data.show_description)}}),t._v(" "),i("button",{staticClass:"play button primary"},[i("span",[i("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}}),t._v(" "),t.episodeCount?[t._v(t._s(t.episodeCount)+" videos")]:[t._v("Watch now")]],2)])])])],1)])])}),[],!1,null,"0531158d",null);e.default=o.exports},564:function(t,e,i){"use strict";i.r(e);var s=i(728),n={name:"EditorialContentTile",mixins:[i(642).a],props:{id:{type:Number,default:null},type:{type:String,default:"editorial"},date:{type:Number,default:null},image:{type:String,default:null},publication:{type:String,default:null},title:{type:String,default:null},links:{type:Object,default:function(){return{permalink:null}}}},computed:{formattedDate:function(){return Object(s.a)(this.date,"MMM dd, yyyy")}}},a=i(149),o=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-full-mobile"},[i("a",{attrs:{href:t.links.permalink,target:t.links.target}},[i("div",[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{dimensions:[439,null],src:t.image}})],1),t._v(" "),i("div",{staticClass:"meta"},[i("div",{staticClass:"additional"},[i("span",{staticClass:"publication",domProps:{innerHTML:t._s(t.publication)}}),t._v(" "),i("span",{staticClass:"dot-separator"},[t._v("Â·")]),t._v(" "),i("span",[t._v(t._s(t.formattedDate))])]),t._v(" "),i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.title)}})])])])])}),[],!1,null,"0e9f7a22",null);e.default=o.exports},565:function(t,e,i){"use strict";i.r(e);var s={name:"PersonContentTile",mixins:[i(642).a],props:{id:{type:Number,default:null},type:{type:String,default:"person"},first_name:{type:String,default:null},last_name:{type:String,default:null},photo:{type:String,default:null},links:{type:Object,default:function(){return{permalink:null}}}},data:function(){return{search_url:"".concat(this.links.search_field_url,"/?parameters_query=")+"".concat(this.first_name,"+").concat(this.last_name,"&search="),full_name:"".concat(this.first_name," ").concat(this.last_name)}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile"},[i("a",{attrs:{href:t.search_url}},[i("div",[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{dimensions:[200,200],src:t.photo}})],1),t._v(" "),i("div",{staticClass:"meta"},[i("h3",{domProps:{innerHTML:t._s(t.full_name)}})])])])])}),[],!1,null,"8271ba4a",null);e.default=a.exports},566:function(t,e,i){"use strict";i.r(e);var s={name:"StaffContentTile",mixins:[i(642).a],props:{id:{type:Number,default:null},type:{type:String,default:"staff_member"},name:{type:String,default:null},job_title:{type:String,default:null},image:{type:String,default:null},image_hover:{type:String,default:null}},data:function(){return{isHover:!1,isTouch:!1}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile"},[i("a",{on:{touchstart:function(e){t.isTouch=!0},mouseover:function(e){t.isHover=!0},mouseout:function(e){t.isHover=!1,t.isTouch=!1}}},[i("div",[i("div",{staticClass:"image"},[!t.isTouch&&t.isHover&&t.image_hover?i("ImageChef",{attrs:{dimensions:[297,297],src:t.image_hover,format:"gif"}}):i("ImageChef",{attrs:{dimensions:[297,297],src:t.image}})],1),t._v(" "),i("div",{staticClass:"meta"},[i("h3",[t._v(t._s(t.name))]),t._v(" "),i("p",[t._v(t._s(t.job_title))])])])])])}),[],!1,null,"5a383d61",null);e.default=a.exports},569:function(t,e,i){"use strict";i.r(e);var s,n=i(662),a=i.n(n),o=i(557),r=i(560),l=i(561),c=i(562),u=i(563),d=i(564),h=i(565),f=i(566),p=i(555),m={name:"TransitionExpand",methods:{enter:function(t){var e=getComputedStyle(t).width;t.style.width=e,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";var i=getComputedStyle(t).height;t.style.width=null,t.style.position=null,t.style.visibility=null,t.style.height=0,getComputedStyle(t).height,requestAnimationFrame((function(){t.style.height=i}))},afterEnter:function(t){t.style.height="auto"},leave:function(t){var e=getComputedStyle(t).height;t.style.height=e,getComputedStyle(t).height,setTimeout((function(){t.style.height=0}))}}},v=i(149),_=Object(v.a)(m,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("transition",{attrs:{name:"expand"},on:{enter:t.enter,"after-enter":t.afterEnter,leave:t.leave}},[t._t("default")],2)}),[],!1,null,"32950f0a",null).exports,g=i(554),y=i(87),C=i.n(y),w=i(11);function b(t,e,i,s,n,a,o){try{var r=t[a](o),l=r.value}catch(t){return void i(t)}r.done?e(l):Promise.resolve(l).then(s,n)}function k(t){return function(){var e=this,i=arguments;return new Promise((function(s,n){var a=t.apply(e,i);function o(t){b(a,s,n,o,r,"next",t)}function r(t){b(a,s,n,o,r,"throw",t)}o(void 0)}))}}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=i){var s,n,a=[],o=!0,r=!1;try{for(i=i.call(t);!(o=(s=i.next()).done)&&(a.push(s.value),!e||a.length!==e);o=!0);}catch(t){r=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(r)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var L=Object.prototype.hasOwnProperty,I=function(t){return window.fetch(t,{credentials:"same-origin",headers:{"x-api-key":window.rv_config.get("key")}}).then((function(t){if(t.ok)return t.json();throw new Error("Network response was not ok.")}))},T={name:"Collection",components:{VueInfiniteLoading:a.a,TransitionExpand:_,VideoContentTile:o.default,IssueContentTile:r.default,ShowContentTile:l.default,CollectionContentTile:c.default,DocumentaryContentTile:u.default,EditorialContentTile:d.default,PersonContentTile:h.default,StaffContentTile:f.default,ExchangeContentTile:p.default,Pagination:g.default},props:{title:{type:String,default:""},additional_content:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:""},max:{type:Number,default:null},showMoreEnabled:{type:Boolean,default:!1},link:{type:Object,default:function(){return{url:null,title:null}}},data:{type:Array,default:function(){return[]}},layout:{type:Object,default:null},source:{type:Object,default:function(){return{type:"",id:""}}},isInfinite:{type:Boolean,default:!1},isSlider:{type:Boolean,default:!1},isRandomized:{type:Boolean,default:!1},paged:{type:Boolean,default:!1},page:{type:Number,default:1},perPage:{type:Number,default:24},display_template:{type:String,default:"default"}},data:function(){return{response:{},items:[],itemsCount:0,isLoading:!0,isHidden:!1,isShowMoreOpen:!1,isUpsell:!1,columns:3,nextPage:4,sliderConfig:{showLeftScroll:!1,showRightScroll:!0,itemWidth:308,totalWidth:0,containerWidth:1360}}},computed:{hasSeeAll:function(){return this.hasShowMore?this.link.url&&this.items.length>2*this.max:this.link.url&&this.items.length>this.max},hasShowMore:function(){return this.showMoreEnabled&&this.items.length>this.max},emptyMoreCards:function(){return this.showMoreItems.length%this.columns?this.columns-this.showMoreItems.length%this.columns:0},linkTitle:function(){return this.link.title?this.link.title:"See all"},filteredItems:function(){var t=this.items;return this.max&&!this.isInfinite&&(t=this.items.slice(0,this.max)),this.isRandomized&&(t=function(t){for(var e,i,s=t.length;0!==s;)i=Math.floor(Math.random()*s),e=t[s-=1],t[s]=t[i],t[i]=e;return t}(t)),t},showMoreItems:function(){return this.items.slice(this.max,2*this.max)},tileClass:function(){var t=[this.type,this.display_template?"".concat(this.display_template,"-tile"):""];return Object.entries(this.columns).forEach((function(e){var i=(12/e[1]).toString(10).replace(".","_");t.push("is-".concat(i,"-").concat(e[0]))})),t.join(" ")},scrollable:function(){return this.sliderConfig.totalWidth>this.sliderConfig.containerWidth},communityURL:function(){return w.a.get("vanilla_url")}},created:function(){this.isSlider?this.columns={}:this.$_setColumns(),"exchange"===this.type?(this.$_fetchExchangeContent(),this.sliderConfig.itemWidth=393):this.data.length?(this.items=this.data,this.isLoading=!1):(this.max&&(this.items=new Array(parseInt(this.max,10))),"show"===this.type||"documentary"===this.type?this.$_fetchShows():"continue"===this.type||"continue_watching"===this.type?this.$_fetchContinueWatching():"my-shows"===this.type||"my_shows"===this.type?this.$_fetchMyShows():"my-videos"===this.type||"my_videos"===this.type?this.$_fetchMyVideos():"my-issues"!==this.type&&"my_issues"!==this.type||this.$_fetchMyIssues())},mounted:function(){var t=this;this.filteredItems.forEach((function(){t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),this.sliderConfig.containerWidth=document.getElementById("content").offsetWidth,window.addEventListener("resize",(function(){t.sliderConfig.containerWidth=document.getElementById("content").offsetWidth}))},methods:{enter:function(t){var e=getComputedStyle(t),i=e.height,s=e.width;t.style.width=s,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.width=null,t.style.position=null,t.style.visibility=null,t.style.height=0,setTimeout((function(){t.style.height=i}))},afterEnter:function(t){t.style.height="auto"},leave:function(t){var e=getComputedStyle(t).height;t.style.height=e,setTimeout((function(){t.style.height=0}))},whichComponent:function(t){if(!t)return null;switch(L.call(t,"type")?t.type:L.call(t,"__typename")?t.__typename.toLowerCase():t.data.type){case"staff":return"StaffContentTile";case"editorial":return"EditorialContentTile";case"people":return"PersonContentTile";case"show":return"documentary"===this.type?"DocumentaryContentTile":"ShowContentTile";case"collection":return"CollectionContentTile";case"issue":return"IssueContentTile";case"post":case"question":case"communitypost":return"ExchangeContentTile";case"video":default:return"VideoContentTile"}},infiniteHandler:function(t){var e=this;if(this.isInfinite){var i="";"topic"===this.source.type&&(i="&rv_topics_slug=".concat(this.source.id)),window.fetch("/wp-json/wp/v2/video?per_page=6&page=".concat(this.nextPage).concat(i,"&rv_products_slug=tv"),{credentials:"same-origin",headers:{"x-api-key":window.rv_config.get("key")}}).then((function(t){if(t.ok)return t.json();throw new Error("Network response was not ok.")})).then((function(i){i&&i.length?(e.nextPage+=1,i.forEach((function(t){var i={id:t.acf.content_id,type:t.type,video_description:t.acf.description,video_duration:parseInt(t.acf.duration,10),video_is_free:"free"===t.acf.price,video_published_on:Date.parse(t.date),video_short_description:t.acf.short_description,video_title:t.title.rendered,links:{permalink:t.link},show:{id:t.acf.show_id,show_name:e.$store.getters["showsIndex/getShowTitle"](t.acf.show_id)},source:e.source};e.filteredItems.push(i)})),t.loaded()):t.complete()})).catch((function(){t.complete()}))}},scrollHandler:function(t){this.sliderConfig.showLeftScroll=t.target.scrollLeft>0,this.sliderConfig.showRightScroll=t.target.scrollLeft<t.target.scrollWidth-t.target.offsetWidth},scrollPrev:function(){window.dataLayer.push({event:"Collection",label:"previous",action:"scroll_arrow"}),this.$refs.tileContainer.scrollTo?this.$refs.tileContainer.scrollTo({left:this.$refs.tileContainer.scrollLeft-this.sliderConfig.itemWidth,behavior:"smooth"}):this.$refs.tileContainer.scrollLeft-=this.sliderConfig.itemWidth},scrollNext:function(){window.dataLayer.push({event:"Collection",label:"next",action:"scroll_arrow"}),this.$refs.tileContainer.scrollTo?this.$refs.tileContainer.scrollTo({left:this.$refs.tileContainer.scrollLeft+this.sliderConfig.itemWidth,behavior:"smooth"}):this.$refs.tileContainer.scrollLeft+=this.sliderConfig.itemWidth},$_setColumns:function(){var t=this.max;if(t||(t=1/0),this.layout)this.columns=this.layout;else switch(this.type){case"documentary":this.columns={desktop:Math.min(t,2),tablet:2,mobile:1};break;case"show":case"my-shows":case"issue":this.columns={desktop:Math.min(t,4),tablet:2,mobile:2};break;case"collection":this.columns={desktop:Math.min(t,4),tablet:2,mobile:1};break;case"people":this.columns={desktop:Math.min(t,5),tablet:2,mobile:1};break;case"staff":this.columns={desktop:Math.min(t,4),tablet:2,mobile:1};break;default:this.columns={desktop:Math.min(t,3),tablet:3,mobile:1}}},$_flatten:function(t,e){var i=[],s=[];return L.call(t,"collection")&&L.call(t.collection,"items")&&(t.collection.items.forEach((function(t){t.data.some((function(s){return"type"===s.name&&s.value===e&&(i.push({data:t.data,links:t.links}),!0)}))})),i.forEach((function(t){var i={data:{},links:{},key:null};t.data.forEach((function(t){L.call(i.data,t.name)?(Array.isArray(i.data[t.name])||(i.data[t.name]=[i.data[t.name]]),i.data[t.name].push(t.value)):i.data[t.name]=t.value})),L.call(t,"links")&&t.links&&t.links.forEach((function(t){L.call(i.links,t.rel)?(Array.isArray(i.links[t.rel])||(i.links[t.rel]=[i.links[t.rel]]),i.links[t.rel].push(t.href)):i.links[t.rel]=t.href})),L.call(i.data,"".concat(e,"_id"))&&(i.key=i.data["".concat(e,"_id")],i.id=i.data["".concat(e,"_id")]),s.push(i)}))),s},$_fetchShows:function(){var t=this,e="".concat(window.rv_config.get("platform"),"collections/shows/").concat(this.id);I(e).then((function(e){t.items=t.$_flatten(e,"show"),t.isLoading=!1})).catch((function(){}))},$_fetchContinueWatching:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]&&I("/rv/television/resume.json").then((function(e){t.items=t.$_flatten(e,"video"),t.items.forEach((function(e){Object.entries(e.data).forEach((function(t){if(t[0].startsWith("show_")){L.call(e,"show")||(e.show={});var i=x(t,2);e.show[t[0]]=i[1]}var s=x(t,2);e[t[0]]=s[1]})),e.id=e.video_id,L.call(e,"show")&&(e.show.id=e.show.show_id),delete e.data,delete e.key,t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),t.isLoading=!1,t.items.length||(t.isHidden=!0)})).catch((function(){t.isHidden=!0}))}))},$_fetchMyShows:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]?t.$store.dispatch("myListIndex/fetchWithShow").then((function(e){t.items=[],e.included&&e.included.forEach((function(e){var i={type:"show",data:e.attributes,id:e.id};i.data.type="show",t.items.push(i),t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),t.isLoading=!1,t.items.length||(t.isUpsell=!0)})).catch((function(){t.isHidden=!0})):t.isHidden=!0}))},$_fetchMyVideos:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]?t.$store.dispatch("myListIndex/fetchWithVideo",{includeTotal:t.paged,page:t.page>1?(t.page-1)*t.perPage:t.page-1,perPage:t.perPage}).then((function(e){t.items=[],e.children&&e.children.length&&e.children.forEach((function(e){t.items.push({id:e.id,type:e.type.toLowerCase(),video_description:e.description,video_duration:e.duration,video_is_free:e.is_free,video_published_on:e.published_on,video_filmed_on:e.filmed_on,video_short_description:e.short_description,video_title:e.title,show:e.show?{id:e.show.id,show_name:e.show.title,permalink:"/shows/".concat(e.show.title)}:null}),t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),e.pageInfo&&e.pageInfo.total&&(t.itemsCount=e.pageInfo.total),t.isLoading=!1,t.items.length||(t.isUpsell=!0)})).catch((function(){t.isHidden=!0})):t.isHidden=!0}))},$_fetchMyIssues:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]?t.$store.dispatch("myListIndex/fetchWithIssue",{includeTotal:t.paged,page:t.page>1?(t.page-1)*t.perPage:t.page-1,perPage:t.perPage}).then((function(e){t.items=[],e.children&&e.children.length&&e.children.forEach((function(e){t.items.push({id:e.id,type:e.type.toLowerCase(),issue_description:e.summary,issue_page_count:e.page_count,issue_published_on:e.published_on,issue_title:e.title}),t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),e.pageInfo.total&&(t.itemsCount=e.pageInfo.total),t.isLoading=!1,t.items.length||(t.isUpsell=!0)})).catch((function(){t.isHidden=!0})):t.isHidden=!0}))},$_fetchExchangeContent:function(){var t=this;return k(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("userIndex/fetchUser").then(k(regeneratorRuntime.mark((function e(){var i,n,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$apollo.query({query:C()(s||(r=["\n              query CommunityPosts($ids: [String!]) {\n                community_posts(ids: $ids) {\n                  id\n                  title\n                  content\n                  date_created\n                  url\n                  score\n                  upvote_count\n                  comment_count\n                  user {\n                    name\n                    picture\n                  }\n                }\n              }\n            "],l=void 0,l||(l=r.slice(0)),s=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(l)}})))),variables:{ids:t.data.reduce((function(t,e){return"post"===e.type&&t.push(e.id),t}),[])}});case 3:if(i=e.sent,(n=i.data.community_posts).length){e.next=7;break}throw new Error("Empty response from API");case 7:if(t.isRandomized)t.items=n;else for(a=function(e){t.items.push(n.find((function(i){return i.id===t.data[e].id})))},o=0;o<t.data.length;o++)a(o);t.filteredItems.forEach((function(e){t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),t.isLoading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t.isLoading=!1,t.isHidden=!0;case 16:case"end":return e.stop()}var r,l}),e,null,[[0,12]])}))));case 2:case"end":return e.stop()}}),e)})))()}}},M=Object(v.a)(T,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isHidden?t._e():i("section",{staticClass:"collection",class:["collection--"+t.type,{"is-slider":t.isSlider},t.display_template?t.display_template+"-slider":""]},[i("div",{staticClass:"columns is-mobile is-vcentered is-paddingless is-marginless"},[i("div",{staticClass:"column is-paddingless is-marginless"},[t.title?i("h3",{staticClass:"subtitle"},[i("span",{domProps:{innerHTML:t._s(t.title)}})]):t._e(),t._v(" "),t.additional_content?i("div",{staticClass:"additional",domProps:{innerHTML:t._s(t.additional_content)}}):t._e()]),t._v(" "),"exchange"===t.type?i("div",{staticClass:"column has-text-right is-paddingless is-marginless"},[i("a",{attrs:{href:t.communityURL,target:"_blank"}},[i("strong",[t._v("join the conversation")]),t._v(" "),i("i",{staticClass:"fa fa-external-link",attrs:{"aria-hidden":"true"}})])]):t._e()]),t._v(" "),"my-shows"===t.type&&t.isUpsell?i("div",{staticClass:"columns is-paddingless"},[t._m(0)]):t._e(),t._v(" "),"my-videos"===t.type&&t.isUpsell?i("div",{staticClass:"columns is-paddingless"},[t._m(1)]):t._e(),t._v(" "),"my-issues"===t.type&&t.isUpsell?i("div",{staticClass:"columns is-paddingless"},[t._m(2)]):t._e(),t._v(" "),t.isLoading&&!t.isHidden?i("div",{staticClass:"columns is-multiline"},t._l(t.max,(function(e){return i("article",{key:e,staticClass:"column content-tile",class:t.tileClass},[i("div",{staticClass:"image"})])})),0):t._e(),t._v(" "),i("div",{staticClass:"tile-container"},[t.isLoading||t.isHidden?t._e():i("div",{ref:"tileContainer",staticClass:"columns is-mobile",class:{"is-multiline":!t.isSlider,"is-slider":t.isSlider},on:{scroll:t.scrollHandler}},t._l(t.filteredItems,(function(e,s){return i(t.whichComponent(e),t._b({key:e.id,ref:"tileItem",refInFor:!0,tag:"component",class:t.tileClass,attrs:{source:t.source,index:s,display_template:t.display_template}},"component",e,!1))})),1),t._v(" "),!t.isLoading&&t.isSlider&&t.scrollable?[t.sliderConfig.showLeftScroll?i("div",{staticClass:"scroll-control scroll-control--left",on:{click:t.scrollPrev}},[i("i",{staticClass:"fa fa-chevron-left"})]):t._e(),t._v(" "),t.sliderConfig.showRightScroll?i("div",{staticClass:"scroll-control scroll-control--right",on:{click:t.scrollNext}},[i("i",{staticClass:"fa fa-chevron-right"})]):t._e()]:t._e()],2),t._v(" "),t.isSlider?t._e():i("transition-expand",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasShowMore&&t.isShowMoreOpen,expression:"hasShowMore && isShowMoreOpen"}],staticClass:"columns is-mobile is-multiline"},[t._l(t.showMoreItems,(function(e){return i(t.whichComponent(e),t._b({key:e.id,tag:"component",class:t.tileClass,attrs:{source:t.source}},"component",e,!1))})),t._v(" "),t.emptyMoreCards?t._l(t.emptyMoreCards,(function(e){return i("article",{key:e,staticClass:"column content-tile",class:t.tileClass},[i("div",{staticClass:"image"})])})):t._e()],2)]),t._v(" "),t.hasShowMore&&!t.isSlider?i("div",{staticClass:"is-hidden-mobile show-more has-text-centered"},[i("transition",{attrs:{name:"fade"}},[t.hasShowMore&&!t.isShowMoreOpen?i("a",{staticClass:"see-all",on:{click:function(e){t.isShowMoreOpen=!0}}},[t._v("\n        Show more\n        "),i("i",{staticClass:"fa fa-angle-down",attrs:{"aria-hidden":"true"}})]):t._e()])],1):t._e(),t._v(" "),t.hasSeeAll?i("div",{staticClass:"show-more has-text-right"},[t.hasSeeAll?i("a",{staticClass:"see-all",attrs:{href:t.link.url}},[t._v("\n      "+t._s(t.linkTitle)+"\n      "),i("i",{staticClass:"fa fa-angle-right",attrs:{"aria-hidden":"true"}})]):t._e()]):t._e(),t._v(" "),t.isInfinite?i("vue-infinite-loading",{attrs:{spinner:"spiral"},on:{infinite:t.infiniteHandler}},[i("div",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),i("div",{attrs:{slot:"no-results"},slot:"no-results"})]):t._e(),t._v(" "),t.paged?i("Pagination",{attrs:{"items-count":t.itemsCount,"current-page":t.page}}):t._e()],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("div",{staticClass:"empty-list"},[i("p",{staticClass:"is-size-4"},[i("strong",[t._v("Personalize your Real Vision experience.")])]),t._v(" "),i("p",{staticClass:"is-size-6"},[t._v("\n          Add shows to your list so you can easily keep track of new episodes and your favourite shows.\n        ")]),t._v(" "),i("p",{staticClass:"is-size-6"},[i("a",{staticClass:"button primary",attrs:{href:"/shows"}},[i("span",[t._v("Start Exploring")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("div",{staticClass:"empty-list"},[i("p",{staticClass:"is-size-4"},[i("strong",[t._v("Personalize your Real Vision experience.")])]),t._v(" "),i("p",{staticClass:"is-size-6"},[t._v("\n          Add videos to your list so you can easily access your saved list and your favourite videos.\n        ")]),t._v(" "),i("p",{staticClass:"is-size-6"},[i("a",{staticClass:"button primary",attrs:{href:"/videos"}},[i("span",[t._v("Start Exploring")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("div",{staticClass:"empty-list"},[i("p",{staticClass:"is-size-4"},[i("strong",[t._v("Personalize your Real Vision experience.")])]),t._v(" "),i("p",{staticClass:"is-size-6"},[t._v("\n          Add reports to your list so you can easily access your saved list and your favourite reports.\n        ")]),t._v(" "),i("p",{staticClass:"is-size-6"},[i("a",{staticClass:"button primary",attrs:{href:"/reports"}},[i("span",[t._v("Start Exploring")])])])])])}],!1,null,"12e178a3",null);e.default=M.exports},647:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i(641),n=i(640);function a(t){Object(n.a)(1,arguments);var e=Object(s.a)(t),i=e.getHours();return i}},648:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i(641),n=i(640);function a(t){Object(n.a)(1,arguments);var e=Object(s.a)(t),i=e.getMinutes();return i}},649:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var s=i(641),n=i(640);function a(t){Object(n.a)(1,arguments);var e=Object(s.a)(t),i=e.getSeconds();return i}}}]);