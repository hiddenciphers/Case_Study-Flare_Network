(window.webpackJsonp=window.webpackJsonp||[]).push([[4,43,65,87],{548:function(t,e,i){"use strict";i.r(e);var s={name:"MyList",props:{content_id:{type:String,default:null},content_type:{type:String,default:null},button_text:{type:Array,default:function(){return null}},button_type:{type:String,default:"secondary"}},data:function(){return{hasAccess:!1}},computed:{isInMyList:function(){if(this.isLoggedIn){var t=this.$store.getters["myListIndex/get"];return!!t&&t.indexOf(this.content_id)>-1}},isLoggedIn:function(){return this.$store.getters["userIndex/isUserLoggedIn"]},buttonCopy:function(){if(this.button_text)return{add_text:this.button_text[0],remove_text:this.button_text[1]};switch(this.content_type){case"show":return{add_text:"My Shows",remove_text:"Remove"};case"video":return{add_text:"My Videos",remove_text:"Remove"};case"issue":return{add_text:"My Reports",remove_text:"Remove"};default:return{add_text:"My List",remove_text:"Remove"}}}},created:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]&&(t.$store.dispatch("myListIndex/fetchByContentId",t.content_id),"video"===t.content_type&&t.$store.dispatch("videosIndex/fetchEntitlement",{id:t.content_id}).then((function(e){t.hasAccess=e})),"issue"===t.content_type&&t.$store.dispatch("issuesIndex/getData",{id:t.content_id}).then((function(){t.hasAccess=t.$store.getters["issuesIndex/hasAccess"](t.content_id)})),"video"!==t.content_type&&"issue"!==t.content_type&&(t.hasAccess=t.$store.getters["myListIndex/hasAccess"]))}))},methods:{addToList:function(){this.$store.dispatch("myListIndex/add",{id:this.content_id,type:this.content_type}),this.$emit("trigger_notification","Added to My List")},removeFromList:function(){this.$store.dispatch("myListIndex/remove",{id:this.content_id,type:this.content_type}),this.$emit("trigger_notification","Removed from My List")}}},n=i(149),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasAccess&&!t.isInMyList?i("button",{staticClass:"button mylist",class:[t.button_type],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addToList(e)}}},[i("span",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF","stroke-width":"2",transform:"translate(2 2)"}},[i("path",{attrs:{"stroke-linecap":"round",d:"M7 12h10M12 7v10"}}),t._v(" "),i("circle",{attrs:{cx:"12",cy:"12",r:"13"}})])]),t._v("\n    "+t._s(t.buttonCopy.add_text)+"\n  ")])]):t.hasAccess&&t.isInMyList?i("button",{staticClass:"button mylist",class:[t.button_type],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.removeFromList(e)}}},[i("span",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF","stroke-width":"2",transform:"translate(2 2)"}},[i("path",{attrs:{"stroke-linecap":"round",d:"M7 12h10"}}),t._v(" "),i("circle",{attrs:{cx:"12",cy:"12",r:"13"}})])]),t._v("\n    "+t._s(t.buttonCopy.remove_text)+"\n  ")])]):t._e()}),[],!1,null,"7935cece",null);e.default=o.exports},549:function(t,e,i){"use strict";i.r(e);var s={name:"LiveNowBadge",components:{LiveIcon:i(550).default},props:{contentId:{type:String,required:!0},position:{type:String,default:"top-right"},showLatestEpisode:{type:Boolean,default:!1}},data:function(){return{isLive:!1}},mounted:function(){var t=this;window.addEventListener("live-content-changed",(function(e){t.checkIsLive()})),this.checkIsLive()},methods:{checkIsLive:function(){var t=window.liveContent&&this.contentId&&(window.liveContent.show_ids&&window.liveContent.show_ids.includes(this.contentId)||window.liveContent.video_ids&&window.liveContent.video_ids.includes(this.contentId));this.isLive=t,this.$emit("liveContentChanged",t)}}},n=i(149),o=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLive?i("div",{staticClass:"live-now-badge",class:t.position},[i("i",{staticClass:"live-icon"},[i("live-icon")],1),t._v(" "),i("span",{staticClass:"live-text"},[t._v("LIVE NOW")])]):t.showLatestEpisode&&t.window.liveContent?i("div",{staticClass:"badge"},[t._v("Latest Episode")]):t._e()}),[],!1,null,"7210b2d4",null);e.default=o.exports},550:function(t,e,i){"use strict";i.r(e);var s=i(149),n=Object(s.a)({name:"LiveIcon"},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"}},[i("g",[i("rect",{staticClass:"loading-bar-5",attrs:{width:"2",height:"16",x:"1",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-4",attrs:{width:"2",height:"16",x:"4",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-3",attrs:{width:"2",height:"16",x:"7",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-2",attrs:{width:"2",height:"16",x:"10",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-1",attrs:{width:"2",height:"16",x:"13",rx:"1"}})])])}),[],!1,null,"25c7a871",null);e.default=n.exports},557:function(t,e,i){"use strict";i.r(e);var s=i(663),n=i(647),o=i(648),a=i(649),r=i(653),d=i(728),c=i(548),l=i(642),u=i(645),h=i(549),v={name:"VideoContentTile",components:{MyList:c.default,LiveNowBadge:h.default},mixins:[l.a,u.a],props:{id:{type:String,default:""},type:{type:String,default:"video"},video_description:{type:String,default:""},video_duration:{type:Number,default:null},video_is_free:{type:Boolean,default:!1},video_published_on:{type:Number,default:null},video_filmed_on:{type:Number,default:null},video_short_description:{type:String,default:""},video_title:{type:String,default:""},links:{type:Object,default:function(){return{permalink:null}}},show:{type:Object,default:function(){return{permalink:null}}},source:{type:Object,default:function(){return{type:"",id:""}}},image_override:{type:String,default:null},index:{type:Number,default:void 0},display_template:{default:"default",type:String}},data:function(){return{hasAccess:!1,isOpen:!1,showNotification:!1,notificationText:"",isLive:!1}},computed:{isLoggedIn:function(){return this.$store.getters["userIndex/isUserLoggedIn"]},isLocked:function(){return!(!this.isPublishedInFuture&&(this.video_is_free||this.isLoggedIn&&this.hasAccess))},link:function(){if(this.links.permalink){var t="";return this.source.type&&this.source.id&&(t="?source_".concat(this.source.type,"=").concat(this.source.id)),"".concat(this.links.permalink).concat(t)}return"/tv/videos/id/".concat(this.id)},showLink:function(){return this.show.permalink?this.show.permalink:this.show.id?this.$store.getters["showsIndex/getShowLink"](this.show.id):this.link},formattedDuration:function(){var t=Object(s.a)(new Date(1970,0,0,0,0,0),this.video_duration),e=Object(n.a)(t)||"",i=Object(o.a)(t),r=Object(a.a)(t);return e&&(e<10&&(e="0".concat(e)),e="".concat(e,":")),i<10&&(i="0".concat(i)),r<10&&(r="0".concat(r)),"".concat(e).concat(i,":").concat(r)},formattedDate:function(){if(this.video_filmed_on&&this.video_filmed_on>this.video_published_on){var t=Object(r.a)(this.video_filmed_on/1e3);return"".concat(Object(d.a)(t,"MMMM d")," at ").concat(Object(d.a)(t,"h:mma"))}return Object(d.a)(this.video_published_on,"MMM dd, yyyy")},isPublishedInFuture:function(){var t=new Date;return t=t.getTime(),this.video_published_on>t},isFilmedInFuture:function(){return this.video_filmed_on>this.video_published_on},description:function(){return this.video_short_description?this.video_short_description:this.video_description?this.video_description:null},imagePath:function(){return this.image_override?this.image_override:"".concat(this.id,"/thumbnail")}},created:function(){var t=this;this.$store.dispatch("showsIndex/fetchShows"),this.links.permalink||this.$store.dispatch("videosIndex/getLink",{id:this.id}).then((function(e){t.$set(t.links,"permalink",e.wp_link)})),this.$store.dispatch("videosIndex/fetchEntitlement",{id:this.id}).then((function(e){t.hasAccess=e}))},methods:{onMobileClick:function(t){t.preventDefault(),this.isOpen=!this.isOpen},onClickPlay:function(){this.isPublishedInFuture||(window.location=this.link)},triggerNotification:function(t){var e=this;this.notificationText=t,this.showNotification=!0,setTimeout((function(){e.showNotification=!1}),1e3)},liveContentChanged:function(t){this.isLive=t}}},_=i(149),p=Object(_.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile",class:[t.type,{"is-future":t.isPublishedInFuture,"is-locked":t.isLocked,"is-watched":t.isWatched}]},[i("div",{on:{click:t.onClickPlay}},["numbered"===t.display_template&&void 0!==t.index?[i("span",{staticClass:"content-tile__index"},[t._v("\n        "+t._s(t.index+1)+"\n      ")])]:t._e(),t._v(" "),i(t.isPublishedInFuture?"div":"a",{tag:"component",staticClass:"image",attrs:{href:t.isPublishedInFuture?null:t.link}},[i("live-now-badge",{attrs:{"content-id":t.id,position:"bottom-left"},on:{liveContentChanged:t.liveContentChanged}}),t._v(" "),i("ImageChef",{attrs:{title:t.video_title,dimensions:[664,null],src:t.imagePath,"max-bytes":{webp:25e3,jpeg:3e4}}}),t._v(" "),t.isPublishedInFuture||!t.video_duration||t.isLive?t._e():i("div",{staticClass:"content-tile__duration"},[t._v("\n        "+t._s(t.formattedDuration)+"\n      ")]),t._v(" "),i("div",{staticClass:"button-container"},[t.isLocked?t._e():i("MyList",{attrs:{content_id:t.id,content_type:t.type,button_text:[],button_type:"round"},on:{trigger_notification:t.triggerNotification}})],1),t._v(" "),t.isWatched?i("div",{staticClass:"watched"},[i("i",{staticClass:"fa fa-check"}),t._v(" WATCHED")]):t._e(),t._v(" "),t.isPublishedInFuture?t._e():i("div",{staticClass:"content-tile__play"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 81 81"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF",transform:"translate(3 3)"}},[i("circle",{attrs:{cx:"37.5",cy:"37.5",r:"39","stroke-width":"3"}}),t._v(" "),i("path",{attrs:{fill:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M55.5 37.031L27 53.063V21z"}})])])]),t._v(" "),t.isPublishedInFuture?i("div",{staticClass:"content-tile__coming-soon"},[i("span",[t._v("Coming Soon")])]):t._e(),t._v(" "),i("div",{staticClass:"content-tile__notification",class:{show:t.showNotification}},[i("div",{staticClass:"content-tile__notification-text"},[t._v(t._s(t.notificationText))])]),t._v(" "),i("div",{staticClass:"content-tile__locked",class:{"is-hidden":t.isPublishedInFuture||!t.isLocked}},[i("svg",{attrs:{viewBox:"0 0 21 28",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{stroke:"#FFF",fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M5.89 12.012h9.22V6.358a4.61 4.61 0 1 0-9.22 0v5.654z","stroke-width":"3.032"}}),t._v(" "),i("path",{attrs:{d:"M2.798 10.266c-1.03 0-1.865.835-1.865 1.866v13.07c0 1.03.835 1.865 1.865 1.865h15.404c1.03 0 1.865-.835 1.865-1.865v-13.07c0-1.03-.835-1.866-1.865-1.866H2.798zm7.702 4.668a2.77 2.77 0 0 1 2.77 2.77v1.925a2.77 2.77 0 0 1-5.54 0v-1.925a2.77 2.77 0 0 1 2.77-2.77z","stroke-width":"1.866",fill:"#FFF"}})])])])],1),t._v(" "),i("div",{staticClass:"progress"},[i("div",{style:"width: "+t.progression+"%"})]),t._v(" "),i("div",{staticClass:"meta"},[i("div",{staticClass:"additional"},[t.show?[i("a",{staticClass:"show-link",attrs:{href:t.showLink},domProps:{innerHTML:t._s(t.show.show_name)}}),t._v(" "),t.show.show_name?i("span",{staticClass:"dot-separator"},[t._v("Â·")]):t._e()]:t._e(),t._v(" "),i("span",{class:{"show-link":t.isFilmedInFuture}},[t._v(t._s(t.formattedDate))])],2),t._v(" "),i(t.isPublishedInFuture?"div":"a",{tag:"component",attrs:{href:t.isPublishedInFuture?null:t.link}},[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.video_title)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.description)}})])],1)],2)])}),[],!1,null,"4463c016",null);e.default=p.exports},642:function(t,e,i){"use strict";e.a={data:function(){return{hasMadeImpression:!1}},methods:{visibilityChanged:function(t){t&&!this.hasMadeImpression&&this.id&&(window.dataLayer.push({event:"Impression",label:this.id,action:"".concat(this.type,"_impression")}),this.hasMadeImpression=!0)}}}},645:function(t,e,i){"use strict";e.a={data:function(){return{isWatched:!1,progression:0,watchedThreshold:.9}},created:function(){var t=this;this.id&&this.video_duration&&this.$store.dispatch("videosIndex/fetchProgress",{id:this.id}).then((function(e){if(e){var i=1e3*e;t.isWatched=i>=t.video_duration*t.watchedThreshold,t.progression=i/t.video_duration*100}}))}}}}]);