/*!jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license*/jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);/*!VelocityJS.org (1.2.3). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License*/!function(a){function b(a){var b=a.length,d=c.type(a);return"function"===d||c.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===d||0===b||"number"==typeof b&&b>0&&b-1 in a}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return null!=a&&a==a.window},c.type=function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?e[g.call(a)]||"object":typeof a},c.isArray=Array.isArray||function(a){return"array"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||"object"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,"constructor")&&!f.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;g>f&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=c.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),e===!1)break;return a},c.data=function(a,b,e){if(void 0===e){var f=a[c.expando],g=f&&d[f];if(void 0===b)return g;if(g&&b in g)return g[b]}else if(void 0!==b){var f=a[c.expando]||(a[c.expando]=++c.uuid);return d[f]=d[f]||{},d[f][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&c.each(b,function(a,b){delete f[b]})},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"!=typeof h&&"function"!==c.type(h)&&(h={}),i===j&&(h=this,i--);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):void 0!==d&&(h[e]=d));return h},c.queue=function(a,d,e){function f(a,c){var d=c||[];return null!=a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,"string"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){d=(d||"fx")+"queue";var g=c.data(a,d);return e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||"fx";var e=c.queue(d,b),f=e.shift();"inprogress"===f&&(f=e.shift()),f&&("fx"===b&&e.unshift("inprogress"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error("Not a DOM node.")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&"html"===!a.nodeType.toLowerCase&&"static"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:c(a).offset();return d.top-=parseFloat(b.style.marginTop)||0,d.left-=parseFloat(b.style.marginLeft)||0,a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}};var d={};c.expando="velocity"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h="Boolean Number String Function Array Date RegExp Object Error".split(" "),i=0;i<h.length;i++)e["[object "+h[i]+"]"]=h[i].toLowerCase();c.fn.init.prototype=c.fn,a.Velocity={Utilities:c}}}(window),function(a){"object"==typeof module&&"object"==typeof module.exports?module.exports=a():"function"==typeof define&&define.amd?define(a):a()}(function(){return function(a,b,c,d){function e(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function f(a){return p.isWrapped(a)?a=[].slice.call(a):p.isNode(a)&&(a=[a]),a}function g(a){var b=m.data(a,"velocity");return null===b?d:b}function h(a){return function(b){return Math.round(b*a)*(1/a)}}function i(a,c,d,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b,c){for(var e=0;p>e;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;t>b;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h<s);return g}function n(b){for(var c=0,e=1,f=t-1;e!=f&&x[e]<=b;++e)c+=u;--e;var g=(b-x[e])/(x[e+1]-x[e]),h=c+g*u,i=j(h,a,d);return i>=q?k(b,h):0==i?h:m(b,c,c+u)}function o(){y=!0,(a!=c||d!=e)&&l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v="Float32Array"in b;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A="generateBezier("+[a,c,d,e]+")";return z.toString=function(){return A},z}function j(a,b){var c=a;return p.isString(a)?t.Easings[a]||(c=!1):c=p.isArray(a)&&1===a.length?h.apply(null,a):p.isArray(a)&&2===a.length?u.apply(null,a.concat([b])):p.isArray(a)&&4===a.length?i.apply(null,a):!1,c===!1&&(c=t.Easings[t.defaults.easing]?t.defaults.easing:s),c}function k(a){if(a){var b=(new Date).getTime(),c=t.State.calls.length;c>1e4&&(t.State.calls=e(t.State.calls));for(var f=0;c>f;f++)if(t.State.calls[f]){var h=t.State.calls[f],i=h[0],j=h[2],n=h[3],o=!!n,q=null;n||(n=t.State.calls[f][3]=b-16);for(var r=Math.min((b-n)/j.duration,1),s=0,u=i.length;u>s;s++){var w=i[s],y=w.element;if(g(y)){var z=!1;if(j.display!==d&&null!==j.display&&"none"!==j.display){if("flex"===j.display){var A=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];m.each(A,function(a,b){v.setPropertyValue(y,"display",b)})}v.setPropertyValue(y,"display",j.display)}j.visibility!==d&&"hidden"!==j.visibility&&v.setPropertyValue(y,"visibility",j.visibility);for(var B in w)if("element"!==B){var C,D=w[B],E=p.isString(D.easing)?t.Easings[D.easing]:D.easing;if(1===r)C=D.endValue;else{var F=D.endValue-D.startValue;if(C=D.startValue+F*E(r,j,F),!o&&C===D.currentValue)continue}if(D.currentValue=C,"tween"===B)q=C;else{if(v.Hooks.registered[B]){var G=v.Hooks.getRoot(B),H=g(y).rootPropertyValueCache[G];H&&(D.rootPropertyValue=H)}var I=v.setPropertyValue(y,B,D.currentValue+(0===parseFloat(C)?"":D.unitType),D.rootPropertyValue,D.scrollData);v.Hooks.registered[B]&&(g(y).rootPropertyValueCache[G]=v.Normalizations.registered[G]?v.Normalizations.registered[G]("extract",null,I[1]):I[1]),"transform"===I[0]&&(z=!0)}}j.mobileHA&&g(y).transformCache.translate3d===d&&(g(y).transformCache.translate3d="(0px, 0px, 0px)",z=!0),z&&v.flushTransformCache(y)}}j.display!==d&&"none"!==j.display&&(t.State.calls[f][2].display=!1),j.visibility!==d&&"hidden"!==j.visibility&&(t.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],r,Math.max(0,n+j.duration-b),n,q),1===r&&l(f)}}t.State.isTicking&&x(k)}function l(a,b){if(!t.State.calls[a])return!1;for(var c=t.State.calls[a][0],e=t.State.calls[a][1],f=t.State.calls[a][2],h=t.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||f.loop||("none"===f.display&&v.setPropertyValue(l,"display",f.display),"hidden"===f.visibility&&v.setPropertyValue(l,"visibility",f.visibility)),f.loop!==!0&&(m.queue(l)[1]===d||!/\.velocityQueueEntryFlag/i.test(m.queue(l)[1]))&&g(l)){g(l).isAnimating=!1,g(l).rootPropertyValueCache={};var n=!1;m.each(v.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=g(l).transformCache[b];g(l).transformCache[b]!==d&&new RegExp("^\\("+c+"[^.]").test(e)&&(n=!0,delete g(l).transformCache[b])}),f.mobileHA&&(n=!0,delete g(l).transformCache.translate3d),n&&v.flushTransformCache(l),v.Values.removeClass(l,"velocity-animating")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(o){setTimeout(function(){throw o},1)}h&&f.loop!==!0&&h(e),g(l)&&f.loop===!0&&!b&&(m.each(g(l).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&"%"===b.unitType&&(b.endValue=0,b.startValue=100)}),t(l,"reverse",{loop:!0,delay:f.delay})),f.queue!==!1&&m.dequeue(l,f.queue)}t.State.calls[a]=!1;for(var p=0,q=t.State.calls.length;q>p;p++)if(t.State.calls[p]!==!1){i=!0;break}i===!1&&(t.State.isTicking=!1,delete t.State.calls,t.State.calls=[])}var m,n=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement("div");if(b.innerHTML="<!--[if IE "+a+"]><span></span><![endif]-->",b.getElementsByTagName("span").length)return b=null,a}return d}(),o=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),p={isString:function(a){return"string"==typeof a},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return"object"==typeof a&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||"object"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},q=!1;if(a.fn&&a.fn.jquery?(m=a,q=!0):m=b.Velocity.Utilities,8>=n&&!q)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=n)return void(jQuery.fn.velocity=jQuery.fn.animate);var r=400,s="swing",t={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:"",duration:r,easing:s,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){m.data(a,"velocity",{isSVG:p.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};b.pageYOffset!==d?(t.State.scrollAnchor=b,t.State.scrollPropertyLeft="pageXOffset",t.State.scrollPropertyTop="pageYOffset"):(t.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,t.State.scrollPropertyLeft="scrollLeft",t.State.scrollPropertyTop="scrollTop");var u=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();t.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},m.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(a,b){t.Easings[b[0]]=i.apply(null,b[1])});var v=t.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var a=0;a<v.Lists.colors.length;a++){var b="color"===v.Lists.colors[a]?"0 0 0 1":"255 255 255 1";v.Hooks.templates[v.Lists.colors[a]]=["Red Green Blue Alpha",b]}var c,d,e;if(n)for(c in v.Hooks.templates){d=v.Hooks.templates[c],e=d[0].split(" ");var f=d[1].match(v.RegEx.valueSplit);"Color"===e[0]&&(e.push(e.shift()),f.push(f.shift()),v.Hooks.templates[c]=[e.join(" "),f.join(" ")])}for(c in v.Hooks.templates){d=v.Hooks.templates[c],e=d[0].split(" ");for(var a in e){var g=c+e[a],h=a;v.Hooks.registered[g]=[c,h]}}},getRoot:function(a){var b=v.Hooks.registered[a];return b?b[0]:a},cleanRootPropertyValue:function(a,b){return v.RegEx.valueUnwrap.test(b)&&(b=b.match(v.RegEx.valueUnwrap)[1]),v.Values.isCSSNullValue(b)&&(b=v.Hooks.templates[a][1]),b},extractValue:function(a,b){var c=v.Hooks.registered[a];if(c){var d=c[0],e=c[1];return b=v.Hooks.cleanRootPropertyValue(d,b),b.toString().match(v.RegEx.valueSplit)[e]}return b},injectValue:function(a,b,c){var d=v.Hooks.registered[a];if(d){var e,f,g=d[0],h=d[1];return c=v.Hooks.cleanRootPropertyValue(g,c),e=c.toString().match(v.RegEx.valueSplit),e[h]=b,f=e.join(" ")}return c}},Normalizations:{registered:{clip:function(a,b,c){switch(a){case"name":return"clip";case"extract":var d;return v.RegEx.wrappedValueAlreadyExtracted.test(c)?d=c:(d=c.toString().match(v.RegEx.valueUnwrap),d=d?d[1].replace(/,(\s+)?/g," "):c),d;case"inject":return"rect("+c+")"}},blur:function(a,b,c){switch(a){case"name":return t.State.isFirefox?"filter":"-webkit-filter";case"extract":var d=parseFloat(c);if(!d&&0!==d){var e=c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);d=e?e[1]:0}return d;case"inject":return parseFloat(c)?"blur("+c+")":"none"}},opacity:function(a,b,c){if(8>=n)switch(a){case"name":return"filter";case"extract":var d=c.toString().match(/alpha\(opacity=(.*)\)/i);return c=d?d[1]/100:1;case"inject":return b.style.zoom=1,parseFloat(c)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(c),10)+")"}else switch(a){case"name":return"opacity";case"extract":return c;case"inject":return c}}},register:function(){9>=n||t.State.isGingerbread||(v.Lists.transformsBase=v.Lists.transformsBase.concat(v.Lists.transforms3D));for(var a=0;a<v.Lists.transformsBase.length;a++)!function(){var b=v.Lists.transformsBase[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return"transform";case"extract":return g(c)===d||g(c).transformCache[b]===d?/^scale/i.test(b)?1:0:g(c).transformCache[b].replace(/[()]/g,"");case"inject":var f=!1;switch(b.substr(0,b.length-1)){case"translate":f=!/(%|px|em|rem|vw|vh|\d)$/i.test(e);break;case"scal":case"scale":t.State.isAndroid&&g(c).transformCache[b]===d&&1>e&&(e=1),f=!/(\d)$/i.test(e);break;case"skew":f=!/(deg|\d)$/i.test(e);break;case"rotate":f=!/(deg|\d)$/i.test(e)}return f||(g(c).transformCache[b]="("+e+")"),g(c).transformCache[b]}}}();for(var a=0;a<v.Lists.colors.length;a++)!function(){var b=v.Lists.colors[a];v.Normalizations.registered[b]=function(a,c,e){switch(a){case"name":return b;case"extract":var f;if(v.RegEx.wrappedValueAlreadyExtracted.test(e))f=e;else{var g,h={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(e)?g=h[e]!==d?h[e]:h.black:v.RegEx.isHex.test(e)?g="rgb("+v.Values.hexToRgb(e).join(" ")+")":/^rgba?\(/i.test(e)||(g=h.black),f=(g||e).toString().match(v.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=n||3!==f.split(" ").length||(f+=" 1"),f;case"inject":return 8>=n?4===e.split(" ").length&&(e=e.split(/\s+/).slice(0,3).join(" ")):3===e.split(" ").length&&(e+=" 1"),(8>=n?"rgb":"rgba")+"("+e.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})},SVGAttribute:function(a){var b="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(n||t.State.isAndroid&&!t.State.isChrome)&&(b+="|transform"),new RegExp("^("+b+")$","i").test(a)},prefixCheck:function(a){if(t.State.prefixMatches[a])return[t.State.prefixMatches[a],!0];for(var b=["","Webkit","Moz","ms","O"],c=0,d=b.length;d>c;c++){var e;if(e=0===c?a:b[c]+a.replace(/^\w/,function(a){return a.toUpperCase()}),p.isString(t.State.prefixElement.style[e]))return t.State.prefixMatches[a]=e,[e,!0]}return[a,!1]}},Values:{hexToRgb:function(a){var b,c=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return a=a.replace(c,function(a,b,c,d){return b+b+c+c+d+d}),b=d.exec(a),b?[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]:[0,0,0]},isCSSNullValue:function(a){return 0==a||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)},getUnitType:function(a){return/^(rotate|skew)/i.test(a)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a)?"":"px"},getDisplayType:function(a){var b=a&&a.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b)?"inline":/^(li)$/i.test(b)?"list-item":/^(tr)$/i.test(b)?"table-row":/^(table)$/i.test(b)?"table":/^(tbody)$/i.test(b)?"table-row-group":"block"},addClass:function(a,b){a.classList?a.classList.add(b):a.className+=(a.className.length?" ":"")+b},removeClass:function(a,b){a.classList?a.classList.remove(b):a.className=a.className.toString().replace(new RegExp("(^|\\s)"+b.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(a,c,e,f){function h(a,c){function e(){j&&v.setPropertyValue(a,"display","none")}var i=0;if(8>=n)i=m.css(a,c);else{var j=!1;if(/^(width|height)$/.test(c)&&0===v.getPropertyValue(a,"display")&&(j=!0,v.setPropertyValue(a,"display",v.Values.getDisplayType(a))),!f){if("height"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var k=a.offsetHeight-(parseFloat(v.getPropertyValue(a,"borderTopWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderBottomWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingTop"))||0)-(parseFloat(v.getPropertyValue(a,"paddingBottom"))||0);return e(),k}if("width"===c&&"border-box"!==v.getPropertyValue(a,"boxSizing").toString().toLowerCase()){var l=a.offsetWidth-(parseFloat(v.getPropertyValue(a,"borderLeftWidth"))||0)-(parseFloat(v.getPropertyValue(a,"borderRightWidth"))||0)-(parseFloat(v.getPropertyValue(a,"paddingLeft"))||0)-(parseFloat(v.getPropertyValue(a,"paddingRight"))||0);return e(),l}}var o;o=g(a)===d?b.getComputedStyle(a,null):g(a).computedStyle?g(a).computedStyle:g(a).computedStyle=b.getComputedStyle(a,null),"borderColor"===c&&(c="borderTopColor"),i=9===n&&"filter"===c?o.getPropertyValue(c):o[c],(""===i||null===i)&&(i=a.style[c]),e()}if("auto"===i&&/^(top|right|bottom|left)$/i.test(c)){var p=h(a,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(c))&&(i=m(a).position()[c]+"px")}return i}var i;if(v.Hooks.registered[c]){var j=c,k=v.Hooks.getRoot(j);e===d&&(e=v.getPropertyValue(a,v.Names.prefixCheck(k)[0])),v.Normalizations.registered[k]&&(e=v.Normalizations.registered[k]("extract",a,e)),i=v.Hooks.extractValue(j,e)}else if(v.Normalizations.registered[c]){var l,o;l=v.Normalizations.registered[c]("name",a),"transform"!==l&&(o=h(a,v.Names.prefixCheck(l)[0]),v.Values.isCSSNullValue(o)&&v.Hooks.templates[c]&&(o=v.Hooks.templates[c][1])),i=v.Normalizations.registered[c]("extract",a,o)}if(!/^[\d-]/.test(i))if(g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c))if(/^(height|width)$/i.test(c))try{i=a.getBBox()[c]}catch(p){i=0}else i=a.getAttribute(c);else i=h(a,v.Names.prefixCheck(c)[0]);return v.Values.isCSSNullValue(i)&&(i=0),t.debug>=2&&console.log("Get "+c+": "+i),i},setPropertyValue:function(a,c,d,e,f){var h=c;if("scroll"===c)f.container?f.container["scroll"+f.direction]=d:"Left"===f.direction?b.scrollTo(d,f.alternateValue):b.scrollTo(f.alternateValue,d);else if(v.Normalizations.registered[c]&&"transform"===v.Normalizations.registered[c]("name",a))v.Normalizations.registered[c]("inject",a,d),h="transform",d=g(a).transformCache[c];else{if(v.Hooks.registered[c]){var i=c,j=v.Hooks.getRoot(c);e=e||v.getPropertyValue(a,j),d=v.Hooks.injectValue(i,d,e),c=j}if(v.Normalizations.registered[c]&&(d=v.Normalizations.registered[c]("inject",a,d),c=v.Normalizations.registered[c]("name",a)),h=v.Names.prefixCheck(c)[0],8>=n)try{a.style[h]=d}catch(k){t.debug&&console.log("Browser does not support ["+d+"] for ["+h+"]")}else g(a)&&g(a).isSVG&&v.Names.SVGAttribute(c)?a.setAttribute(c,d):a.style[h]=d;t.debug>=2&&console.log("Set "+c+" ("+h+"): "+d)}return[h,d]},flushTransformCache:function(a){function b(b){return parseFloat(v.getPropertyValue(a,b))}var c="";if((n||t.State.isAndroid&&!t.State.isChrome)&&g(a).isSVG){var d={translate:[b("translateX"),b("translateY")],skewX:[b("skewX")],skewY:[b("skewY")],scale:1!==b("scale")?[b("scale"),b("scale")]:[b("scaleX"),b("scaleY")],rotate:[b("rotateZ"),0,0]};m.each(g(a).transformCache,function(a){/^translate/i.test(a)?a="translate":/^scale/i.test(a)?a="scale":/^rotate/i.test(a)&&(a="rotate"),d[a]&&(c+=a+"("+d[a].join(" ")+") ",delete d[a])})}else{var e,f;m.each(g(a).transformCache,function(b){return e=g(a).transformCache[b],"transformPerspective"===b?(f=e,!0):(9===n&&"rotateZ"===b&&(b="rotate"),void(c+=b+e+" "))}),f&&(c="perspective"+f+" "+c)}v.setPropertyValue(a,"transform",c)}};v.Hooks.register(),v.Normalizations.register(),t.hook=function(a,b,c){var e=d;return a=f(a),m.each(a,function(a,f){if(g(f)===d&&t.init(f),c===d)e===d&&(e=t.CSS.getPropertyValue(f,b));else{var h=t.CSS.setPropertyValue(f,b,c);"transform"===h[0]&&t.CSS.flushTransformCache(f),e=h}}),e};var w=function(){function a(){return h?B.promise||null:i}function e(){function a(){function a(a,b){var c=d,e=d,g=d;return p.isArray(a)?(c=a[0],!p.isArray(a[1])&&/^[\d-]/.test(a[1])||p.isFunction(a[1])||v.RegEx.isHex.test(a[1])?g=a[1]:(p.isString(a[1])&&!v.RegEx.isHex.test(a[1])||p.isArray(a[1]))&&(e=b?a[1]:j(a[1],h.duration),a[2]!==d&&(g=a[2]))):c=a,b||(e=e||h.easing),p.isFunction(c)&&(c=c.call(f,y,x)),p.isFunction(g)&&(g=g.call(f,y,x)),[c||0,e,g]}function l(a,b){var c,d;return d=(b||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(a){return c=a,""}),c||(c=v.Values.getUnitType(a)),[d,c]}function n(){var a={myParent:f.parentNode||c.body,position:v.getPropertyValue(f,"position"),fontSize:v.getPropertyValue(f,"fontSize")},d=a.position===I.lastPosition&&a.myParent===I.lastParent,e=a.fontSize===I.lastFontSize;I.lastParent=a.myParent,I.lastPosition=a.position,I.lastFontSize=a.fontSize;var h=100,i={};if(e&&d)i.emToPx=I.lastEmToPx,i.percentToPxWidth=I.lastPercentToPxWidth,i.percentToPxHeight=I.lastPercentToPxHeight;else{var j=g(f).isSVG?c.createElementNS("http://www.w3.org/2000/svg","rect"):c.createElement("div");t.init(j),a.myParent.appendChild(j),m.each(["overflow","overflowX","overflowY"],function(a,b){t.CSS.setPropertyValue(j,b,"hidden")}),t.CSS.setPropertyValue(j,"position",a.position),t.CSS.setPropertyValue(j,"fontSize",a.fontSize),t.CSS.setPropertyValue(j,"boxSizing","content-box"),m.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(a,b){t.CSS.setPropertyValue(j,b,h+"%")}),t.CSS.setPropertyValue(j,"paddingLeft",h+"em"),i.percentToPxWidth=I.lastPercentToPxWidth=(parseFloat(v.getPropertyValue(j,"width",null,!0))||1)/h,i.percentToPxHeight=I.lastPercentToPxHeight=(parseFloat(v.getPropertyValue(j,"height",null,!0))||1)/h,i.emToPx=I.lastEmToPx=(parseFloat(v.getPropertyValue(j,"paddingLeft"))||1)/h,a.myParent.removeChild(j)}return null===I.remToPx&&(I.remToPx=parseFloat(v.getPropertyValue(c.body,"fontSize"))||16),null===I.vwToPx&&(I.vwToPx=parseFloat(b.innerWidth)/100,I.vhToPx=parseFloat(b.innerHeight)/100),i.remToPx=I.remToPx,i.vwToPx=I.vwToPx,i.vhToPx=I.vhToPx,t.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),f),i}if(h.begin&&0===y)try{h.begin.call(o,o)}catch(r){setTimeout(function(){throw r},1)}if("scroll"===C){var u,w,z,A=/^x$/i.test(h.axis)?"Left":"Top",D=parseFloat(h.offset)||0;h.container?p.isWrapped(h.container)||p.isNode(h.container)?(h.container=h.container[0]||h.container,u=h.container["scroll"+A],z=u+m(f).position()[A.toLowerCase()]+D):h.container=null:(u=t.State.scrollAnchor[t.State["scrollProperty"+A]],w=t.State.scrollAnchor[t.State["scrollProperty"+("Left"===A?"Top":"Left")]],z=m(f).offset()[A.toLowerCase()]+D),i={scroll:{rootPropertyValue:!1,startValue:u,currentValue:u,endValue:z,unitType:"",easing:h.easing,scrollData:{container:h.container,direction:A,alternateValue:w}},element:f},t.debug&&console.log("tweensContainer (scroll): ",i.scroll,f)}else if("reverse"===C){if(!g(f).tweensContainer)return void m.dequeue(f,h.queue);"none"===g(f).opts.display&&(g(f).opts.display="auto"),"hidden"===g(f).opts.visibility&&(g(f).opts.visibility="visible"),g(f).opts.loop=!1,g(f).opts.begin=null,g(f).opts.complete=null,s.easing||delete h.easing,s.duration||delete h.duration,h=m.extend({},g(f).opts,h);var E=m.extend(!0,{},g(f).tweensContainer);for(var F in E)if("element"!==F){var G=E[F].startValue;E[F].startValue=E[F].currentValue=E[F].endValue,E[F].endValue=G,p.isEmptyObject(s)||(E[F].easing=h.easing),t.debug&&console.log("reverse tweensContainer ("+F+"): "+JSON.stringify(E[F]),f)}i=E}else if("start"===C){var E;g(f).tweensContainer&&g(f).isAnimating===!0&&(E=g(f).tweensContainer),m.each(q,function(b,c){if(RegExp("^"+v.Lists.colors.join("$|^")+"$").test(b)){var e=a(c,!0),f=e[0],g=e[1],h=e[2];if(v.RegEx.isHex.test(f)){for(var i=["Red","Green","Blue"],j=v.Values.hexToRgb(f),k=h?v.Values.hexToRgb(h):d,l=0;l<i.length;l++){var m=[j[l]];g&&m.push(g),k!==d&&m.push(k[l]),q[b+i[l]]=m}delete q[b]}}});for(var H in q){var K=a(q[H]),L=K[0],M=K[1],N=K[2];H=v.Names.camelCase(H);var O=v.Hooks.getRoot(H),P=!1;if(g(f).isSVG||"tween"===O||v.Names.prefixCheck(O)[1]!==!1||v.Normalizations.registered[O]!==d){(h.display!==d&&null!==h.display&&"none"!==h.display||h.visibility!==d&&"hidden"!==h.visibility)&&/opacity|filter/.test(H)&&!N&&0!==L&&(N=0),h._cacheValues&&E&&E[H]?(N===d&&(N=E[H].endValue+E[H].unitType),P=g(f).rootPropertyValueCache[O]):v.Hooks.registered[H]?N===d?(P=v.getPropertyValue(f,O),N=v.getPropertyValue(f,H,P)):P=v.Hooks.templates[O][1]:N===d&&(N=v.getPropertyValue(f,H));var Q,R,S,T=!1;if(Q=l(H,N),N=Q[0],S=Q[1],Q=l(H,L),L=Q[0].replace(/^([+-\/*])=/,function(a,b){return T=b,""}),R=Q[1],N=parseFloat(N)||0,L=parseFloat(L)||0,"%"===R&&(/^(fontSize|lineHeight)$/.test(H)?(L/=100,R="em"):/^scale/.test(H)?(L/=100,R=""):/(Red|Green|Blue)$/i.test(H)&&(L=L/100*255,R="")),/[\/*]/.test(T))R=S;else if(S!==R&&0!==N)if(0===L)R=S;else{e=e||n();var U=/margin|padding|left|right|width|text|word|letter/i.test(H)||/X$/.test(H)||"x"===H?"x":"y";switch(S){case"%":N*="x"===U?e.percentToPxWidth:e.percentToPxHeight;break;case"px":break;default:N*=e[S+"ToPx"]}switch(R){case"%":N*=1/("x"===U?e.percentToPxWidth:e.percentToPxHeight);break;case"px":break;default:N*=1/e[R+"ToPx"]}}switch(T){case"+":L=N+L;break;case"-":L=N-L;break;case"*":L=N*L;break;case"/":L=N/L}i[H]={rootPropertyValue:P,startValue:N,currentValue:N,endValue:L,unitType:R,easing:M},t.debug&&console.log("tweensContainer ("+H+"): "+JSON.stringify(i[H]),f)}else t.debug&&console.log("Skipping ["+O+"] due to a lack of browser support.")}i.element=f}i.element&&(v.Values.addClass(f,"velocity-animating"),J.push(i),""===h.queue&&(g(f).tweensContainer=i,g(f).opts=h),g(f).isAnimating=!0,y===x-1?(t.State.calls.push([J,o,h,null,B.resolver]),t.State.isTicking===!1&&(t.State.isTicking=!0,k())):y++)}var e,f=this,h=m.extend({},t.defaults,s),i={};switch(g(f)===d&&t.init(f),parseFloat(h.delay)&&h.queue!==!1&&m.queue(f,h.queue,function(a){t.velocityQueueEntryFlag=!0,g(f).delayTimer={setTimeout:setTimeout(a,parseFloat(h.delay)),next:a}}),h.duration.toString().toLowerCase()){case"fast":h.duration=200;break;case"normal":h.duration=r;break;case"slow":h.duration=600;break;default:h.duration=parseFloat(h.duration)||1}t.mock!==!1&&(t.mock===!0?h.duration=h.delay=1:(h.duration*=parseFloat(t.mock)||1,h.delay*=parseFloat(t.mock)||1)),h.easing=j(h.easing,h.duration),h.begin&&!p.isFunction(h.begin)&&(h.begin=null),h.progress&&!p.isFunction(h.progress)&&(h.progress=null),h.complete&&!p.isFunction(h.complete)&&(h.complete=null),h.display!==d&&null!==h.display&&(h.display=h.display.toString().toLowerCase(),"auto"===h.display&&(h.display=t.CSS.Values.getDisplayType(f))),h.visibility!==d&&null!==h.visibility&&(h.visibility=h.visibility.toString().toLowerCase()),h.mobileHA=h.mobileHA&&t.State.isMobile&&!t.State.isGingerbread,h.queue===!1?h.delay?setTimeout(a,h.delay):a():m.queue(f,h.queue,function(b,c){return c===!0?(B.promise&&B.resolver(o),!0):(t.velocityQueueEntryFlag=!0,void a(b))}),""!==h.queue&&"fx"!==h.queue||"inprogress"===m.queue(f)[0]||m.dequeue(f)}var h,i,n,o,q,s,u=arguments[0]&&(arguments[0].p||m.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||p.isString(arguments[0].properties));if(p.isWrapped(this)?(h=!1,n=0,o=this,i=this):(h=!0,n=1,o=u?arguments[0].elements||arguments[0].e:arguments[0]),o=f(o)){u?(q=arguments[0].properties||arguments[0].p,s=arguments[0].options||arguments[0].o):(q=arguments[n],s=arguments[n+1]);var x=o.length,y=0;if(!/^(stop|finish|finishAll)$/i.test(q)&&!m.isPlainObject(s)){var z=n+1;s={};for(var A=z;A<arguments.length;A++)p.isArray(arguments[A])||!/^(fast|normal|slow)$/i.test(arguments[A])&&!/^\d/.test(arguments[A])?p.isString(arguments[A])||p.isArray(arguments[A])?s.easing=arguments[A]:p.isFunction(arguments[A])&&(s.complete=arguments[A]):s.duration=arguments[A]}var B={promise:null,resolver:null,rejecter:null};h&&t.Promise&&(B.promise=new t.Promise(function(a,b){B.resolver=a,B.rejecter=b}));var C;switch(q){case"scroll":C="scroll";break;case"reverse":C="reverse";break;case"finish":case"finishAll":case"stop":m.each(o,function(a,b){g(b)&&g(b).delayTimer&&(clearTimeout(g(b).delayTimer.setTimeout),g(b).delayTimer.next&&g(b).delayTimer.next(),delete g(b).delayTimer),"finishAll"!==q||s!==!0&&!p.isString(s)||(m.each(m.queue(b,p.isString(s)?s:""),function(a,b){p.isFunction(b)&&b()}),m.queue(b,p.isString(s)?s:"",[]))});var D=[];return m.each(t.State.calls,function(a,b){b&&m.each(b[1],function(c,e){var f=s===d?"":s;return f===!0||b[2].queue===f||s===d&&b[2].queue===!1?void m.each(o,function(c,d){d===e&&((s===!0||p.isString(s))&&(m.each(m.queue(d,p.isString(s)?s:""),function(a,b){p.isFunction(b)&&b(null,!0)}),m.queue(d,p.isString(s)?s:"",[])),"stop"===q?(g(d)&&g(d).tweensContainer&&f!==!1&&m.each(g(d).tweensContainer,function(a,b){b.endValue=b.currentValue}),D.push(a)):("finish"===q||"finishAll"===q)&&(b[2].duration=1))}):!0})}),"stop"===q&&(m.each(D,function(a,b){l(b,!0)}),B.promise&&B.resolver(o)),a();default:if(!m.isPlainObject(q)||p.isEmptyObject(q)){if(p.isString(q)&&t.Redirects[q]){var E=m.extend({},s),F=E.duration,G=E.delay||0;return E.backwards===!0&&(o=m.extend(!0,[],o).reverse()),m.each(o,function(a,b){parseFloat(E.stagger)?E.delay=G+parseFloat(E.stagger)*a:p.isFunction(E.stagger)&&(E.delay=G+E.stagger.call(b,a,x)),E.drag&&(E.duration=parseFloat(F)||(/^(callout|transition)/.test(q)?1e3:r),E.duration=Math.max(E.duration*(E.backwards?1-a/x:(a+1)/x),.75*E.duration,200)),t.Redirects[q].call(b,b,E||{},a,x,o,B.promise?B:d)}),a()}var H="Velocity: First argument ("+q+") was not a property map, a known action, or a registered redirect. Aborting.";return B.promise?B.rejecter(new Error(H)):console.log(H),a()}C="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},J=[];m.each(o,function(a,b){p.isNode(b)&&e.call(b)});var K,E=m.extend({},t.defaults,s);if(E.loop=parseInt(E.loop),K=2*E.loop-1,E.loop)for(var L=0;K>L;L++){var M={delay:E.delay,progress:E.progress};L===K-1&&(M.display=E.display,M.visibility=E.visibility,M.complete=E.complete),w(o,"reverse",M)}return a()}};t=m.extend(w,t),t.animate=w;var x=b.requestAnimationFrame||o;return t.State.isMobile||c.hidden===d||c.addEventListener("visibilitychange",function(){c.hidden?(x=function(a){return setTimeout(function(){a(!0)},16)},k()):x=b.requestAnimationFrame||o}),a.Velocity=t,a!==b&&(a.fn.velocity=w,a.fn.velocity.defaults=t.defaults),m.each(["Down","Up"],function(a,b){t.Redirects["slide"+b]=function(a,c,e,f,g,h){var i=m.extend({},c),j=i.begin,k=i.complete,l={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},n={};i.display===d&&(i.display="Down"===b?"inline"===t.CSS.Values.getDisplayType(a)?"inline-block":"block":"none"),i.begin=function(){j&&j.call(g,g);for(var c in l){n[c]=a.style[c];var d=t.CSS.getPropertyValue(a,c);l[c]="Down"===b?[d,0]:[0,d]}n.overflow=a.style.overflow,a.style.overflow="hidden"},i.complete=function(){for(var b in n)a.style[b]=n[b];k&&k.call(g,g),h&&h.resolver(g)},t(a,l,i)}}),m.each(["In","Out"],function(a,b){t.Redirects["fade"+b]=function(a,c,e,f,g,h){var i=m.extend({},c),j={opacity:"In"===b?1:0},k=i.complete;i.complete=e!==f-1?i.begin=null:function(){k&&k.call(g,g),h&&h.resolver(g)},i.display===d&&(i.display="In"===b?"auto":"none"),t(this,j,i)}}),t}(window.jQuery||window.Zepto||window,window,document)});!function(a){"use strict";"function"==typeof require&&"object"==typeof exports?module.exports=a():"function"==typeof define&&define.amd?define(["velocity"],a):a()}(function(){"use strict";return function(a,b,c,d){var e=a.Velocity;if(!e||!e.Utilities)return void(b.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var f=e.Utilities,g=e.version,h={major:1,minor:1,patch:0};if(function(a,b){var c=[];return!(!a||!b)&&(f.each([a,b],function(a,b){var d=[];f.each(b,function(a,b){for(;b.toString().length<5;)b="0"+b;d.push(b)}),c.push(d.join(""))}),parseFloat(c[0])>parseFloat(c[1]))}(h,g)){var i="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(i),new Error(i)}e.RegisterEffect=e.RegisterUI=function(a,b){function c(a,b,c,d){var g,h=0;f.each(a.nodeType?[a]:a,function(a,b){d&&(c+=a*d),g=b.parentNode;var i=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===e.CSS.getPropertyValue(b,"boxSizing").toString().toLowerCase()&&(i=["height"]),f.each(i,function(a,c){h+=parseFloat(e.CSS.getPropertyValue(b,c))})}),e.animate(g,{height:("In"===b?"+":"-")+"="+h},{queue:!1,easing:"ease-in-out",duration:c*("In"===b?.6:1)})}return e.Redirects[a]=function(d,g,h,i,j,k,l){var m=h===i-1,n=0;l=l||b.loop,"function"==typeof b.defaultDuration?b.defaultDuration=b.defaultDuration.call(j,j):b.defaultDuration=parseFloat(b.defaultDuration);for(var o=0;o<b.calls.length;o++)"number"==typeof(t=b.calls[o][1])&&(n+=t);var p=n>=1?0:b.calls.length?(1-n)/b.calls.length:1;for(o=0;o<b.calls.length;o++){var q=b.calls[o],r=q[0],s=1e3,t=q[1],u=q[2]||{},v={};if(void 0!==g.duration?s=g.duration:void 0!==b.defaultDuration&&(s=b.defaultDuration),v.duration=s*("number"==typeof t?t:p),v.queue=g.queue||"",v.easing=u.easing||"ease",v.delay=parseFloat(u.delay)||0,v.loop=!b.loop&&u.loop,v._cacheValues=u._cacheValues||!0,0===o){if(v.delay+=parseFloat(g.delay)||0,0===h&&(v.begin=function(){g.begin&&g.begin.call(j,j);var b=a.match(/(In|Out)$/);b&&"In"===b[0]&&void 0!==r.opacity&&f.each(j.nodeType?[j]:j,function(a,b){e.CSS.setPropertyValue(b,"opacity",0)}),g.animateParentHeight&&b&&c(j,b[0],s+v.delay,g.stagger)}),null!==g.display)if(void 0!==g.display&&"none"!==g.display)v.display=g.display;else if(/In$/.test(a)){var w=e.CSS.Values.getDisplayType(d);v.display="inline"===w?"inline-block":w}g.visibility&&"hidden"!==g.visibility&&(v.visibility=g.visibility)}if(o===b.calls.length-1){var x=function(){void 0!==g.display&&"none"!==g.display||!/Out$/.test(a)||f.each(j.nodeType?[j]:j,function(a,b){e.CSS.setPropertyValue(b,"display","none")}),g.complete&&g.complete.call(j,j),k&&k.resolver(j||d)};v.complete=function(){if(l&&e.Redirects[a](d,g,h,i,j,k,l===!0||Math.max(0,l-1)),b.reset){for(var c in b.reset)if(b.reset.hasOwnProperty(c)){var f=b.reset[c];void 0!==e.CSS.Hooks.registered[c]||"string"!=typeof f&&"number"!=typeof f||(b.reset[c]=[b.reset[c],b.reset[c]])}var n={duration:0,queue:!1};m&&(n.complete=x),e.animate(d,b.reset,n)}else m&&x()},"hidden"===g.visibility&&(v.visibility=g.visibility)}e.animate(d,r,v)}},e},e.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:11}],[{translateX:-11}],[{translateX:0}]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]}],[{opacity:[1,"easeInOutQuad"]}],[{opacity:[0,"easeInOutQuad"]}],[{opacity:[1,"easeInOutQuad"]}]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15}],[{rotateZ:-10}],[{rotateZ:5}],[{rotateZ:-5}],[{rotateZ:0}]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10}],[{opacity:0,rotateY:90}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15}],[{opacity:0,rotateX:90}]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.35],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.45]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var j in e.RegisterEffect.packagedEffects)e.RegisterEffect.packagedEffects.hasOwnProperty(j)&&e.RegisterEffect(j,e.RegisterEffect.packagedEffects[j]);e.RunSequence=function(a){var b=f.extend(!0,[],a);b.length>1&&(f.each(b.reverse(),function(a,c){var d=b[a+1];if(d){var g=c.o||c.options,h=d.o||d.options,i=g&&g.sequenceQueue===!1?"begin":"complete",j=h&&h[i],k={};k[i]=function(){var a=d.e||d.elements,b=a.nodeType?[a]:a;j&&j.call(b,b),e(c)},d.o?d.o=f.extend({},h,k):d.options=f.extend({},h,k)}}),b.reverse()),e(b[0])}}(window.jQuery||window.Zepto||window,window,window?window.document:undefined)});!function(e){var r=e({});e.ajaxQueue=function(n){function t(r){u=e.ajax(n).done(a.resolve).fail(a.reject).then(r,r)}var u,a=e.Deferred(),i=a.promise();return r.queue(t),i.abort=function(o){if(u)return u.abort(o);var c=r.queue(),f=e.inArray(t,c);return f>-1&&c.splice(f,1),a.rejectWith(n.context||n,[i,o,""]),i},i}}(jQuery);var juEncode={encode:function(a,b){var c="",d="";d=a.toString();for(var e=0;e<a.length;e++){var f=a.charCodeAt(e),g=f^b;c+=String.fromCharCode(g)}return c}};var juBase64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var n,r,i,s,o,u,a;var f=0;e=juBase64._utf8_encode(e);while(f<e.length){n=e.charCodeAt(f++);r=e.charCodeAt(f++);i=e.charCodeAt(f++);s=n>>2;o=(n&3)<<4|r>>4;u=(r&15)<<2|i>>6;a=i&63;if(isNaN(r)){u=a=64}else if(isNaN(i)){a=64}t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(u)+this._keyStr.charAt(a)}return t},decode:function(e){var t="";var n,r,i;var s,o,u,a;var f=0;e=e.replace(/[^A-Za-z0-9+/=]/g,"");while(f<e.length){s=this._keyStr.indexOf(e.charAt(f++));o=this._keyStr.indexOf(e.charAt(f++));u=this._keyStr.indexOf(e.charAt(f++));a=this._keyStr.indexOf(e.charAt(f++));n=s<<2|o>>4;r=(o&15)<<4|u>>2;i=(u&3)<<6|a;t=t+String.fromCharCode(n);if(u!=64){t=t+String.fromCharCode(r)}if(a!=64){t=t+String.fromCharCode(i)}}t=juBase64._utf8_decode(t);return t},_utf8_encode:function(e){e=e.replace(/rn/g,"n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r)}else if(r>127&&r<2048){t+=String.fromCharCode(r>>6|192);t+=String.fromCharCode(r&63|128)}else{t+=String.fromCharCode(r>>12|224);t+=String.fromCharCode(r>>6&63|128);t+=String.fromCharCode(r&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var r=c1=c2=0;while(n<e.length){r=e.charCodeAt(n);if(r<128){t+=String.fromCharCode(r);n++}else if(r>191&&r<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((r&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}}
$.fn.serializeObject=function()
{var o={};var a=this.serializeArray();$.each(a,function(){if(o[this.name]){if(!o[this.name].push){o[this.name]=[o[this.name]];}
o[this.name].push(this.value||'');}else{o[this.name]=this.value||'';}});return o;};var link;var esp_route="esp."+parent.window.ju_host;if(window.location.origin.indexOf(parent.window.ju_host)!=-1&&window.location.origin.indexOf('my.'+parent.window.ju_host)==-1){esp_route='bhs-email-stage-bravo.justuno.com';}
var instaClientID="d40d5a167cbb43cdbc2498b061ab0dd0";var instaRedirectURI="https://my.justuno.com/ajax/instafollow-redirect-uri.html";var shared_type;var email_shared;var fb_connect_selected=false;var sliddowntocoupon=false;var closeeventfired=false;var personalization={};var arb={};var engaged=false;var view_timeout;var timeviewed=0;var loggedview=false;var canvasversion=0;var started_animated=false;var frameel;var overlay;var overlay_position;var prepoststatus='';var introtabexists;var pretabexists;var thankstabexists;var blurtimeout;var fetched=false;var videotype;var videoengage=false;var videoid="0";var videowidth=0;var videoheight=0;var videostart=false;var videocontrols=false;var videoduration=0;var videotime=0;var videointerval;var videoapiinitiated=false;var submit_form=false;var layer_prepoststatus;var player;var fontawesome_loaded=false;var stop_button_events=false;var jusky="whatif";var ju_config_timeout='';var engagedarray=[];var touchPresent=ju_hasTouch();var delayprepost=false;var invalid_email=invalid_email||"Your email doesn't seem to be valid";var dupEmail=(dupEmail!=''?dupEmail:"You've already given us that email address before");var select_copy=select_copy||"Select and copy";var fadeOutError=null;var ju_useBeacon=false;var hascouponlayer=false;var lauchFocused=false;window.juPromo=true;var InpageEl=window.parent.jju('#ju_iframe_'+campaignid+'.ju_inpage');var isInpage=InpageEl.length;var resubCheck=false;var juresubCheck=false;var inPageNeedsResized=0;var currentScrollPosition=-1;if('sendBeacon'in window.navigator){ju_useBeacon=true;}
$(document).ready(function(){$(document).on('change','input[type=date]',function(){if($(this).val()!=''){$(this).addClass('hideBefore');}else{$(this).removeClass('hideBefore');}})
$(document).on('keydown.juEv',function(e){if(e.key==="Escape"&&$('.design-layer[data-layertype="close"]:visible').length){close_window();}
if(e.key==="Tab"){$('.removeFocusBorder').remove();}});jju(document).on('mousemove.juEv keydown.juEv scroll.juEv touchmove.juEv',function(){parent.ju_activityAdjust();});$(document).on('click','.social-instagram-button',function(e){e.preventDefault();instaFollowClick(instaClientID,instaRedirectURI);});$(document).on('click','.design-canvas-powered',function(e){e.stopPropagation();});$(document).on('click','.design-layer[data-layertype="close"]',function(e){if(stop_button_events)return false;close_window();});$(document).on('click','.design-layer[data-layertype="push"]',function(e){if(stop_button_events)return false;lists=$(this).find('.design-layer-editable').data('tagids');parent.ju_initpush(campaignid,currentcp,eval(lists));});$(document).on('keydown','.design-layer, #ju-alert',function(e){disableEnterKey(e,$(this));});$(document).on('click','.design-layer[data-layertype="button"]',function(e){if(stop_button_events)return false;e.preventDefault();checkemail();});$(document).on('click','.design-layer[data-layertype="introbutton"]',function(e){if(stop_button_events)return false;e.preventDefault();if(promotype=="2"||promotype=="3"||promotype=="4"||promotype=="5"||promotype=="11"||!$('.design-layer[data-prepost="pre"]').length){switchprepost('post');getpromocode('15','',currentcp,0,0);getpromocode('16','',currentcp,1,1);}else{switchprepost('pre');getpromocode('15','',currentcp,0,0);}});$(document).on('click','.design-layer[data-layertype="html"] a:not([onclick*="window.open(this.href"])',function(e){e.preventDefault();e.stopPropagation();if(stop_button_events)return false;clearInterval(view_timeout);timeviewed=0;getpromocode('16','',currentcp,1,1);var navurl=$(this).attr('href');var navurl=navurl.replace('jst.ai','justuno.com');var navwindow=$(this).attr('target');if(!$(this).is('[onclick]')){if(navwindow=='_blank'){window.open(navurl,'_blank');}else{setTimeout(function(){top.location.href=navurl;},500);}}});$(document).on('click','.design-layer[data-layertype="standard-button"]',function(e){if(stop_button_events)return false;if($(this).data('prepost')!='intro'||$(this).find('.design-layer-editable').data('url')!=''||$(this).find('.design-layer-editable').data('promo')!=''){e.stopPropagation();clearInterval(view_timeout);timeviewed=0;getpromocode('16','',currentcp,1,1);if($(this).find('.design-layer-editable').data('url')!=''){var navurl=$(this).find('.design-layer-editable').data('url');var navurl=navurl.replace('jst.ai','justuno.com');var navwindow=$(this).find('.design-layer-editable').data('window');if(navwindow=='_blank'){window.open(navurl,'_blank');}else{setTimeout(function(){top.location.href=navurl;},500);}}
if($(this).find('.design-layer-editable').data('promo')!=''){var navpromo=$(this).find('.design-layer-editable').data('promo');open_promo(navpromo);}}else{if(promotype=="2"||promotype=="3"||promotype=="4"||promotype=="5"||promotype=="11"||!$('.design-layer[data-prepost="pre"]').length){switchprepost('post');getpromocode('15','',currentcp,0,0);getpromocode('16','',currentcp,1,1);}else{switchprepost('pre');getpromocode('15','',currentcp,0,0);}}});$(document).on('click','.design-layer[data-layertype="sms-button"]',function(e){if(stop_button_events)return false;e.stopPropagation();var smsnumber=$(this).find('.design-layer-editable').data('sms-number').toString();var smsmessage=$(this).find('.design-layer-editable').data('sms-message');getpromocode('23','',currentcp,1,1);setTimeout(function(){top.location.href='sms:'+smsnumber.replace(/\D/g,'')+'?&body='+encodeURIComponent(smsmessage);},200);clearInterval(view_timeout);timeviewed=0;if($(this).find('.design-layer-editable').data('url')!=''||$(this).find('.design-layer-editable').data('promo')!=''){if($(this).find('.design-layer-editable').data('url')!=''){var navurl=$(this).find('.design-layer-editable').data('url');var navwindow=$(this).find('.design-layer-editable').data('window');if(navwindow=='_blank'){window.open(navurl,'_blank');}else{setTimeout(function(){top.location.href=navurl;},500);}}
if($(this).find('.design-layer-editable').data('promo')!=''){var navpromo=$(this).find('.design-layer-editable').data('promo');open_promo(navpromo);}}});$(document).on('click','.design-layer[data-layertype="icon"]',function(e){if(stop_button_events)return false;if($(this).find('.design-layer-editable').data('url')!==undefined&&$(this).find('.design-layer-editable').data('url').length>0){e.stopPropagation();clearInterval(view_timeout);timeviewed=0;getpromocode('16','',currentcp,1,1);var navurl=$(this).find('.design-layer-editable').data('url');var navurl=navurl.replace('jst.ai','justuno.com');var navwindow=$(this).find('.design-layer-editable').data('window');if(navwindow==='_blank'){window.open(navurl,'_blank');}else{setTimeout(function(){top.location.href=navurl;},500);}}});$(document).on('click','.design-layer[data-layertype="coupon"]',function(e){if(stop_button_events)return false;clearInterval(view_timeout);timeviewed=0;if(prepoststatus=='post'&&!thankstabexists){getpromocode('16','',currentcp,1,1);}});$(document).on((touchPresent?'touchstart':'mousedown'),'.design-layer[data-layertype="close"]',function(e){if(stop_button_events)return false;e.stopPropagation();if($(this).find('.design-layer-editable').data('url')!=''){var navurl=$(this).find('.design-layer-editable').data('url');setTimeout(function(){top.location.href=navurl;},500);}});$(document).on('click','.fb-connect',function(e){e.preventDefault();addpermissions();});$(document).on('click','.social-pinterest-button',function(e){e.preventDefault();window.open("https://pinterest.com/"+$(this).closest('.design-layer-editable').data('pinterest-username'),"","menubar=1,resizable=1,width=800,height=500");getpromocode('7','',currentcp,1,1);});$(document).on('click','.fb-share-link',function(e){e.preventDefault();var thisfbbutton=$(this).closest('.design-layer-editable[data-facebook-connect="checked"]');fb_share(thisfbbutton.data('facebook-title'),thisfbbutton.data('facebook-link-shortened'),thisfbbutton.data('facebook-photo'),thisfbbutton.data('facebook-description'));});$(document).on('click','.design-layer[data-layertype="incent_button"]',function(e){e.stopPropagation()
if(stop_button_events)return false;$('.inputerror').removeClass('inputerror');var form_element=$('.design-layer[data-layertype="frame"] .design-layer-editable:first');$('#justuno_form').attr('action',form_element.data('form-action'));window.submittedprepoststatus=prepoststatus;$('#justuno_form').submit();});$('#justuno_form').submit(function(event){var form_element=$('.design-layer[data-layertype="frame"] .design-layer-editable:first');if(submit_form){if(form_element.data('integ_type')!=='custom-embed'&&!$('input[name="integ_type"]').length){$('#justuno_form').append(['<input type="hidden" data-special="true" name="integ_type" value="'+form_element.data('integ_type')+'" />','<input type="hidden" data-special="true" name="reactstate" value="'+form_element.data('reactstate')+'" />','<input type="hidden" data-special="true" name="p" value="'+previewmode+'" />','<input type="hidden" data-special="true" name="acguid" value="'+ac_guid+'" />','<input type="hidden" data-special="true" name="cm" value="'+campaignid+'" />','<input type="hidden" data-special="true" name="list_id" value="'+form_element.data('list_id')+'" />','<input type="hidden" data-special="true" name="segment_ids" value="'+form_element.data('segment_ids')+'" />','<input type="hidden" data-special="true" name="merge_fields" value="'+form_element.data('merge_fields')+'" />','<input type="hidden" data-special="true" name="group_ids" value="'+form_element.data('group_ids')+'" />','<input type="hidden" data-special="true" name="selclientid" value="'+form_element.data('selclientid')+'" />','<input type="hidden" data-special="true" name="resub" value="'+form_element.data('resub')+'" />','<input type="hidden" data-special="true" name="status" value="'+form_element.data('status')+'" />'].join(''))}}
if(!$('.design-layer[data-layertype="incent_button"]').length){return false;}
var stopsubmit=false;var formemail='';$(':focus').blur();if(!submit_form){$('input:visible, textarea:visible').each(function(){$(this).val($.trim($(this).val()));});}
$('.design-layer[data-layertype="incent_text"][data-visible="true"] input[required], .design-layer[data-layertype="incent_select"][data-visible="true"] select[required], .design-layer[data-layertype="incent_textarea"][data-visible="true"] textarea[required]').each(function(){if($(this).closest('.design-layer').data('prepost')!='both'&&$(this).closest('.design-layer').data('prepost')!=submittedprepoststatus)return;var thisval=$(this).val();if(thisval==''){stopsubmit=true;$(this).addClass('inputerror').attr("aria-invalid","true").css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}else{$(this).attr("aria-invalid","false").css({'border':'2px solid #00a64b'});}});$('.design-layer[data-layertype="incent_radio"][data-visible="true"] input[required]').each(function(){if($(this).closest('.design-layer').data('prepost')!='both'&&$(this).closest('.design-layer').data('prepost')!=submittedprepoststatus)return;var groupname=$(this).attr('name');if(!$('input[type="radio"][name="'+groupname+'"]:checked').length){stopsubmit=true;$(this).addClass('inputerror')
$(this).closest('.design-layer').attr("aria-invalid","true").css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}else{$(this).closest('.design-layer').attr("aria-invalid","false").css({'border':'2px solid #00a64b'});}});$('.design-layer[data-layertype="incent_checkbox"][data-visible="true"] input[required]').each(function(){if($(this).closest('.design-layer').data('prepost')!='both'&&$(this).closest('.design-layer').data('prepost')!=submittedprepoststatus)return;var groupname=$(this).attr('name');if(!$('input[type="checkbox"][name="'+groupname+'"]:checked').length){stopsubmit=true;$(this).addClass('inputerror')
$(this).closest('.design-layer').attr("aria-invalid","true").css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}else{$(this).closest('.design-layer').attr("aria-invalid","false").css({'border':'2px solid #00a64b'});}});$('.design-layer[data-layertype="incent_text"][data-visible="true"] input').each(function(){if($(this).closest('.design-layer').data('prepost')!='both'&&$(this).closest('.design-layer').data('prepost')!=submittedprepoststatus)return;if($(this).attr('type')=='tel'&&($(this).attr('pattern')=='^\\d{10,14}$'||$(this).attr('pattern')=='^\\d{10,15}$'))$(this).val($(this).val().replace(/\D/g,''));if(!$(this)[0].checkValidity()){stopsubmit=true;$(this).addClass('inputerror').attr("aria-invalid","true").css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}else{$(this).attr("aria-invalid","false").css({'border':'2px solid #00a64b'});}});$('.design-layer[data-layertype="incent_text"][data-visible="true"] input[data-validation^="intl"]').each(function(){if($(this).closest('.design-layer').data('prepost')!='both'&&$(this).closest('.design-layer').data('prepost')!=submittedprepoststatus)return;if(!$(this)[0].checkValidity()||(!window['intl_'+$(this).closest('.design-layer').data('layerid')].isValidNumber()&&$(this).val()!='')){var invalid_phone=invalid_phone||window['intl_'+$(this).closest('.design-layer').data('layerid')].getValidationError();if(!isNaN(invalid_phone)){switch(invalid_phone){case 1:invalid_phone="Invalid Country Code"
break;case 2:invalid_phone="Phone number is too short"
break;case 3:invalid_phone="Phone number is too long"
break;default:invalid_phone="Invalid Phone Number"}}
showModalAlert(invalid_phone,true);stopsubmit=true;$(this).addClass('inputerror').attr("aria-invalid","true").css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}else{if($(this).data('validation')=='intl-country-code'){var number=window['intl_'+$(this).closest('.design-layer').data('layerid')].getNumber(intlTelInputUtils.numberFormat.E164);$(this).val(number.replace('+',''));}
$(this).attr("aria-invalid","false").css({'border':'2px solid #00a64b'});}});if(stopsubmit){return false;}else{var attentiveVisitorId=document.cookie.replace(/(?:(?:^|.*;\s*)__attentive_id\s*=\s*([^;]*).*$)|^.*$/,"$1");if(!submit_form){$('.design-layer[data-layertype="incent_text"][data-visible="true"] .design-layer-editable, .design-layer[data-layertype="incent_textarea"][data-visible="true"] .design-layer-editable').each(function(){var thisval=$(this).val();var emailReg=/^([\w-\.\+]+@[\w-\.\+]+\.+[\w-]{2,10})?$/;var emailaddressVal=thisval;emailaddressVal=$.trim(emailaddressVal);if((($(this).attr('name')+'').toLowerCase().indexOf('email')>-1&&($(this).attr('name')+'').toLowerCase().indexOf('emails')==-1)||(($(this).attr('placeholder')+'').toLowerCase().indexOf('email')>-1&&($(this).attr('placeholder')+'').toLowerCase().indexOf('emails')==-1)||emailReg.test('a'+emailaddressVal)){if(!emailReg.test(emailaddressVal)){showModalAlert(invalid_email,true);stopsubmit=true;$(this).attr("aria-invalid","true").addClass('inputerror').css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}else{formemail=emailaddressVal;$(this).attr("aria-invalid","false").css({'border':'2px solid #00a64b'});}}});if(!stopsubmit){esp_validation(formemail,10);}
return false;}else if(form_element.data('form-action')=='https://www.'+parent.window.ju_host+'/'||form_element.data('form-action')=='https://my.'+parent.window.ju_host+'/'){if(form_element.data('sms')){var formObj=$('#justuno_form').serializeObject();if(!formObj.acguid)formObj.acguid=ac_guid;if(!formObj.promoid)formObj.promoid=campaignid;formObj.url=parent.ju_current_url_protocol+parent.ju_current_url;if(form_element.data('sms')=='attentive-mobile')formObj.visitorId=attentiveVisitorId;ju_safepost('https://'+esp_route+'/api/integrations/sms/'+form_element.data('sms')+'/subscription/subscribe','POST','text/plain',JSON.stringify(formObj),false,true)}
return false;}else if(form_element.data('form-action').replace('esp.'+parent.window.ju_host,esp_route).indexOf(esp_route)!=-1||form_element.data('sms')){var formObj=$('#justuno_form').serializeObject();formObj.url=parent.ju_current_url_protocol+parent.ju_current_url;if(form_element.data('sms')){if(!formObj.acguid)formObj.acguid=ac_guid;if(!formObj.promoid)formObj.promoid=campaignid;if(form_element.data('sms')=='attentive-mobile')formObj.visitorId=attentiveVisitorId;ju_safepost('https://'+esp_route+'/api/integrations/sms/'+form_element.data('sms')+'/subscription/subscribe','POST','text/plain',JSON.stringify(formObj),false,true)}
if(form_element.data('form-action').replace('esp.'+parent.window.ju_host,esp_route).indexOf(esp_route)!=-1){var formPostUrl=form_element.data('form-action').replace('esp.'+parent.window.ju_host,esp_route);ju_safepost(formPostUrl,'POST','text/plain',JSON.stringify(formObj),false,true);return false;}}}});$(document).on('blur','input, select, textarea',function(){blurtimeout=setTimeout(function(){var pass_data={'stoptop':false};parent.jju_receiveMessage(pass_data);},500);setTimeout(function(){if(currentScrollPosition>-1&&previewmode!="1"){parent.document.documentElement.scrollTop=currentScrollPosition;}},50);});$(document).on('focus, click','input, select, textarea',function(){clearTimeout(blurtimeout);var pass_data={'stoptop':true};parent.jju_receiveMessage(pass_data);});$(document).on('click','.design-layer-editable[data-id="optout"]',function(){var pass_data={'optout':true};parent.jju_receiveMessage(pass_data);});$(document).on('click','#ju-alert, #modal-close',function(e){e.preventDefault();$("#modal-content,#ju-alert").toggleClass("active");setTimeout(function(){$('.inputerror').focus();},100)});if(window.ju_shoplogin_config)shopPayLogin();});function setbackgroundimage(layerid){if(layerid==0){var thisparent=$('.design-layer[data-layertype="frame"]');}else{var thisparent=$('.design-layer[data-layerid="'+layerid+'"]');}
var thislayer=thisparent.find('.design-layer-editable:first');var thiscss_array=thislayer.attr('style').split(';');var thiscss='';$.each(thiscss_array,function(index,value){if(value.indexOf('background-')==-1&&value.indexOf('linear-gradient')==-1&&value!=''){thiscss+=value+';';}});var bgcss='';var gradient=thislayer.data('background-color')!=thislayer.data('gradient-color')&&thislayer.data('gradient-color')!='undefined';if(gradient){if(thislayer.data('direction')===undefined){thislayer.data('direction','to top');}
bgcss+='background-image:-moz-linear-gradient('+thislayer.data('direction').replace('to ','')+', '+thislayer.data('background-color')+', '+(thislayer.data('background-color')==''?thislayer.data('background-color'):thislayer.data('gradient-color'))+');';bgcss+='background-image:linear-gradient('+thislayer.data('direction')+', '+thislayer.data('background-color')+', '+(thislayer.data('background-color')==''?thislayer.data('background-color'):thislayer.data('gradient-color'))+');';bgcss+='background-image:-webkit-linear-gradient('+thislayer.data('direction').replace('to ','')+', '+thislayer.data('background-color')+', '+(thislayer.data('background-color')==''?thislayer.data('background-color'):thislayer.data('gradient-color'))+');';bgcss+='background-image:-ms-linear-gradient('+thislayer.data('direction').replace('to ','')+', '+thislayer.data('background-color')+', '+(thislayer.data('background-color')==''?thislayer.data('background-color'):thislayer.data('gradient-color'))+');';bgcss+='background-image:-o-linear-gradient('+thislayer.data('direction').replace('to ','')+', '+thislayer.data('background-color')+', '+(thislayer.data('background-color')==''?thislayer.data('background-color'):thislayer.data('gradient-color'))+');';if(thisparent.data('layertype')=='frame'){bgcss+=(thislayer.data('background-image-'+prepoststatus)=='none'?'filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=\''+rgba2hex(thislayer.data('background-color'))+'\', endColorstr=\''+(thislayer.data('background-color')==''?rgba2hex(thislayer.data('background-color')):rgba2hex(thislayer.data('gradient-color')))+'\');':'');}else{bgcss+=(thislayer.data('background-image')=='none'?'filter: progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=\''+rgba2hex(thislayer.data('background-color'))+'\', endColorstr=\''+(thislayer.data('background-color')==''?rgba2hex(thislayer.data('background-color')):rgba2hex(thislayer.data('gradient-color')))+'\');':'');}}else{bgcss+='background-color:'+thislayer.data('background-color')+';';}
if(gradient&&thisparent.data('layertype')=='frame'){var gradAdd='linear-gradient('+thislayer.data('direction')+', '+thislayer.data('background-color')+', '+(thislayer.data('background-color')==''?thislayer.data('background-color'):thislayer.data('gradient-color'))+')';bgcss+=(thislayer.data('background-image-'+prepoststatus)!='none'&&thislayer.data('background-image-'+prepoststatus)!=undefined?'background-color:'+thislayer.data('background-color')+';background-image:url('+thislayer.data('background-image-'+prepoststatus)+(thislayer.data('background-image-'+prepoststatus).toLowerCase().indexOf('.gif')>-1?'?rnd='+Math.random():'')+'), '+gradAdd+';':'');bgcss+='background-repeat:no-repeat;background-position:center center;background-size: 100% 100%;';}else if(thisparent.data('layertype')=='frame'){bgcss+=(thislayer.data('background-image-'+prepoststatus)!='none'&&thislayer.data('background-image-'+prepoststatus)!=undefined?'background-color:'+thislayer.data('background-color')+';background-image:url('+thislayer.data('background-image-'+prepoststatus)+(thislayer.data('background-image-'+prepoststatus).toLowerCase().indexOf('.gif')>-1?'?rnd='+Math.random():'')+');':'');bgcss+='background-repeat:no-repeat;background-position:center center;background-size: 100% 100%;';}else if(gradient){var gradAdd='linear-gradient('+thislayer.data('direction')+', '+thislayer.data('background-color')+', '+(thislayer.data('background-color')==''?thislayer.data('background-color'):thislayer.data('gradient-color'))+')';bgcss+=(thislayer.data('background-image')!='none'&&thislayer.data('background-image')!=undefined?'background-color:'+thislayer.data('background-color')+';background-image:url('+thislayer.data('background-image')+(thislayer.data('background-image').toLowerCase().indexOf('.gif')>-1?'?rnd='+Math.random():'')+'), '+gradAdd+';':'');bgcss+='background-repeat:no-repeat;background-position:center center;background-size: 100%;';}else{bgcss+=(thislayer.data('background-image')!='none'&&thislayer.data('background-image')!=undefined?'background-color:'+thislayer.data('background-color')+';background-image:url('+thislayer.data('background-image')+(thislayer.data('background-image').toLowerCase().indexOf('.gif')>-1?'?rnd='+Math.random():'')+');':'');bgcss+='background-repeat:no-repeat;background-position:center center;background-size: 100%;';}
thislayer.attr('style',thiscss+bgcss);}
function facebook_transition(liked,email){if(fb_connect_selected){$('.ju-share-container li:not(.facebook-like,.transition-arrows)').animate({width:"0px"},300,function(){$('.ju-share-container li:not(.facebook-like,.transition-arrows)').hide();$('.ju-share-container li.transition-arrows').fadeIn();})
if(typeof(ju_fb_tran_connect)!=='undefined'&&typeof(ju_fb_tran_connect)==='function'){ju_fb_tran_connect(liked,email);};}else{if(typeof(ju_fb_tran_connected)!=='undefined'&&typeof(ju_fb_tran_connected)==='function'){ju_fb_tran_connected(liked,email);};}}
function stop_videos(){try{player.stopVideo();}catch(err){};try{player.pause();}catch(err){};}
function ju_autoScrollToActiveElement(elem){try{var $win=jju(parent.window)
var viewport_height=$win.height()
var $elem=jju(elem)
var top=$elem.offset().top
return(viewport_height>=(top+5));}catch(e){};}
function close_window(promoid){if(typeof promoid==="undefined"){promoid=campaignid;}
stop_videos();clearInterval(view_timeout);setTimeout(function(){if(timeviewed>=8&&overlay_position==4&&promoid==campaignid&&$('body:visible').length){getpromocode('17','',currentcp,0,1);}
var pass_data={'close':true,'promoid':promoid};parent.jju_receiveMessage(pass_data);},20);}
function open_promo(id,keepopen){clearInterval(view_timeout);keepopen=keepopen||false;setTimeout(function(){var pass_data={'openpromo':id,'promoid':campaignid,'keepopen':keepopen};parent.jju_receiveMessage(pass_data);},100);}
function ju_debounce(fn,delay,allowcooldown){allowcooldown=allowcooldown.toLowerCase()
var cooldown=null
var multiple=null
return function(){var self=this
var args=arguments
if(cooldown){multiple=true
clearTimeout(cooldown)}else if(allowcooldown=='both'||allowcooldown=='start'){fn.apply(self,args)}
cooldown=setTimeout(function(){if(allowcooldown=='end'||(multiple&&allowcooldown=='both')){fn.apply(self,args)}
cooldown=null
multiple=null},delay)}}
function ju_throttle(fn,threshhold,scope){threshhold||(threshhold=250);var last,deferTimer;return function(){var context=scope||this;var now=+new Date,args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args);},threshhold);}else{last=now;fn.apply(context,args);}};}
function adjustlayer(thislayer,activate){var layerwidth=(thislayer.data('layerwidth').toString().indexOf('%')!=-1?(parseFloat(thislayer.data('layerwidth').replace('%',''))/100)*parseFloat($(".design-layer[data-layertype='frame']").css('width')):parseFloat(thislayer.data('layerwidth')));var layerheight=(thislayer.data('layerheight').toString().indexOf('%')!=-1?(parseFloat(thislayer.data('layerheight').replace('%',''))/100)*parseFloat($(".design-layer[data-layertype='frame']").css('height')):parseFloat(thislayer.data('layerheight')));if(thislayer.data('layertype')!='frame'){thislayer.css({'width':layerwidth,'height':layerheight})
thislayer.find('.layer-wiziwig, .layer-snippet').css({"height":(layerheight-(thislayer.children('.design-layer-editable').data('padding')*2)-(thislayer.children('.design-layer-editable').data('border-width')*2)),"width":(layerwidth-(thislayer.children('.design-layer-editable').data('padding')*2)-(thislayer.children('.design-layer-editable').data('border-width')*2))});}}
function updateLayerPos(el){var frameel=$('.design-layer[data-layertype="frame"]');var framecontainer=$('.frame-container');var framecontainer_position=framecontainer.position();var framecontainer_left=framecontainer_position.left.toFixed(1).replace('.0','');var framecontainer_top=framecontainer_position.top.toFixed(1).replace('.0','');(el?el:$('.design-layer[data-layertype!="frame"]')).each(function(index,value){adjustlayer($(this),false);});(el?el.find('.design-layer-editable[data-sticky="top left"]'):$('.design-layer .design-layer-editable[data-sticky="top left"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":(thisoffsetLeft-parseInt(framecontainer_left))+"px","right":"auto","top":(thisoffsetTop-parseInt(framecontainer_top))+"px","bottom":"auto"});});(el?el.find('.design-layer-editable[data-sticky="top center"]'):$('.design-layer .design-layer-editable[data-sticky="top center"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":(-parseInt(framecontainer_left)+(frameel.width()/2)-($(this).closest('.design-layer').width()/2))+"px","right":"auto","top":(thisoffsetTop-parseInt(framecontainer_top))+"px","bottom":"auto"});});(el?el.find('.design-layer-editable[data-sticky="top right"]'):$('.design-layer .design-layer-editable[data-sticky="top right"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"right":(thisoffsetRight-parseInt(framecontainer_left))+"px","left":"auto","top":(thisoffsetTop-parseInt(framecontainer_top))+"px","bottom":"auto"});});(el?el.find('.design-layer-editable[data-sticky="left"]'):$('.design-layer .design-layer-editable[data-sticky="left"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":(thisoffsetLeft-parseInt(framecontainer_left))+"px","right":"auto"});});(el?el.find('.design-layer-editable[data-sticky="full center"]'):$('.design-layer .design-layer-editable[data-sticky="full center"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
var leftMargin=(-parseInt(framecontainer_left)+(frameel.width()/2)-($(this).closest('.design-layer').width()/2));var topMargin=(-parseInt(framecontainer_top)+(frameel.height()/2)-($(this).closest('.design-layer').height()/2));$(this).closest('.design-layer').css({"left":leftMargin+"px","right":"auto","top":topMargin+"px","bottom":"auto"});});(el?el.find('.design-layer-editable[data-sticky="vert center"]'):$('.design-layer .design-layer-editable[data-sticky="vert center"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
var topMargin=(-parseInt(framecontainer_top)+(frameel.height()/2)-($(this).closest('.design-layer').height()/2));$(this).closest('.design-layer').css({"top":topMargin+"px","bottom":"auto"});});(el?el.find('.design-layer-editable[data-sticky="center"]'):$('.design-layer .design-layer-editable[data-sticky="center"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
var leftMargin=(-parseInt(framecontainer_left)+(frameel.width()/2)-($(this).closest('.design-layer').width()/2));$(this).closest('.design-layer').css({"left":leftMargin+"px","right":"auto"});});(el?el.find('.design-layer-editable[data-sticky="right"]'):$('.design-layer .design-layer-editable[data-sticky="right"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":"auto","right":(thisoffsetRight-parseInt(framecontainer_left))+"px"});});(el?el.find('.design-layer-editable[data-sticky="bot left"]'):$('.design-layer .design-layer-editable[data-sticky="bot left"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":(thisoffsetLeft-parseInt(framecontainer_left))+"px","right":"auto","bottom":(thisoffsetBottom-parseInt(framecontainer_top))+"px","top":"auto"});});(el?el.find('.design-layer-editable[data-sticky="bot center"]'):$('.design-layer .design-layer-editable[data-sticky="bot center"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":(-parseInt(framecontainer_left)+(frameel.width()/2)-($(this).closest('.design-layer').width()/2))+"px","right":"auto","bottom":(thisoffsetBottom-parseInt(framecontainer_top))+"px","top":"auto"});});(el?el.find('.design-layer-editable[data-sticky="bot right"]'):$('.design-layer .design-layer-editable[data-sticky="bot right"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"right":(thisoffsetRight-parseInt(framecontainer_left))+"px","left":"auto","bottom":(thisoffsetBottom-parseInt(framecontainer_top))+"px","top":"auto"});});(el?el.find('.design-layer-editable[data-sticky="full absolute"]'):$('.design-layer .design-layer-editable[data-sticky="full absolute"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":(thisoffsetLeft-parseInt(framecontainer_left))+"px","right":(thisoffsetRight-parseInt(framecontainer_left))+"px","top":(thisoffsetTop-parseInt(framecontainer_top))+"px","bottom":(thisoffsetBottom-parseInt(framecontainer_top))+"px","height":"auto","width":"auto","max-width":"none","min-width":"10px","max-height":"none","min-height":"10px"});});(el?el.find('.design-layer-editable[data-sticky="vert absolute"]'):$('.design-layer .design-layer-editable[data-sticky="vert absolute"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"top":(thisoffsetTop-parseInt(framecontainer_top))+"px","bottom":(thisoffsetBottom-parseInt(framecontainer_top))+"px","height":"auto","max-height":"none","min-height":"10px"});});(el?el.find('.design-layer-editable[data-sticky="horz absolute"]'):$('.design-layer .design-layer-editable[data-sticky="horz absolute"]')).each(function(index,value){var thisoffsetLeft=$(this).data('offset-left')
var thisoffsetRight=$(this).data('offset-right')
var thisoffsetTop=$(this).data('offset-top')
var thisoffsetBottom=$(this).data('offset-bottom')
if(thisoffsetLeft.toString().indexOf('%')!=-1){thisoffsetLeft=frameel.width()*(parseFloat(thisoffsetLeft.replace('%',''))/100);}else{thisoffsetLeft=$.isNumeric(thisoffsetLeft)?thisoffsetLeft:0;}
if(thisoffsetRight.toString().indexOf('%')!=-1){thisoffsetRight=frameel.width()*(parseFloat(thisoffsetRight.replace('%',''))/100);}else{thisoffsetRight=$.isNumeric(thisoffsetRight)?thisoffsetRight:0;}
if(thisoffsetTop.toString().indexOf('%')!=-1){thisoffsetTop=frameel.height()*(parseFloat(thisoffsetTop.replace('%',''))/100);}else{thisoffsetTop=$.isNumeric(thisoffsetTop)?thisoffsetTop:0;}
if(thisoffsetBottom.toString().indexOf('%')!=-1){thisoffsetBottom=frameel.height()*(parseFloat(thisoffsetBottom.replace('%',''))/100);}else{thisoffsetBottom=$.isNumeric(thisoffsetBottom)?thisoffsetBottom:0;}
$(this).closest('.design-layer').css({"left":(thisoffsetLeft-parseInt(framecontainer_left))+"px","right":(thisoffsetRight-parseInt(framecontainer_left))+"px","width":"auto","max-width":"none","min-width":"10px"});});(el?el.find('.layer-wiziwig:visible, .layer-snippet:visible'):$('.layer-wiziwig:visible, .layer-snippet:visible')).each(function(index,value){$(this).css({"height":$(this).closest('.design-layer-editable').height(),"width":$(this).closest('.design-layer-editable').width()});});}
var resize_frame=ju_throttle(function(effect,ev){var frameel=$('.design-layer[data-layertype="frame"]');if(!frameel.length){resize_frame(effect,ev);}
window.parent.jju('#ju_Con_'+campaignid).css({'height':'100%'});switchprepost(prepoststatus);var overlay_offset=parseInt(overlay.data('offset'));var overlay_push=overlay.data('push');var overlay_dim=overlay.data('dim');var frameelpos=frameel.position();var isPercentWidth=popup_json.design.popup.layers[0].layerwidth.toString().indexOf('%')!=-1;var isPercentHeight=popup_json.design.popup.layers[0].layerheight.toString().indexOf('%')!=-1;if(isInpage){if(isPercentWidth){var canvaswidth=InpageEl.width()*(parseFloat(popup_json.design.popup.layers[0].layerwidth.replace('%',''))/100)}else{var canvaswidth=parseFloat(popup_json.design.popup.layers[0].layerwidth.toString().replace('%',''));}
if(isPercentHeight){var canvasheight=InpageEl.height()*(parseFloat(popup_json.design.popup.layers[0].layerheight.replace('%',''))/100)}else{var canvasheight=parseFloat(popup_json.design.popup.layers[0].layerheight.toString().replace('%',''));}}else{var canvaswidth=window.parent.ju_windowWidth
var canvasheight=window.parent.ju_windowHeight}
var framecontainer=$('.frame-container');var thiswidth=frameel.width();var thisheight=frameel.height();var x=(canvaswidth-thiswidth)/2;var y=(canvasheight-thisheight)/2;if(overlay_position==9||overlay_position==10){framecontainer.css({"width":"0px","left":(canvaswidth/2)+"px"});}else if(frameel.data('layerwidth').toString().indexOf('%')!=-1){framecontainer.css({"width":"0px","left":(thiswidth/2)+"px"});}else{framecontainer.css({"width":frameel.data('layerwidth'),"left":"0px"});}
if(isNaN(x)||isNaN(y)){resize_frame(effect,ev)}
if(!loggedview&&effect){loggedview=true;}
var xstart=x;var ystart=y;var addition_x=0;var addition_y=0;var addition_h=0;var addition_w=0;var max_add_x=10;var max_add_y=10;var max_add_h=10;var max_add_w=10;$('.design-layer[data-layertype!="frame"][data-visible="true"]').each(function(){var thisx=$(this).data('layerx');var thisy=$(this).data('layery');var thispx=Math.abs(thisx);var thispy=Math.abs(thisy);var thisw=Math.abs(thisx)+$(this).data('layerwidth');var thish=Math.abs(thisy)+$(this).data('layerheight');if(overlay_position==9){var thish=thisy+$(this).data('layerheight');}
if(thisx<0){if(thispx>max_add_x)max_add_x=thispx;}
if(thisy<0){if(thispy>max_add_y)max_add_y=thispy;}
if(thisw>(thisx<0?thispx:0)+thiswidth){if(thispx+thiswidth>max_add_w){max_add_w=thisw-thiswidth;}}
if(thish>(thisy<0?thispy:0)+thisheight){if(thispy+thisheight>max_add_h)max_add_h=thish-thisheight;}})
max_add_x=(max_add_x>75)?75:max_add_x;max_add_y=(max_add_y>50)?50:max_add_y;max_add_h=(max_add_h>50)?50:max_add_h;max_add_w=(max_add_w>75)?75:max_add_w;switch(overlay_position){case 0:x=0;y=0;ystart=-thisheight;xstart=x;if(!isPercentWidth)addition_w=max_add_w;if(!isPercentHeight)addition_h=max_add_h;break;case 1:y=0;ystart=-thisheight;xstart=0;if(!isPercentWidth)addition_x=max_add_x;if(!isPercentWidth)addition_w=max_add_w;if(!isPercentHeight)addition_h=max_add_h;break;case 2:y=0;x=canvaswidth-thiswidth;ystart=-thisheight;xstart=0;if(!isPercentWidth)addition_x=max_add_x;if(!isPercentHeight)addition_h=max_add_h;break;case 3:x=0;xstart=-thiswidth;ystart=0;if(!isPercentWidth)addition_w=max_add_w;if(!isPercentHeight)addition_y=max_add_y;if(!isPercentHeight)addition_h=max_add_h;break;case 4:ystart=-thisheight;y=y<0?0:y;break;case 5:x=canvaswidth-thiswidth;xstart=thiswidth;ystart=0;if(!isPercentWidth)addition_x=max_add_x;if(!isPercentHeight)addition_y=max_add_y;if(!isPercentHeight)addition_h=max_add_h;break;case 6:x=0;y=canvasheight-thisheight;ystart=thisheight;xstart=0;if(!isPercentWidth)addition_w=max_add_w;if(!isPercentHeight)addition_y=max_add_y;break;case 7:y=canvasheight-thisheight;ystart=thisheight;xstart=0;if(!isPercentWidth)addition_x=max_add_x;if(!isPercentWidth)addition_w=max_add_w;if(!isPercentHeight)addition_y=max_add_y;break;case 8:x=canvaswidth-thiswidth;y=canvasheight-thisheight;ystart=canvasheight+thisheight;xstart=0;if(!isPercentWidth)addition_x=max_add_x;if(!isPercentHeight)addition_y=max_add_y;break;case 9:ystart=-thisheight;xstart=0;x=0;y=0;if(!isPercentHeight)addition_h=max_add_h;break;case 10:ystart=canvasheight+thisheight;x=0;y=canvasheight-thisheight;if(!isPercentHeight)addition_y=max_add_y;if(!isPercentHeight)addition_h=max_add_h;break;};if(ju_mobile&&!fixed&&overlay_position!=4){y=y+scroll_top;}
var pass_data={'changecon':true,'promoid':campaignid,'overlayposition':(overlay_position!==undefined?overlay_position:4),'c_x':x-addition_x,'c_y':y-addition_y,'c_w':(isPercentWidth?canvaswidth*(parseFloat(popup_json.design.popup.layers[0].layerwidth.replace('%',''))/100):thiswidth+addition_x+addition_w),'c_h':(isPercentHeight?canvasheight*(parseFloat(popup_json.design.popup.layers[0].layerheight.replace('%',''))/100):thisheight+addition_y+addition_h)};if(isPercentWidth){if(isInpage){$('.design-layer[data-layertype="frame"]').width(canvaswidth);x=(InpageEl.width()-canvaswidth)/2;}else{$('.design-layer[data-layertype="frame"]').width(canvaswidth*(parseFloat(popup_json.design.popup.layers[0].layerwidth.replace('%',''))/100)-addition_x-addition_w);}
framecontainer.css({"width":"0px","left":(thiswidth/2)+"px"});}else{if(isInpage)x=(InpageEl.width()-canvaswidth)/2;}
if(isPercentHeight){if(isInpage){}else{$('.design-layer[data-layertype="frame"]').height(canvasheight*(parseFloat(popup_json.design.popup.layers[0].layerheight.replace('%',''))/100)-addition_y-addition_h);}
framecontainer.css({"height":"0px","top":(thisheight/2)+"px"});}else{}
if(!window.resizedOnce){window.resizedOnce=true;resize_frame(effect,ev);return;}
positionFr();parent.jju_receiveMessage(pass_data);if(overlay_position!=4){x=0;y=0;}
if(iframe&&y<0)return 1;if(effect){if(overlay_dim!='no'&&overlay_position==4&&!iframe){var pass_data={'fadeinoverlay':true,'promoid':campaignid};parent.jju_receiveMessage(pass_data);}
var etype=overlay.data('effect');if(overlay.data('push')=='push'&&overlay_position==9){if(etype=='slidein'){var pass_data={'pushdown':'slide','promoid':campaignid,'distance':thisheight};}else{var pass_data={'pushdown':'other','promoid':campaignid,'distance':thisheight};}
parent.jju_receiveMessage(pass_data);}
x=x+addition_x;y=y+addition_y;xstart=xstart+addition_x;ystart=ystart+addition_y;if(!started_animated){started_animated=true;setTimeout(function(){if($('body:visible').length){aniCallback(ev)}},510);switch(etype){case 'none':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1},0);break;case 'fadein':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:[1,0]},500);break;case 'slidein':frameel.stop().velocity({left:[x,xstart],top:[y,ystart],scale:1,opacity:1},500);break;case 'zoomin':frameel.stop().velocity({left:[x,x],top:[y,y],scale:[1,.5],opacity:[1,0],rotateZ:0},500);break;case 'zoomout':frameel.stop().velocity({left:[x,x],top:[y,y],scale:[1,1.4],opacity:[1,0],rotateZ:0},500);break;case 'hflip':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('transition.flipXIn',500);break;case 'vflip':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('transition.flipYIn',500);break;case 'rotate':frameel.stop().velocity({left:[x,x],top:[y,y],scale:[1,0],opacity:[1,0],rotateZ:[360,0]},500);break;case 'shake':frameel.stop().velocity({left:[x,x],top:[y,y],scale:[1,1.2],opacity:[1,0],rotateZ:0},300);frameel.velocity('callout.shake',500);break;case 'bounce':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('transition.bounceIn',500);break;case 'flash':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('callout.flash',500);break;case 'swing':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('callout.swing',500);break;case 'hflipb':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('transition.flipBounceXIn',500);break;case 'vflipb':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('transition.flipBounceYIn',500);break;case 'perspectivein':frameel.stop().velocity({left:[x,x],top:[y,y],scale:1,opacity:1,rotateZ:0},0);frameel.velocity('transition.perspectiveDownIn',500);break;};setTimeout(function(){started_animated=false;},800)
showitall(frameel,campaignid);};setTimeout(function(){$('body').css({'opacity':1});},40)}else{x=x+addition_x;y=y+addition_y;frameel.stop().velocity({left:x,top:y,scale:1,opacity:1},0);showitall(frameel,campaignid);if(ev=='animate')resetlayereffect('.design-layer[data-prepost="'+prepoststatus+'"][data-visible!="false"], .design-layer[data-visible!="false"][data-prepost="both"]');$('body').css({'opacity':1});setTimeout(function(){if($('body:visible').length){aniCallback(ev)}},20);}
if(ev=='animate')timeviewed=0;return 1},10);function aniCallback(e){}
function ju_switch_callback(e){}
function showitall(frameel,campaignid){var pass_data={'showiframe':true,'promoid':campaignid};parent.jju_receiveMessage(pass_data);if(previously_engaged&&!ju_disable_auto_engagements){getpromocode('1000','',currentcp,1,0);fetched=true;}else if(!isInpage&&overlay_position==4&&previewmode!="1"){window.addEventListener('blur',function(){setTimeout(function(){var stopRefocus=false;var juIfm=parent.jju('#ju_iframe_'+campaignid+':visible');var allNodes=document.getElementsByTagName('*');for(var i=0;i<allNodes.length;i++){if(allNodes[i].shadowRoot){stopRefocus=true;}}
if(juIfm.length&&jju('iframe').length==1&&!stopRefocus&&!window.forceStopRefocus){console.log('lost focus to Justuno Centered Promotion, refocussing');juIfm[0].contentWindow.focus();setLowestFocusableItem();$('[tabindex="'+lowestIndex+'"]:visible:first').focus();}},100)})
setTimeout(function(){if(!lauchFocused){if(currentScrollPosition==-1)currentScrollPosition=parent.document.documentElement.scrollTop||parent.document.body.scrollTop;setLowestFocusableItem();$('[tabindex="'+lowestIndex+'"]:visible:first').focus();if(!ju_autoScrollToActiveElement($('[tabindex="'+lowestIndex+'"]:visible:first')))document.activeElement.scrollIntoView({behavior:'instant'});setTimeout(function(){if(currentScrollPosition>-1){parent.document.documentElement.scrollTop=currentScrollPosition;}},50);lauchFocused=true;}},500)}
if(isInpage){clearInterval(window.checkPromoVisibility);window.checkPromoVisibility=setInterval(function(){if(parent.jju('#ju_inpage_'+campaignid).is(':visible')){if(inPageNeedsResized==1){window.inPageNeedsResized=2;parent.jju('#ju_inpage_'+campaignid).css({'visibility':'hidden'});setTimeout(function(){resize_frame(true,'resize');parent.jju('#ju_inpage_'+campaignid).css({'visibility':'visible'});},500);}}else{window.inPageNeedsResized=1;}},100);}}
var resizeFr=ju_debounce(function(effect,ev){resize_frame(effect,ev);},20,'End');var positionFr=ju_debounce(function(e){updateLayerPos(e);},550,'Both');function parent_callback(t,email,cp_ID,fromcookie,emailexists,couponcode,couponexpire){if(t!=15&&t!=0){var pass_data={'shared':t,'email':email,'offer_engaged':campaignid,'fromcookie':fromcookie,'emailexists':emailexists,'couponcode':couponcode,'couponexpire':couponexpire,'arbor':arbor,'form':(t!=1000?serializeForm(true,false):[])};parent.jju_receiveMessage(pass_data);}else{var pass_data={'shared':t,'offer_engaged':campaignid,'couponcode':couponcode,'couponexpire':couponexpire};parent.jju_receiveMessage(pass_data);}}
function getpromocode(t,email,cp_ID,fetch,engage,form){if(!$('body:visible').length)return false;if(!hascouponlayer){fetch=0;}
if(!fetched&&fetch==1){fetched=true;}else if(t!='1000'){fetch=0;}
if(fetch==1||engage==1||t!=0){var unique=1;if(engaged){unique=0;}
if(!engaged&&engage==1){engaged=true;}else if(t!=10&&(t!=16||!thankstabexists||prepoststatus!='post')){engage=0;}
shared_type=t;email_shared=email;if($.inArray(t,engagedarray)==-1||engage==1||fetch==1){window.lastEngagedType=t;engagedarray.push(t);$.ajaxQueue({method:"POST",url:parent.ju_domain+'/promocode/getcode_'+ju_widget_v+'.html',data:{dm:parent.ju_current_url_protocol+parent.ju_current_domain,type:t,email:email,id:ac_guid,cmid:campaignid,url:'',sid:ju_sid,ex:ex_ID,p:previewmode,fetch:fetch,engage:engage,unique:unique,mobile:ju_mobile,newuser:newuser,sessionkey:sessionkey,country:country,form:form,aserver:ju_aserver,pageid:pageid},dataType:'json',cache:false,xhrFields:{withCredentials:true},success:function(d){getpromocodeCallback(d);}});}}}
function log_engagement(t){if(previewmode=="1")return false;var postvar={accid:ac_guid,promoId:campaignid,sessionKey:sessionkey,pageId:pageid,abTestId:ex_ID,engType:t}
ju_beaconsend('https://'+ju_aserver+'/api/analytics/engagement',postvar,false);removeLastEngagedType(21);}
function ju_beaconsend(url,formdata,usebeacon){try{if(ju_useBeacon&&usebeacon){navigator.sendBeacon(url,JSON.stringify(formdata));}else{ju_safepost(url,'POST','text/plain',JSON.stringify(formdata))}}catch(e){};}
function ju_safepost(url,method,type,data,hdrs,cred){$.ajax({url:url,type:method,cache:false,contentType:type,data:data,xhrFields:{withCredentials:(cred?true:false)}})}
function removeLastEngagedType(t){var lastType=t||lastEngagedType;var lastEngagedIndex=engagedarray.indexOf(lastType);if(lastEngagedIndex>-1){engagedarray.splice(lastEngagedIndex,1);}}
function getpromocodeCallback(data){if(data.hasOwnProperty("alert")&&!juresubCheck){showModalAlert(data.alert,true);if(data.emailexists){$('input[name*="email"]:not([name*="emails"]),.design-layer[data-layertype="email"] input').attr("aria-invalid","true").addClass('inputerror').css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}
removeLastEngagedType(10);removeLastEngagedType(4);fetched=false;engaged=false;}else{if(data.t==10)juresubCheck=true;log_engagement(lastEngagedType);if(data.codes&&data.codes!=''){var cm_id=data.cmids;var cp_code=data.codes;var cp_expire=data.expires;window.fetchedDiscountCode=cp_code;if($('.design-layer[data-layertype="coupon"] .layer-wiziwig').length){$('.design-layer[data-layertype="coupon"] .layer-wiziwig').html($('.design-layer[data-layertype="coupon"] .layer-wiziwig').html().replace('[Coupon Code]',cp_code).replace('[Coupon Expire]',cp_expire));$('.design-layer[data-layertype="coupon"] .design-layer-editable').attr('aria-label',$('.design-layer[data-layertype="coupon"] .design-layer-editable').attr('aria-label').replace('[Coupon Code]',cp_code).replace('[Coupon Expire]',cp_expire));}
$('input').each(function(){$(this).val($(this).val().replace('{{this_coupon}}',cp_code).replace('{{this_expire}}',cp_expire));});$('.design-layer[data-layertype="standard-button"] .design-layer-editable[data-copy!=""]').each(function(){$(this).data('copy',$(this).data('copy').replace('{{coupon}}',cp_code).replace('{{this_expire}}',cp_expire));});};if((data.hasOwnProperty("t")&&data.t==10)||(data.hasOwnProperty('emailexists')&&data.emailexists&&prepoststatus=="post")){submit_form=true;$('#justuno_form').submit();}
if(data.t==1000){setTimeout(function(){$('.design-layer').stop();$('.design-layer').each(function(){clearTimeout(window["layerEffectQueue_"+$(this).data('layerid')]);});if(thankstabexists){switchprepost('thanks');}else{switchprepost('post');}},100);}else if(!data.hasOwnProperty("nodata")){if(prepoststatus=='intro'){switchprepost(pretabexists?'pre':'post');}else if(prepoststatus=='pre'&&data.t!=0){switchprepost('post');}else if(data.t!=0&&thankstabexists){switchprepost('thanks');}}else if(!engaged&&(data.t==21||data.t==22)){}else if(data.t!=0&&data.t!=15&&data.t!=1000){if(prepoststatus=='intro'){switchprepost(pretabexists?'pre':'post');}else if(prepoststatus=='pre'){switchprepost('post');}else if(thankstabexists){switchprepost('thanks');}}
parent_callback(data.t,data.email,data.cmids,data.fromcookies,data.emailexists,cp_code,cp_expire);if(typeof(ju_callback)!=='undefined'&&typeof(ju_callback)==='function'&&data.t!=0&&data.t!=15){setTimeout(function(){ju_callback(shared_type,email_shared,cp_code,cp_expire);},1000);};if(window.ju_shoplogin_config&&email_shared!=''){window.forceStopRefocus=true;window.shopPayEmail=email_shared}
if(data.hasOwnProperty("nodata")){}}}
function resetShopPayDom(){parent.jju('shop-discount-auth').remove();parent.jju('body').append(`<shop-discount-auth id="ju-shop-pay" version="1" api-key="f68d217d1bd4ab41909557332d744d44" discount-code-callback="generateDiscountCode" hide-change=""><\/shop-discount-auth>`);}
function shopPayLogin(){window.notifyShopLoginShow=setInterval(function(){var els=$('.design-layer[data-layertype="coupon"]:visible');if(els.length>0){clearInterval(window.notifyShopLoginShow);parent.juShopLogin.requestShow(window.shopPayEmail);}},500);parent.generateDiscountCode=function(email){let myPromise=new Promise(function(myResolve,myReject){let checkCount=0;function checkDiscountCode(){setTimeout(function(){checkCount++;console.log('checking for code',checkCount,parent.lastCoupon)
if(parent.lastCoupon&&parent.lastCoupon!=''){myResolve(parent.lastCoupon);}else if(checkCount>=30){myReject("");}else{checkDiscountCode();}},100);}
checkDiscountCode();});return myPromise.then(function(value){return value;},function(error){return error;});}
resetShopPayDom()
parent.jju.getScript("https://cdn.shopify.com/shopifycloud/shop-js/client.js",function(){parent.juShopLogin=parent.document.getElementById('ju-shop-pay');window.notifyShopLoginEmailShown=setInterval(function(){var els=$('.design-layer[data-layertype^="incent_"]:visible, .design-layer[data-layertype="email"]:visible, .design-layer[data-layertype="button"]:visible');if(els.length>0){clearInterval(window.notifyShopLoginEmailShown);parent.juShopLogin.notifyEmailFieldShown();}},500);})}
function switchprepost(which){if(prepoststatus==which)return false;if(typeof(delayprepost)==='function'){delayprepost();return false;}
stop_videos();prepoststatus=which;$('.design-layer[data-prepost!="'+prepoststatus+'"][data-prepost!="both"]').hide();$('.design-layer[data-prepost="'+prepoststatus+'"][data-visible!="false"],.design-layer[data-visible!="false"][data-prepost="both"]').show();updateLayerPos();setbackgroundimage(0);resetlayereffect('.design-layer[data-prepost="'+prepoststatus+'"][data-visible!="false"], .design-layer[data-visible!="false"][data-prepost="both"]');$('.design-layer[data-prepost="'+prepoststatus+'"][data-visible!="false"][data-layertype="video"]').each(function(){startvideo($(this).find('.design-layer-editable:first'));});if($('body:visible').length){setTimeout(function(){aniCallback('switch');ju_switch_callback(which);},50);}
setTimeout(function(){submit_form=false;$('#justuno_form input[data-special]').remove();if(parent.jju(parent.document.activeElement).is('#ju_iframe_'+campaignid)&&previewmode!="1"){if(currentScrollPosition==-1)currentScrollPosition=parent.document.documentElement.scrollTop||parent.document.body.scrollTop;setLowestFocusableItem()
$('[tabindex="'+lowestIndex+'"]:visible:first').focus();if(!ju_autoScrollToActiveElement($('[tabindex="'+lowestIndex+'"]:visible:first')))document.activeElement.scrollIntoView({behavior:'instant'});setTimeout(function(){if(currentScrollPosition>-1){parent.document.documentElement.scrollTop=currentScrollPosition;}},50);}},500)}
function resetlayereffect(elements){$(elements).each(function(){var el=$(this);var x=parseInt(el.css('left').replace('px',''));var y=parseInt(el.css('top').replace('px',''));var effect=el.data('layereffect');var rotate=parseInt(el.data('layerrotate'));rotate=(isNaN(rotate)?0:rotate);var effect_delay=el.data('layereffect-delay')*1000;var effect_speed=el.data('layereffect-speed')*1000;window["layerEffectQueue_"+el.data('layerid')]=setTimeout(function(){el.css({'display':'block','visibility':'visible'});switch(effect){case 'none':break;case 'slideleft':el.stop().velocity({opacity:[1,0],left:[x,x-50],rotateZ:[rotate,rotate]},effect_speed);break;case 'slideright':el.stop().velocity({opacity:[1,0],left:[x,x+50],rotateZ:[rotate,rotate]},effect_speed);break;case 'slidetop':el.stop().velocity({opacity:[1,0],top:[y,y-50],rotateZ:[rotate,rotate]},effect_speed);break;case 'slidebottom':el.stop().velocity({opacity:[1,0],top:[y,y+50],rotateZ:[rotate,rotate]},effect_speed);break;case 'fadein':el.stop().velocity({opacity:[1,0],rotateZ:[rotate,rotate]},effect_speed);break;case 'fadeinout':el.stop().velocity({opacity:[1,0],rotateZ:[rotate,rotate]},{loop:true,duration:effect_speed});break;case 'zoomin':el.stop().velocity({scale:[1,.5],opacity:[1,0],rotateZ:[rotate,rotate]},effect_speed);break;case 'zoomout':el.stop().velocity({scale:[1,3],opacity:[1,.5],rotateZ:[rotate,rotate]},effect_speed);break;case 'pulsate':el.stop().velocity({scale:[1,1.1],rotateZ:[rotate,rotate]},{loop:true,duration:effect_speed});break;case 'rotateleft':el.stop().velocity({rotateZ:[rotate,rotate+90],opacity:[1,.5]},effect_speed);break;case 'rotateright':el.stop().velocity({rotateZ:[rotate,rotate-90],opacity:[1,.5]},effect_speed);break;case 'spin':el.stop().velocity({rotateZ:[rotate,rotate-360]},{loop:true,duration:effect_speed,easing:'linear'});break;case 'bouncex':el.stop().velocity({left:[x,x-50],rotateZ:[rotate,rotate]},{loop:true,duration:effect_speed});break;case 'bouncey':el.stop().velocity({top:[y,y-50],rotateZ:[rotate,rotate]},{loop:true,duration:effect_speed});break;}},effect_delay);});};function disableEnterKey(k,el){var key=window.event?window.event.keyCode:key=k.which;if(key==13&&!stop_button_events){if($("#modal-content").is('.active')){$('#modal-close').trigger('click');}else if(el.closest('.design-layer').is('[data-layertype="email"]')){return checkemail();}else if(el.closest('.design-layer').is('[data-layertype="incent_text"]')){$('.design-layer[data-layertype="incent_button"]:visible').trigger('click');}else if($.inArray(el.closest('.design-layer').data('layertype'),["push","incent_button","introbutton","standard-button","button","close"])!=-1){el.trigger('click');}else if($(':focus').is('a')){$(':focus').trigger('click');}else{k.preventDefault();}}}
function objToString(v){if(v==null){return String(v);}
switch(typeof v){case "string":return v;case "array":return v.toString();case "object":return JSON.stringify(v);default:return String(v);}}
function load_phone_countries(el){input=el[0];layerid=el.closest('.design-layer').data('layerid');if(!document.querySelector("input[data-validation^='intl']"))return;jju.when(jju.ajax({type:"GET",url:'//cdn.'+parent.window.ju_host+'/plugin-support/intlTelInput.js',dataType:"script",cache:true}),jju.ajax({type:"GET",url:'//cdn.'+parent.window.ju_host+'/plugin-support/intlTelInput.css',cache:true})).done(function(a1,a2){var css=a2[0];jju('<style type="text/css" class="snippet_2_css">\n'+css+'</style>').appendTo("head");if(!input)return
window['intl_'+layerid]=window.intlTelInput(input,{initialCountry:"auto",geoIpLookup:function(callback){var countryCode=(parent.juDs&&parent.juDs.cnt&&parent.juDs.cnt!='unknown'&&parent.juDs.cnt!='')?parent.juDs.cnt:"us";callback(countryCode);},utilsScript:'//cdn.'+parent.window.ju_host+'/plugin-support/phoneutils.js'});});}
function esp_validation(email,calltype){var form_element=$('.design-layer[data-layertype="frame"] .design-layer-editable:first');var integ_type=form_element.data('integ_type')
var integ_resub=form_element.data('resub')
var integ_listid=form_element.data('list_id')
if(email!=""&&!resubCheck&&integ_resub&&integ_resub!="any"&&integ_type.indexOf('exported')==-1&&integ_resub!=""&&form_element.data('form-action').indexOf(esp_route)!=-1){clearTimeout(ju_config_timeout);ju_config_timeout=setTimeout(function(){console.log('justuno timed out waiting for resub check')
ju_brverify(email,calltype);},5000);var integ_route=popup_json.design.popup.layers[0].editable.reactstate?'ESP/'+integ_type+'/subscription':integ_type+'/post';$.ajaxQueue({type:'POST',url:'https://'+esp_route+'/api/integrations/'+integ_route+'/check-resub',dataType:'json',data:{guid:ac_guid,promoid:campaignid,email_address:email,list_id:integ_listid,resub:integ_resub,reactstate:popup_json.design.popup.layers[0].editable.reactstate},cache:false,xhrFields:{withCredentials:true},success:function(d){clearTimeout(ju_config_timeout);if(d.allowed){ju_brverify(email,calltype);}else{showModalAlert(dupEmail,true);$('input[name*="email"]:not([name*="emails"]),.design-layer[data-layertype="email"] input').attr("aria-invalid","true").addClass('inputerror').css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}}});}else{ju_brverify(email,calltype);}}
function ju_brverify(email,calltype){try{var reactState=JSON.parse($('.design-layer[data-layertype="frame"] .design-layer-editable').data('reactstate').replace(/'/g,'"').replace(/#JU-SQUOTE#/g,"'"));var newVerify=reactState.verificationActive;var newVerifyType=reactState.verification.name;}catch(er){var newVerify=false;var newVerifyType='';}
if(!ju_brverify_config&&!newVerify){brver_res({calltype:calltype,response:{status:"valid",address:email}})}else{var em=juBase64.encode(juEncode.encode(email,jusky));ju_config_timeout=setTimeout(function(){brver_res({calltype:calltype,response:{status:"valid",address:email}})},2000);if(newVerify){var formObj=$('#justuno_form').serializeObject();formObj.engType=calltype;formObj.promoid=campaignid;formObj.acguid=ac_guid;$.ajaxQueue({type:'POST',url:'https://'+esp_route+'/api/integrations/verification/'+newVerifyType+'/verify',dataType:'json',data:formObj,cache:false,xhrFields:{withCredentials:true},success:function(d){clearTimeout(ju_config_timeout);if(d.result){brver_res({calltype:d.engType,response:{status:"valid",address:d.email}});}else{brver_res({calltype:d.engType,response:{status:"invalid",address:d.email},config:{invalid_message:d.invalidMsg}})}}});}else{$.ajax({url:"https://my."+parent.window.ju_host+"/integrations/briteverify/?id="+ac_guid+"&d="+em+"&calltype="+calltype,data:{},dataType:'jsonp',jsonp:'callback',cache:false});}}}
function serializeForm(moreData,stringify){var formObj=$('#justuno_form').serializeArray();if(moreData){try{formObj.push({"name":"IP","value":userIP},{"name":"CountryCode","value":personalization.all.cnt});}catch(er){}}
if(stringify){return JSON.stringify(formObj);}else{return formObj;}}
function brver_res(data){clearTimeout(ju_config_timeout);if(!submit_form){var allowemail=true;if(data.response.status=='invalid'){allowemail=false;}
if(data.hasOwnProperty("config")){if(data.response.status=='unknown'&&!data.config.accept_unknown){allowemail=false;}
if(data.response.status=='accept_all'&&!data.config.accept_all){allowemail=false;}
if(data.response.disposable&&!data.config.allow_disposable){allowemail=false;}
if(data.response.role_address&&!data.config.allow_role){allowemail=false;}}
var sForm=serializeForm(true,true)
if(allowemail){if(data.calltype==4||data.calltype==10){resubCheck=true;getpromocode('10',data.response.address,currentcp,1,1,sForm);$(':focus').blur();}}else{showModalAlert(data.config.invalid_message,true);$('input[name*="email"]:not([name*="emails"]),.design-layer[data-layertype="email"] input').attr("aria-invalid","true").addClass('inputerror').css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}}}
function checkemail(){$('.inputerror').removeClass('inputerror');var emailReg=/^([\w-\.\+]+@[\w-\.\+]+\.+[\w-]{2,10})?$/;var emailaddressVal=$('.design-layer[data-layertype="email"] input').val();emailaddressVal=$.trim(emailaddressVal);if(emailaddressVal!=''){if(!emailReg.test(emailaddressVal)){showModalAlert(invalid_email,true);$('.design-layer[data-layertype="email"] input').attr("aria-invalid","true").addClass('inputerror').css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();return false;}else{$('.design-layer[data-layertype="email"] input').attr("aria-invalid","false").css({'border':'1px solid #4cae4c'});if($('.design-layer[data-layertype="incent_checkbox"]:visible input[required]').length){$('.design-layer[data-layertype="incent_checkbox"]:visible input[required]').each(function(){if(!$(this).is(':checked')){$(this).addClass('inputerror');$(this).closest('.design-layer').attr("aria-invalid","true").css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();}else{esp_validation(emailaddressVal,4);return false;}});}else{esp_validation(emailaddressVal,4);return false;}}}else{$('.design-layer[data-layertype="email"] input').addClass('inputerror').attr("aria-invalid","true").css({'border':'2px solid #ff0000'}).focus();document.activeElement.scrollIntoView();return false;}}
function jju_receivePostMessage(e){if(e.origin!==parent_url)return;try{jju_receiveMessage(jju.parseJSON(e.data));}catch(e){}}
function jju_receiveMessage(e){var dat=e;if(dat.personalized||dat.arb){personalization=dat.personalized||{};arb=dat.arb||{};personalize();}
if(dat.resize_event){window.resizedOnce=false;resizeFr(false,'resize');}
if(dat.animate){if(!fetched&&($('.design-layer[data-layertype="coupon"]').data('prepost')=='both'||$('.design-layer[data-layertype="coupon"]').data('prepost')==prepoststatus)){getpromocode('0','',currentcp,1,0);}
$('body').css({'opacity':0});resize_frame(true,'animate');}
if(dat.scroll_top){scroll_top=dat.scroll_top}
if(dat.juCustom){if(typeof(juIframeCatch)!=='undefined'&&typeof(juIframeCatch)==='function'){juIframeCatch(dat);};}}
window.addEventListener("message",jju_receivePostMessage,false);$.postMessage=function(d,e){window.parent.jju_receivePostMessage({data:d,origin:decodeURIComponent(e).match(/(http|https):\/\/(.[^/]+)/)[2]});};function personalize(){var re=new RegExp('\\{\\{([^{}]*)\\}\\}',"g");$("body *:not(iframe)").contents().each(function(){if(this.nodeType==3&&!$(this).closest('span[data-pers]').length){var u=this.nodeValue;if(u.indexOf('{{')!=-1){$(this).replaceWith(u.replace(re,function(m,g1){return '<span data-pers="'+g1+'">'+split_personalized(g1)+'</span>'}));}}
if($(this).is('[data-pers]')){var UpdValue=split_personalized($(this).attr('data-pers'));if(!isNaN(UpdValue)&&parseFloat(UpdValue)<0){close_window();}else{$(this).html(UpdValue);}}
if($(this).is('img')&&$(this).attr('src').indexOf('{{')!=-1){$(this).attr('src',$(this).attr('src').replace(re,function(m,g1){return split_personalized(g1)}))}
if(($(this).is('input')||$(this).is('textarea'))&&$(this).val().indexOf('{{')!=-1){$(this).val($(this).val().replace(re,function(m,g1){return split_personalized(g1)}))
if(!$(this).is('input[type="checkbox"]')&&!$(this).is('input[type="radio"]')&&$(this).is('[placeholder]')){$(this).attr('placeholder',$(this).attr('placeholder').replace(re,function(m,g1){return split_personalized(g1)}))}}});$('.design-layer-editable').each(function(){var thiis=$(this),dataAttr=thiis.data()
if(dataAttr){$.each(dataAttr,function(k,v){if(typeof(v)==='string'){var thisnewval=v.replace(re,function(m,g1){return split_personalized(g1)});thiis.data(k,thisnewval);};});};});}
function resolveObj(path,obj){return path.split('.').reduce(function(prev,curr){return prev?prev[curr]:null},obj||self)}
function split_personalized(g1){var splitPipe=g1.replace(/ /g,'').split("|");var splitUp=splitPipe[0].split(/(?=[\+\-\*\=])/g);var thisParam=false;for(var i=0;i<splitUp.length;i++){var thiskey=splitUp[i].replace(/[\+\-\*\=]/g,'');var thisitem=splitUp[i];if(thiskey.toLowerCase()=='urlparam'){thisParam=true;thisitem='';}else if(thisParam){if(parent.jju_getParameterByName(thiskey)!=''){thisitem=parent.jju_getParameterByName(thiskey);}else{thisitem=parent.jju_getParameterByName(thiskey.toLowerCase());}
if(thisitem=='')thisitem='='+thiskey;thisParam=false;}else{if(isNaN(thiskey)){if(resolveObj(thiskey,personalization)!==undefined&&resolveObj(thiskey,personalization)!==''){thisitem=splitUp[i].replace(thiskey,resolveObj(thiskey,personalization));}else if(resolveObj(thiskey.toLowerCase(),personalization)!==undefined&&resolveObj(thiskey.toLowerCase(),personalization)!==''){thisitem=splitUp[i].replace(thiskey.toLowerCase(),resolveObj(thiskey.toLowerCase(),personalization));}}
if(arb[thiskey]!==undefined&&arb[thiskey]!==''){thisitem=splitUp[i].replace(thiskey,arb[thiskey].v);}else if(arb[thiskey.toLowerCase()]!==undefined&&arb[thiskey.toLowerCase()]!==''){thisitem=splitUp[i].replace(thiskey,arb[thiskey.toLowerCase()].v);}}
if(thisitem.toLowerCase()!=splitUp[i].toLowerCase()||!isNaN(thisitem)){splitUp[i]=thisitem;}else{splitUp[i]="{{"+thisitem+"}}"}}
if(splitUp.join("").match(/[\+\-\*]/g)){try{return eval(splitUp.join("").replace('urlParam=','')).toFixed(2).replace('.00','');}catch(e){if(splitPipe.length>1){return splitPipe[1];}else{return splitUp.join("");}}}else{if(splitPipe.length>1&&splitUp.join("").replace('urlParam=','').match(/{{/g)){return splitPipe[1];}else{return splitUp.join("").replace('urlParam=','');}}}
function instaFollowClick(id,uri){window.open("https://instagram.com/oauth/authorize/?client_id="+id+"&redirect_uri="+uri+"&response_type=token&scope=relationships","","menubar=1,resizable=1,width=500,height=400");window.rec_insta_follow=function(){getpromocode('8','',currentcp,1,1);}}
function rec_insta_follow(){getpromocode('8','',currentcp,1,1);}
function createCookie(name,value,days){var expires;if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}else{expires="";}
document.cookie=escape(name)+"="+escape(value)+expires+"; path=/";}
function readCookie(name){var nameEQ=escape(name)+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)===0)return unescape(c.substring(nameEQ.length,c.length));}
return null;}
function eraseCookie(name){createCookie(name,"",-1);}
function CreateSavedDesignCanvas(obj){canvasversion=obj.design["version"];if(typeof(obj.design.fonts)==='object'){if(!$.isEmptyObject(obj.design.fonts)){var ju_obj_serialized=Object.keys(obj.design.popup.layers).reduce(function(previous,key){try{if(obj.design.popup.layers[key].layertype!='snippet'){return previous+obj.design.popup.layers[key].html+obj.design.popup.layers[key].editable["font-family"];}else{return previous+obj.design.popup.layers[key].editable["font-family"];}}catch(er){return previous+'';}},'').toLowerCase();var ju_google_fonts=[];$.each(obj.design.fonts,function(key,data){if(ju_obj_serialized.indexOf(key.toLowerCase())!=-1){ju_google_fonts.push(key+":400,700");ju_google_fonts.push(key+":400i,700i");}else{}});if(!$.isEmptyObject(ju_google_fonts)){ju_google_fonts[ju_google_fonts.length-1]=ju_google_fonts[ju_google_fonts.length-1]+'&display=swap';WebFontConfig={google:{families:ju_google_fonts}};(function(){var wf=document.createElement('script');wf.src='//cdn.'+parent.window.ju_host+'/webfont.js';wf.type='text/javascript';wf.async='true';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(wf,s);})();}};};$.each(obj['design']['popup']['layers'],function(index,attr){layer_prepoststatus=this.prepost;if(layer_prepoststatus=="intro"){introtabexists=true;}
this.scalex=this.hasOwnProperty("scalex")?this.scalex:1;this.scaley=this.hasOwnProperty("scaley")?this.scaley:1;this.editable["offset-left"]=this.editable.hasOwnProperty("sticky-offset")?this.editable["sticky-offset"]:this.editable.hasOwnProperty("offset-left")?this.editable["offset-left"]:0;this.editable["offset-right"]=this.editable.hasOwnProperty("sticky-offset")?this.editable["sticky-offset"]:this.editable.hasOwnProperty("offset-right")?this.editable["offset-right"]:0;this.editable["offset-top"]=this.editable.hasOwnProperty("offset-top")?this.editable["offset-top"]:0;this.editable["offset-bottom"]=this.editable.hasOwnProperty("offset-bottom")?this.editable["offset-bottom"]:0;switch(this.layertype){case "frame":createnewlayer_background(this);break;case "close":createnewlayer_close(this);break;case "image":createnewlayer_image(this);break;case "snippet":if(this.snippet.indexOf('FontAwesome')>-1){loadFontAwesome()}
createnewlayer_snippet(this);break;case "html":createnewlayer_editable(this);break;case "email":createnewlayer_email_field(this);break;case "button":createnewlayer_email_submit(this);break;case "standard-button":createnewlayer_button(this);break;case "sms-button":createnewlayer_sms(this);break;case "introbutton":createnewlayer_intro_continue(this);break;case "coupon":createnewlayer_coupon(this);hascouponlayer=true;break;case "gated":createnewlayer_gated(this);break;case "facebook":createnewlayer_facebook(this);break;case "googlefollow":createnewlayer_google_follow(this);break;case "googleplus":createnewlayer_google_plus(this);break;case "twittertweet":createnewlayer_twitter_tweet(this);break;case "twitterfollow":createnewlayer_twitter_follow(this);break;case "instagram":createnewlayer_instagram(this);break;case "pinterest":createnewlayer_pinterest(this);break;case "linkedinfollow":createnewlayer_linkedin_follow(this);break;case "linkedinshare":createnewlayer_linkedin_share(this);break;case "vkfollow":createnewlayer_vk_follow(this);break;case "redditfollow":createnewlayer_reddit_follow(this);break;case "incent_text":createnewlayer_text_incent_field(this);break;case "incent_radio":createnewlayer_radio_incent_field(this);break;case "incent_checkbox":createnewlayer_checkbox_incent_field(this);break;case "incent_select":createnewlayer_select_incent_field(this);break;case "incent_textarea":createnewlayer_textarea_incent_field(this);break;case "incent_button":createnewlayer_incent_submit(this);break;case "video":createnewlayer_video(this);break
case "push":createnewlayer_push(this);break
case "icon":loadFontAwesome()
createnewlayer_icon(this);break};});$('input[data-validation^="intl"]').each(function(){load_phone_countries($(this));})
function loadFontAwesome(){if(fontawesome_loaded)return;fontawesome_loaded=true;$.getScript(parent.window.asset_host+"font-awesome4shim.js",function(){$('<link rel="stylesheet" type="text/css" href="'+parent.window.asset_host+'font-awesome.min.css" >').appendTo("head");});}
pretabexists=(promotype=="2"||promotype=="3"||promotype=="4"||promotype=="5"||promotype=="11"||!$('.design-layer[data-prepost="pre"]').length)?false:true;thankstabexists=(!$('.design-layer[data-prepost="thanks"]').length)?false:true;if(introtabexists){switchprepost("intro");}else if(promotype=="2"||promotype=="3"||promotype=="4"||promotype=="5"||promotype=="11"||!$('.design-layer[data-prepost="pre"]').length){switchprepost("post");if(!$('.design-layer[data-layertype="html"] a:not([onclick*="window.open(this.href"]):visible, .design-layer[data-layertype="standard-button"]:visible, .design-layer[data-layertype="facebook"]:visible, .design-layer[data-layertype="googlefollow"]:visible, .design-layer[data-layertype="googleplus"]:visible').length){$(document).on((touchPresent?'touchstart':'mousedown'),'.design-layer[data-layertype="frame"], .design-layer[data-layertype="html"], .design-layer[data-layertype="image"], .design-layer[data-layertype="snippet"], .design-layer[data-layertype="coupon"]',function(e){e.stopPropagation();var thislayertype=$(e.target).data('layertype');if(!thislayertype){thislayertype=$(e.target).closest('.design-layer').data('layertype');}
if(!$(e.target).is('a')&&$.inArray(thislayertype,["incent_text","incent_radio","incent_checkbox","incent_textarea","incent_select","incent_button","button","email","standard-button","coupon","close"])==-1){clearInterval(view_timeout);timeviewed=0;getpromocode('16','',currentcp,1,1);};});}
view_timeout=setInterval(function(){timeviewed+=.5;},500);}else{switchprepost("pre");}
$('.design-layer[data-layertype="html"] .layer-wiziwig, .design-layer[data-layertype="snippet"] .layer-snippet').find('a,img,button,input,select,textarea').each(function(){var parentTabIndex=$(this).parents(".design-layer-editable").attr("tabindex");parentTabIndex++;$(this).attr("tabindex",parentTabIndex);$(this).closest('.design-layer-editable').removeAttr('role');});if(preload!=true&&!fetched&&($('.design-layer[data-layertype="coupon"]').data('prepost')=='both'||$('.design-layer[data-layertype="coupon"]').data('prepost')==prepoststatus)){getpromocode('0','',currentcp,1,0);};if(preload!=true){resize_frame(true,'animate');}
$('.design-layer-editable').find('a:not([target])').attr('target','_top');$('.design-layer[data-layertype="standard-button"] .design-layer-editable[data-copy!=""], .design-layer[data-layertype="coupon"] .design-layer-editable[data-input-copy="true"]').css('cursor','pointer');$(document).on('click','.design-layer[data-layertype="standard-button"] .design-layer-editable[data-copy!=""], .design-layer[data-layertype="coupon"] .design-layer-editable[data-input-copy="true"]',function(e){e.preventDefault();var thiscopy=$(this);if(thiscopy.closest('.design-layer').data('layertype')=='standard-button'){var thiscopytext=thiscopy.data('copy');}else{var thiscopytext=thiscopy.text();}
if(thiscopy.data('copy-success')=='')thiscopy.data('copy-success','Copied!')
if(thiscopytext!=thiscopy.data('copy-success')){if(ju_clip(thiscopytext)){var thistext=thiscopy.text();thistext=$('<div>'+thistext+'</div>').html();thiscopy.data('thistext',thistext);thiscopy.html(thiscopy.html().replace(thistext,thiscopy.data('copy-success')));setTimeout(function(){thiscopy.html(thiscopy.html().replace(thiscopy.data('copy-success'),thiscopy.data('thistext')));},1500);};}})}
function setLowestFocusableItem(){var indexes=$('[tabindex="1"]:visible').map(function(){return parseInt($(this).attr('tabindex'),10);}).get();if(indexes.length==0){var indexes=$("input:visible").map(function(){return parseInt($(this).attr('tabindex'),10);}).get();}
if(indexes.length==0){var indexes=$('.design-layer[data-layertype="introbutton"]:visible, .design-layer[data-layertype="standard-button"]:visible').map(function(){return parseInt($(this).find('[tabindex]').attr('tabindex'),10);}).get();}
if(indexes.length==0){var indexes=$('.design-layer[data-layertype!="frame"][data-layertype!="close"]:visible').map(function(){return parseInt($(this).find('[tabindex]').attr('tabindex'),10);}).get();}
window.lowestIndex=Math.min.apply(Math,indexes);}
function addtolayers(layercount,layername,zindex,layerx,layery,layertype,layerwidth,layerheight,layerrotate,layereffect,layereffect_delay,layereffect_speed,layerinner,dragging,resize,close,visible,scalex,scaley,euonly){layereffect=layereffect==undefined?'none':layereffect;layereffect_speed=layereffect_speed==undefined?1:layereffect_speed;layereffect_delay=layereffect_delay==undefined?0:layereffect_delay;if(layername=="subscribe-error-msg")visible=false;var newel=$('<div class="design-layer '+(canvasversion>=3.5?'vcenter':'')+'" data-euonly="'+euonly+'" data-layerrotate="'+layerrotate+'" data-scalex="'+scalex+'" data-scaley="'+scaley+'" data-z-index="'+zindex+'" data-visible="'+visible+'" data-prepost="'+layer_prepoststatus+'" data-layertype="'+layertype+'" data-layername="'+layername+'" data-layerid="'+layercount+'" data-layerx="'+layerx+'" data-layery="'+layery+'" data-layerwidth="'+layerwidth+'" data-layerheight="'+layerheight+'" data-layereffect="'+layereffect+'" data-layereffect-speed="'+layereffect_speed+'" data-layereffect-delay="'+layereffect_delay+'"></div>');newel.css({"position":"absolute","top":layery+"px","left":layerx+"px","width":layerwidth,"height":layerheight.toString().replace('px','')+"px","overflow":"show","z-index":zindex,"transform":"rotate("+layerrotate+"deg) scaleX("+scalex+") scaleY("+scaley+")","-webkit-transform":"rotate("+layerrotate+"deg) scaleX("+scalex+") scaleY("+scaley+")","-ms-transform":"rotate("+layerrotate+"deg) scaleX("+scalex+") scaleY("+scaley+")"})
if(layertype!="frame"){newel.append(layerinner).appendTo('body .design-layer[data-layertype="frame"] .frame-container');}else{newel.append(layerinner).append('<div class="frame-container"></div>').appendTo('body #justuno_form');}}
function createnewlayer_background(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=0;var thiseffect='none';var thiseffect_delay=0;var thiseffect_speed=0;var x=0;var y=0;obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.position=obj.editable.hasOwnProperty("position")?obj.editable.position:4;obj.editable.offset=obj.editable.hasOwnProperty("offset")?obj.editable.offset:0;obj.editable.push=obj.editable.hasOwnProperty("push")?obj.editable.push:'hover';obj.editable.effect=obj.editable.hasOwnProperty("effect")?obj.editable.effect:'fadein';obj.editable.dim=obj.editable.hasOwnProperty("dim")?obj.editable.dim:true;obj.editable.integ_type=obj.editable.hasOwnProperty("integ_type")?obj.editable.integ_type:'';obj.editable.sms=obj.editable.hasOwnProperty("sms")?obj.editable.sms:'';obj.editable.reactstate=obj.editable.hasOwnProperty("reactstate")?obj.editable.reactstate:'';obj.editable.list_id=obj.editable.hasOwnProperty("list_id")?obj.editable.list_id:'';obj.editable.segment_ids=obj.editable.hasOwnProperty("segment_ids")?obj.editable.segment_ids:'';obj.editable.group_ids=obj.editable.hasOwnProperty("group_ids")?obj.editable.group_ids:'';obj.editable.selclientid=obj.editable.hasOwnProperty("selclientid")?obj.editable.selclientid:'';obj.editable.merge_fields=obj.editable.hasOwnProperty("merge_fields")?obj.editable.merge_fields:'';obj.editable.resub=obj.editable.hasOwnProperty("resub")?obj.editable.resub:'';obj.editable.status=obj.editable.hasOwnProperty("status")?obj.editable.status:'';obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;if(obj.editable.position==9||obj.editable.position==10||obj['layerwidth'].toString().indexOf('%')!=-1){thiswidth="100%";}
if(obj['editable']['background-image-intro']==undefined){obj['editable']['background-image-intro']=obj['editable']['background-image']};if(obj['editable']['background-image-pre']==undefined){obj['editable']['background-image-pre']=obj['editable']['background-image']};if(obj['editable']['background-image-post']==undefined){obj['editable']['background-image-post']=obj['editable']['background-image']};if(obj['editable']['background-image-thanks']==undefined){obj['editable']['background-image-thanks']=obj['editable']['background-image']};var layerinner=['<div class="design-layer-editable" style="opacity:'+obj['editable']['opacity']+';','border-style:'+obj['editable']['border-style']+';','padding:'+obj['editable']['padding']+'px;','border-radius:'+obj['editable']['border-radius']+'px;','box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);','border-width:'+obj['editable']['border-width']+'px;','border-color:'+obj['editable']['border-color']+';" ','data-position="'+obj['editable']['position']+'" ','data-opacity="'+obj['editable']['opacity']+'" ','data-direction="'+obj['editable']['direction']+'" ','data-overlay_opacity="'+obj['editable']['overlay_opacity']+'" ','data-push="'+obj['editable']['push']+'" ','data-effect="'+obj['editable']['effect']+'" ','data-dim="'+obj['editable']['dim']+'" ','data-tab="'+obj['editable']['tab']+'" ','data-offset="'+obj['editable']['offset']+'" ','data-padding="'+obj['editable']['padding']+'" ','data-border-style="'+obj['editable']['border-style']+'" ','data-border-width="'+obj['editable']['border-width']+'" ','data-border-radius="'+obj['editable']['border-radius']+'" ','data-box-shadow="'+obj['editable']['box-shadow']+'" ','data-background-color="'+obj['editable']['background-color']+'" ','data-border-color="'+obj['editable']['border-color']+'" ','data-background-image-intro="'+obj['editable']['background-image-intro']+'" ','data-background-image-pre="'+obj['editable']['background-image-pre']+'" ','data-background-image-post="'+obj['editable']['background-image-post']+'" ','data-background-image-thanks="'+obj['editable']['background-image-thanks']+'" ','data-gradient-color="'+obj['editable']['gradient-color']+'" ','data-form-action="'+obj['editable']['form-action']+'" ','data-integ_type="'+obj['editable']['integ_type']+'" ','data-sms="'+obj['editable']['sms']+'" ','data-reactstate="'+obj['editable']['reactstate']+'" ','data-list_id="'+obj['editable']['list_id']+'" ','data-resub="'+obj['editable']['resub']+'" ','data-status="'+obj['editable']['status']+'" ','data-segment_ids="'+obj['editable']['segment_ids']+'" ','data-merge_fields="'+obj['editable']['merge_fields']+'" ','data-group_ids="'+obj['editable']['group_ids']+'" ','data-groupcat_id="'+obj['editable']['groupcat_id']+'" ','data-selclientid="'+obj['editable']['selclientid']+'" ','data-click-hide="'+obj['editable']['click-hide']+'"></div>'].join('')
addtolayers(layercount,layername,zindex,x,y,'frame',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,false,true,false,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);if(!obj['editable'].hasOwnProperty("click-hide")){obj['editable']['click-hide']="1";}
if(obj['editable']['click-hide']=="1"&&obj['editable']['dim']!="no"&&!isInpage&&obj['editable']['position']==4){setTimeout(function(){$("html").on((touchPresent?'touchstart':'click'),function(e){if($(e.target).closest('.design-layer[data-layertype="frame"]').length===0&&$(e.target).closest('.design-canvas-powered').length===0&&$(e.target).closest('#modal-content').length===0&&$(e.target).closest('#ju-alert').length===0){if(!closeeventfired){closeeventfired=true;close_window();setTimeout(function(){closeeventfired=false;},1000)}}});},1000);};frameel=$('.design-layer[data-layertype="frame"]');overlay=frameel.find('.design-layer-editable');overlay_position=parseInt(overlay.data('position'));}
function createnewlayer_close(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.url=obj.editable.hasOwnProperty("url")?obj.editable.url:'';obj.editable.engage=obj.editable.hasOwnProperty("engage")?obj.editable.engage:0;obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.sticky=obj.editable.hasOwnProperty("sticky")?obj.editable.sticky:'none';obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:1000;var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" role="button" type="button" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-direction="'+obj['editable']['direction']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-padding="'+obj['editable']['padding']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-border-style="'+obj['editable']['border-style']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-engage="'+obj['editable']['engage']+'" data-url="'+obj['editable']['url']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'close',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_image(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.sticky=obj.editable.hasOwnProperty("sticky")?obj.editable.sticky:'none';obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:obj['editable']['background-image'];obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" aria-label="'+obj['editable']['access']+'" role="img" style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-access="'+obj['editable']['access']+'" data-direction="'+obj['editable']['direction']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-style="'+obj['editable']['border-style']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-background-image="'+obj['editable']['background-image']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"></div>';addtolayers(layercount,layername,zindex,x,y,'image',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_snippet(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.sticky=obj.editable.hasOwnProperty("sticky")?obj.editable.sticky:'none';obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';text-align:'+obj['editable']['text-paragraph']+';color:'+obj['editable']['color']+';font-family:'+obj['editable']['font-family']+';font-size:'+obj['editable']['font-size']+'px;border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-direction="'+obj['editable']['direction']+'" data-padding="'+obj['editable']['padding']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-text-paragraph="'+obj['editable']['text-paragraph']+'" data-color="'+obj['editable']['color']+'" data-font-family="'+obj['editable']['font-family']+'" data-font-size="'+obj['editable']['font-size']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><div class="layer-snippet" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['snippet']+'</div></div>';layerinner=$(layerinner)
layerinner.find('.clear_save').html('');layerinner=layerinner.prop('outerHTML');addtolayers(layercount,layername,zindex,x,y,'snippet',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_editable(obj){if(!isEU&&obj.euonly)return;var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.sticky=obj.editable.hasOwnProperty("sticky")?obj.editable.sticky:'none';obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" role="text" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-direction="'+obj['editable']['direction']+'" data-padding="'+obj['editable']['padding']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html'].replace(/data-cke-pa-/g,'')+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'html',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,obj.euonly);setbackgroundimage(layercount);}
function createnewlayer_email_field(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:'Enter Email';obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<input type="text" name="newsletter_name" aria-invalid="false" aria-label="'+obj.editable.access+'" tabindex="'+obj.editable.tabindex+'" value="'+obj['editable']['text']+'" placeholder="'+obj['editable']['placeholder']+'" class="design-layer-editable" style="-webkit-appearance: none;opacity:'+obj['editable']['opacity']+';text-align:'+obj['editable']['text-paragraph']+';color:'+obj['editable']['color']+';font-family:'+obj['editable']['font-family']+';font-size:'+obj['editable']['font-size']+'px;border-style:'+obj['editable']['border-style']+';padding:0px '+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);background-color:'+obj['editable']['background-color']+';border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-color="'+obj['editable']['border-color']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-placeholder="'+obj['editable']['placeholder']+'" data-background-color="'+obj['editable']['background-color']+'" data-border-style="'+obj['editable']['border-style']+'" data-text-paragraph="'+obj['editable']['text-paragraph']+'" data-color="'+obj['editable']['color']+'" data-font-family="'+obj['editable']['font-family']+'" data-font-size="'+obj['editable']['font-size']+'" data-text="'+obj['editable']['text']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" required="" />';addtolayers(layercount,layername,zindex,x,y,'email',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);}
function createnewlayer_email_submit(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" role="button" type="submit" name="'+obj['editable']['name']+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-direction="'+obj['editable']['direction']+'" data-padding="'+obj['editable']['padding']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-name="'+obj['editable']['name']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'button',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_button(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.promo=obj.editable.hasOwnProperty("promo")?obj.editable.promo:'none';obj.editable.sticky=obj.editable.hasOwnProperty("sticky")?obj.editable.sticky:'none';obj.editable.window=obj.editable.hasOwnProperty("window")?obj.editable.window:'_top';obj.editable.copy=obj.editable.hasOwnProperty("copy")?obj.editable.copy:'';obj.editable['copy-success']=obj.editable.hasOwnProperty("copy-success")?obj.editable['copy-success']:'Copied!';obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" role="button" type="button" name="'+obj['editable']['name']+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';cursor:pointer;border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-direction="'+obj['editable']['direction']+'" data-padding="'+obj['editable']['padding']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-url="'+obj['editable']['url']+'" data-promo="'+obj['editable']['promo']+'" data-id="'+obj['editable']['id']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-window="'+obj['editable']['window']+'" data-copy="'+obj['editable']['copy']+'" data-copy-success="'+obj['editable']['copy-success']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'standard-button',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_sms(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" role="button" type="button" name="'+obj['editable']['name']+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';cursor:pointer;border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-direction="'+obj['editable']['direction']+'" data-padding="'+obj['editable']['padding']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-url="'+obj['editable']['url']+'" data-promo="'+obj['editable']['promo']+'" data-id="'+obj['editable']['id']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-window="'+obj['editable']['window']+'" data-sms-number="'+obj['editable']['sms-number']+'" data-sms-message="'+obj['editable']['sms-message']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'sms-button',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_intro_continue(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.sticky=obj.editable.hasOwnProperty("sticky")?obj.editable.sticky:'none';obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" role="button" type="submit" name="'+obj['editable']['name']+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-border-style="'+obj['editable']['border-style']+'" data-direction="'+obj['editable']['direction']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-name="'+obj['editable']['name']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'introbutton',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_coupon(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.sticky=obj.editable.hasOwnProperty("sticky")?obj.editable.sticky:'none';obj.editable['input-copy']=obj.editable.hasOwnProperty("input-copy")?obj.editable['input-copy']:true;obj.editable['copy-success']=obj.editable.hasOwnProperty("copy-success")?obj.editable['copy-success']:'Copied!';obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"[Coupon Code]";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';padding:'+obj['editable']['padding']+'px;border-style:'+obj['editable']['border-style']+';border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-direction="'+obj['editable']['direction']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-color="'+obj['editable']['border-color']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-input-copy="'+obj['editable']['input-copy']+'" data-copy-success="'+obj['editable']['copy-success']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'coupon',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_icon(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-style="'+obj['editable']['border-style']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-background-image="none" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-url="'+obj['editable']['url']+'" data-window="'+obj['editable']['window']+'">'+obj.html+'</div>';addtolayers(layercount,layername,zindex,x,y,'icon',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_facebook(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable['facebook-connect']=obj.editable.hasOwnProperty("facebook-connect")?(obj.editable['facebook-connect']=="1"?"checked":obj.editable['facebook-connect']):'';obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' data-facebook-id="'+obj['editable']['facebook-id']+'" data-facebook-link-shortened="'+obj['editable']['facebook-link-shortened']+'" data-facebook-language="'+obj['editable']['facebook-language']+'" data-facebook-layout="'+obj['editable']['facebook-layout']+'" data-facebook-url="'+obj['editable']['facebook-url']+'" data-facebook-connect="'+obj['editable']['facebook-connect']+'" data-facebook-liked-past="'+obj['editable']['facebook-liked-past']+'" data-facebook-notliked-past="'+obj['editable']['facebook-notliked-past']+'" data-facebook-title="'+obj['editable']['facebook-title']+'" data-facebook-description="'+obj['editable']['facebook-description']+'" data-facebook-photo="'+obj['editable']['facebook-photo']+'" data-facebook-link="'+obj['editable']['facebook-link']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><div class="fb-like" data-href="'+(obj['editable']['facebook-url']==''?'https://www.facebook.com/justunofans?ref=sample':obj['editable']['facebook-url'])+'" data-layout="'+obj['editable']['facebook-layout']+'" data-action="like" data-show-faces="false" data-share="false" data-ref="Justuno"></div></div>';addtolayers(layercount,layername,zindex,x,y,'facebook',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);renderfacebookbutton(true,'');}
function createnewlayer_google_follow(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];var layerinner='<div class="design-layer-editable" data-googlefollow-url="'+obj['editable']['googlefollow-url']+'" data-googlefollow-language="'+obj['editable']['googlefollow-language']+'" data-googlefollow-layout="'+obj['editable']['googlefollow-layout']+'"></div>';addtolayers(layercount,layername,zindex,x,y,'googlefollow',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);rendergooglefollowbutton(true,'');}
function createnewlayer_google_plus(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];var layerinner='<div class="design-layer-editable" data-googleplus-url="'+obj['editable']['googleplus-url']+'" data-googleplus-language="'+obj['editable']['googleplus-language']+'" data-googleplus-layout="'+obj['editable']['googleplus-layout']+'"></div>';addtolayers(layercount,layername,zindex,x,y,'googleplus',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);rendergoogleplusbutton(true,'');}
function createnewlayer_twitter_tweet(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' data-twittertweet-url="'+obj['editable']['twittertweet-url']+'" data-twittertweet-layout="'+obj['editable']['twittertweet-layout']+'" data-twittertweet-text="'+obj['editable']['twittertweet-text']+'" data-twittertweet-username="'+obj['editable']['twittertweet-username']+'" data-twittertweet-hashtags="'+obj['editable']['twittertweet-hashtags']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"></div>';addtolayers(layercount,layername,zindex,x,y,'twittertweet',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);rendertwittertweetbutton(true,'');}
function createnewlayer_twitter_follow(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' data-twitterfollow-username="'+obj['editable']['twitterfollow-username']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"></div>';addtolayers(layercount,layername,zindex,x,y,'twitterfollow',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);rendertwitterfollowbutton(true,'');}
function createnewlayer_instagram(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];var layerinner='<div class="design-layer-editable" data-instagram-id="'+obj['editable']['instagram-id']+'" data-instagram-text="'+obj['editable']['instagram-text']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><a href="#" class="social-instagram-button"><span>'+obj['editable']['instagram-text']+'</span></a></div>';addtolayers(layercount,layername,zindex,x,y,'instagram',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);}
function createnewlayer_pinterest(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' data-pinterest-username="'+obj['editable']['pinterest-username']+'" data-pinterest-text="'+obj['editable']['pinterest-text']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><a href="#" class="social-pinterest-button"><span>'+obj['editable']['pinterest-text']+'</span></a></div>';addtolayers(layercount,layername,zindex,x,y,'pinterest',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);}
function createnewlayer_linkedin_follow(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];var layerinner='<div class="design-layer-editable" data-linkedinfollow-id="'+obj['editable']['linkedinfollow-id']+'" data-linkedinfollow-language="'+obj['editable']['linkedinfollow-language']+'" data-linkedinfollow-layout="'+obj['editable']['linkedinfollow-layout']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"></div>';addtolayers(layercount,layername,zindex,x,y,'linkedinfollow',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);renderlinkedinfollowbutton(true,'');}
function createnewlayer_linkedin_share(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];var layerinner='<div class="design-layer-editable" data-linkedinshare-url="'+obj['editable']['linkedinshare-url']+'" data-linkedinshare-language="'+obj['editable']['linkedinshare-language']+'" data-linkedinshare-layout="'+obj['editable']['linkedinshare-layout']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"></div>';addtolayers(layercount,layername,zindex,x,y,'linkedinshare',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);renderlinkedinsharebutton(true,'');}
function createnewlayer_text_incent_field(obj){if(!isEU&&obj.euonly)return;var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:obj.editable.placeholder;obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);obj.editable.validation=obj.editable.hasOwnProperty("validation")?obj.editable.validation:'text';obj.editable.pattern=obj.editable.hasOwnProperty("pattern")?obj.editable.pattern:'';var inputType=obj.editable.date===true?"date":obj.editable.validation;var inputType=obj.editable.validation&&obj.editable.validation.startsWith('intl')?"tel":inputType;var autoComplete=(inputType=='email'||inputType=='tel'?'autocomplete="'+inputType+'"':'');var autoComplete=(obj.editable.validation&&obj.editable.validation.startsWith('intl')?'autocomplete="tel"':autoComplete);var layerinner='<input type="'+inputType+'" '+autoComplete+' '+(obj.editable.pattern!=''?'pattern="'+obj.editable.pattern+'"':'')+' tabindex="'+obj.editable.tabindex+'" name="'+obj['editable']['name']+'" aria-invalid="false" aria-label="'+obj.editable.access+'" value="'+(obj['editable']['text-insert']=='[url]'?parent_url:(obj['editable']['text-insert']=='[ip]'?userIP:(obj['editable']['text-insert']=='[coupon]'?'{{this_coupon}}':(obj['editable']['text-insert']=='[referringurl]'?referringURL:(obj['editable']['text-insert']=='[firsturl]'?firstURL:(obj['editable']['text-insert']=='[camefromurl]'?camefromURL:(obj['editable']['text-insert']=='[promo]'?cm_title:obj['editable']['text'])))))))+'" placeholder="'+obj['editable']['placeholder']+'" class="design-layer-editable" style="-webkit-appearance: none;opacity:'+obj['editable']['opacity']+';text-align:'+obj['editable']['text-paragraph']+';color:'+obj['editable']['color']+';font-family:'+obj['editable']['font-family']+';font-size:'+obj['editable']['font-size']+'px;border-style:'+obj['editable']['border-style']+';padding:0px '+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);background-color:'+obj['editable']['background-color']+';border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-text-paragraph="'+obj['editable']['text-paragraph']+'" data-color="'+obj['editable']['color']+'" data-font-family="'+obj['editable']['font-family']+'" data-font-size="'+obj['editable']['font-size']+'" data-border-style="'+obj['editable']['border-style']+'" data-text-insert="'+obj['editable']['text-insert']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-color="'+obj['editable']['border-color']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-placeholder="'+obj['editable']['placeholder']+'" data-required="'+obj['editable']['required']+'" data-name="'+obj['editable']['name']+'" data-text="'+obj['editable']['text']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"  data-validation="'+obj.editable.validation+'" '+(obj['editable']['required']==true?"required":"")+' />';addtolayers(layercount,layername,zindex,x,y,'incent_text',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,false,obj['visible'],obj.scalex,obj.scaley,obj.euonly);}
function createnewlayer_radio_incent_field(obj){if(!isEU&&obj.euonly)return;var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:obj.editable.placeholder;obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<input type="radio" tabindex="'+obj.editable.tabindex+'" name="'+obj['editable']['name']+'" aria-invalid="false" aria-label="'+obj.editable.access+'" value="'+obj['editable']['text']+'" class="design-layer-editable" style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-color="'+obj['editable']['border-color']+'" data-border-style="'+obj['editable']['border-style']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-required="'+obj['editable']['required']+'" data-checked="'+obj['editable']['checked']+'" data-name="'+obj['editable']['name']+'" data-text="'+obj['editable']['text']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" '+(obj['editable']['required']==true?"required":"")+' '+(obj['editable']['checked']==true?"checked":"")+' />';addtolayers(layercount,layername,zindex,x,y,'incent_radio',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,false,false,obj['visible'],obj.scalex,obj.scaley,obj.euonly);}
function createnewlayer_checkbox_incent_field(obj){if(!isEU&&obj.euonly)return;var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:obj.editable.placeholder;obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<input type="checkbox" tabindex="'+obj.editable.tabindex+'" name="'+obj['editable']['name']+'" aria-invalid="false" aria-label="'+obj.editable.access+'" value="'+obj['editable']['text']+'" class="design-layer-editable" style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);background-color:'+obj['editable']['background-color']+';border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-color="'+obj['editable']['border-color']+'" data-border-style="'+obj['editable']['border-style']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-required="'+obj['editable']['required']+'" data-checked="'+obj['editable']['checked']+'" data-name="'+obj['editable']['name']+'" data-text="'+obj['editable']['text']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" '+(obj['editable']['required']==true?"required":"")+' '+(obj['editable']['checked']==true?"checked":"")+' />';addtolayers(layercount,layername,zindex,x,y,'incent_checkbox',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,false,false,obj['visible'],obj.scalex,obj.scaley,obj.euonly);}
function createnewlayer_select_incent_field(obj){if(!isEU&&obj.euonly)return;var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:obj.editable.placeholder;obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<select name="'+obj['editable']['name']+'" tabindex="'+obj.editable.tabindex+'" aria-invalid="false" aria-label="'+obj.editable.access+'" class="design-layer-editable" style="opacity:'+obj['editable']['opacity']+';text-align:'+obj['editable']['text-paragraph']+';color:'+obj['editable']['color']+';font-family:'+obj['editable']['font-family']+';font-size:'+obj['editable']['font-size']+'px;border-style:'+obj['editable']['border-style']+';padding:0px '+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);background-color:'+obj['editable']['background-color']+';border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-color="'+obj['editable']['border-color']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-border-style="'+obj['editable']['border-style']+'" data-text-paragraph="'+obj['editable']['text-paragraph']+'" data-color="'+obj['editable']['color']+'" data-font-family="'+obj['editable']['font-family']+'" data-font-size="'+obj['editable']['font-size']+'" data-required="'+obj['editable']['required']+'" data-name="'+obj['editable']['name']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-options=\''+JSON.stringify(obj['editable']['options'])+'\' '+(obj['editable']['required']==true?"required":"")+' >';$.each(obj['editable']['options'],function(entryIndex,entry){layerinner+='<option value="'+this.value+'" '+(this.selected?'selected':'')+'>'+this.label+'</option>';});layerinner+='</select>';addtolayers(layercount,layername,zindex,x,y,'incent_select',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,false,obj['visible'],obj.scalex,obj.scaley,obj.euonly);}
function createnewlayer_textarea_incent_field(obj){if(!isEU&&obj.euonly)return;var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:obj.editable.placeholder;obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<textarea name="'+obj['editable']['name']+'" tabindex="'+obj.editable.tabindex+'" aria-invalid="false" aria-label="'+obj.editable.access+'" placeholder="'+obj['editable']['placeholder']+'" class="design-layer-editable" style="opacity:'+obj['editable']['opacity']+';text-align:'+obj['editable']['text-paragraph']+';color:'+obj['editable']['color']+';font-family:'+obj['editable']['font-family']+';font-size:'+obj['editable']['font-size']+'px;border-style:'+obj['editable']['border-style']+';padding:0px '+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);background-color:'+obj['editable']['background-color']+';border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-padding="'+obj['editable']['padding']+'" data-text-paragraph="'+obj['editable']['text-paragraph']+'" data-color="'+obj['editable']['color']+'" data-font-family="'+obj['editable']['font-family']+'" data-font-size="'+obj['editable']['font-size']+'" data-text-insert="'+obj['editable']['text-insert']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-border-color="'+obj['editable']['border-color']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-placeholder="'+obj['editable']['placeholder']+'" data-required="'+obj['editable']['required']+'" data-name="'+obj['editable']['name']+'" data-text="'+obj['editable']['text']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" '+(obj['editable']['required']==true?"required":"")+'>'+obj['editable']['text']+'</textarea>';addtolayers(layercount,layername,zindex,x,y,'incent_textarea',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,false,obj['visible'],obj.scalex,obj.scaley,obj.euonly);}
function createnewlayer_incent_submit(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.padding=obj.editable.hasOwnProperty("padding")?($.isNumeric(obj.editable.padding)?obj.editable.padding:0):0;obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" role="button" tabindex="'+obj.editable.tabindex+'" type="submit" name="'+obj['editable']['name']+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-direction="'+obj['editable']['direction']+'" data-padding="'+obj['editable']['padding']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-name="'+obj['editable']['name']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'incent_button',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,false,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_video(obj,options){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];obj.editable.direction=obj.editable.hasOwnProperty("direction")?obj.editable.direction:'to top';obj.editable.opacity=obj.editable.hasOwnProperty("opacity")?obj.editable.opacity:1;obj.editable.access=obj.editable.hasOwnProperty("access")?obj.editable.access:"";obj.editable.tabindex=obj.editable.hasOwnProperty("tabindex")&&obj.editable.tabindex!=''?obj.editable.tabindex:parseInt(y);var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';border-style:'+obj['editable']['border-style']+';background-image:url('+obj['editable']['background-image']+');background-repeat:no-repeat;background-position:center center;background-size: 100%;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);background-color:'+obj['editable']['background-color']+';border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-direction="'+obj['editable']['direction']+'" data-border-style="'+obj['editable']['border-style']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-background-image="'+obj['editable']['background-image']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-video-url="'+obj['editable']['video-url']+'" data-video-controls="'+obj['editable']['video-controls']+'" data-video-engage="'+obj['editable']['video-engage']+'" data-video-start="'+obj['editable']['video-start']+'" data-video-id="'+obj['editable']['video-id']+'" data-video-type="'+obj['editable']['video-type']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'"><div id="video_iframe"></div></div>';addtolayers(layercount,layername,zindex,x,y,'video',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);}
function createnewlayer_push(obj){var zindex=obj['z-index'];var layercount=obj['layerid'];var layername=obj['layername'];var thiswidth=obj['layerwidth'];var thisheight=obj['layerheight'];var thisrotate=obj['layerrotate'];var thiseffect=obj['layereffect'];var thiseffect_delay=obj['layereffect-delay'];var thiseffect_speed=obj['layereffect-speed'];var x=obj['layerx'];var y=obj['layery'];var layerinner='<div class="design-layer-editable" tabindex="'+obj.editable.tabindex+'" role="button" type="button" '+(obj.editable.access!=''?'aria-label="'+obj.editable.access+'"':'')+' style="opacity:'+obj['editable']['opacity']+';cursor:pointer;border-style:'+obj['editable']['border-style']+';padding:'+obj['editable']['padding']+'px;border-radius:'+obj['editable']['border-radius']+'px;box-shadow:0px 0px '+obj['editable']['box-shadow']+'px 0px rgba(50, 50, 50, 0.75);background-color:'+(obj['editable']['background-color']==obj['editable']['gradient-color']?obj['editable']['background-color']:'transparent')+';border-width:'+obj['editable']['border-width']+'px;border-color:'+obj['editable']['border-color']+';" data-opacity="'+obj['editable']['opacity']+'" data-padding="'+obj['editable']['padding']+'" data-direction="'+obj['editable']['direction']+'" data-border-style="'+obj['editable']['border-style']+'" data-border-width="'+obj['editable']['border-width']+'" data-border-radius="'+obj['editable']['border-radius']+'" data-box-shadow="'+obj['editable']['box-shadow']+'" data-direction="'+obj['editable']['direction']+'" data-background-color="'+obj['editable']['background-color']+'" data-gradient-color="'+obj['editable']['gradient-color']+'" data-border-color="'+obj['editable']['border-color']+'" data-url="'+obj['editable']['url']+'" data-promo="'+obj['editable']['promo']+'" data-id="'+obj['editable']['id']+'" data-sticky="'+obj['editable']['sticky']+'" data-offset-left="'+obj['editable']['offset-left']+'" data-offset-right="'+obj['editable']['offset-right']+'" data-offset-top="'+obj['editable']['offset-top']+'" data-offset-bottom="'+obj['editable']['offset-bottom']+'" data-window="'+obj['editable']['window']+'" data-name="'+obj['editable']['name']+'" data-domain="'+obj['editable']['domain']+'" data-icon="'+obj['editable']['icon']+'" data-tagids="'+obj['editable']['tagids']+'"><div class="layer-wiziwig" style="height:'+(thisheight-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;width:'+(thiswidth-(obj['editable']['padding']*2)-(obj['editable']['border-width']*2))+'px;">'+obj['html']+'</div></div>';addtolayers(layercount,layername,zindex,x,y,'push',thiswidth,thisheight,thisrotate,thiseffect,thiseffect_delay,thiseffect_speed,layerinner,true,true,true,obj['visible'],obj.scalex,obj.scaley,false);setbackgroundimage(layercount);parent.ju_registerServiceWorker();}
function startvideo(e){if(e.data('video-type')=='youtube'){if(!videoapiinitiated){$.getScript("https://www.youtube.com/iframe_api");}else{$('iframe#video_iframe').remove();player.destroy();player=new YT.Player('video_iframe',{height:'100%',width:'100%',videoId:e.data('video-id'),playerVars:{'autoplay':((e.data('video-start')=='yes')?1:0),'controls':((e.data('video-controls')=='yes')?1:0),'rel':0,'modestbranding':1,'showinfo':0},events:{'onStateChange':onPlayerStateChange}});}}else if(e.data('video-type')=='vimeo'){$.getScript("https://player.vimeo.com/api/player.js",function(){var options={id:e.data('video-id'),width:e.closest('.design-layer').data('layerwidth')-2,height:e.closest('.design-layer').data('layerheight')-2,autoplay:(e.data('video-start')=='yes'),byline:false,title:false};if(videoapiinitiated){player.unload();$('#video_iframe:has("iframe")').remove();}
videoapiinitiated=true;player=new Vimeo.Player('video_iframe',options);if(e.data('video-engage')=='yes'){player.getDuration().then(function(duration){videoduration=duration;videointerval=setInterval(function(){videotime++;player.getEnded().then(function(ended){if(videoduration<=videotime){getpromocode('9','',currentcp,1,1);clearInterval(videointerval);}}).catch(function(error){});},1000);})['catch'](function(error){});};});}
videotype=e.data('video-type');videoengage=e.data('video-engage');videoid=e.data('video-id');videostart=e.data('video-start');videocontrols=e.data('video-controls');videowidth=e.closest('.design-layer').data('layerwidth')-2;videoheight=e.closest('.design-layer').data('layerheight')-2;}
function onYouTubeIframeAPIReady(){videoapiinitiated=true;player=new YT.Player('video_iframe',{height:'100%',width:'100%',videoId:videoid,playerVars:{'autoplay':(videostart=='yes'?1:0),'controls':(videocontrols=='yes'?1:0),'rel':0,'modestbranding':1,'showinfo':0},events:{'onStateChange':onPlayerStateChange}});}
function onPlayerStateChange(event){if(event.data===0&&videoengage=="yes"){getpromocode('9','',currentcp,1,1);}}
function renderfacebookbutton(firsttime,local){setTimeout(function(){if(local===''){local='en_US'};if(firsttime){try{$('#facebook-jssdk, #fb-root, .fb-share-button').remove();delete FB;}catch(err){}
window.fbAsyncInit=function(){FB.init({appId:(typeof(ju_fbid)!='number'?'269601666425322':ju_fbid),xfbml:true,version:'v2.7',channelUrl:'https://www.justuno.com/channel.html',status:true,cookie:true});var fbFaceCheckedIframe=function(){if(document.activeElement===$('.fb-like.fb_iframe_widget iframe')[0]){setTimeout(function(){getpromocode('1','',currentcp,1,1);},1250)}else{setTimeout(fbFaceCheckedIframe,100)}}
fbFaceCheckedIframe();};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/"+local+"/sdk.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));}else{FB.XFBML.parse();}},700)}
function rendergooglefollowbutton(firsttime,local){var thislayereditable=$('.design-layer[data-layertype="googlefollow"] .design-layer-editable');thislayereditable.html('<div class="g-follow" data-callback="googlefollow_vote" data-href="'+((thislayereditable.data('googlefollow-url')=='')?'https://plus.google.com/+Justuno':thislayereditable.data('googlefollow-url'))+'" data-annotation="'+thislayereditable.data('googlefollow-layout')+'" data-height="20" data-rel="publisher"></div>');if(local==''){local='en_US'};setTimeout(function(){if(firsttime){window.___gcfg={lang:local};(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='//apis.google.com/js/platform.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s);})();}else{gapi.follow.go()}},700);}
function rendergoogleplusbutton(firsttime,local){var thislayereditable=$('.design-layer[data-layertype="googleplus"] .design-layer-editable');thislayereditable.html('<div class="g-plusone" data-callback="plusone_vote" data-href="'+((thislayereditable.data('googleplus-url')=='')?'https://plus.google.com/+Justuno':thislayereditable.data('googleplus-url'))+'" data-size="tall" data-annotation="'+thislayereditable.data('googleplus-layout')+'" data-height="20" data-rel="publisher"></div>');if(local==''){local='en_US'};setTimeout(function(){if(firsttime){window.___gcfg={lang:local};(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='//apis.google.com/js/platform.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s);})();}else{gapi.plusone.go()}},700);}
function plusone_vote(obj){if(obj.state=="on"){getpromocode('2','',currentcp,1,1);}}
function googlefollow_vote(obj){if(obj.state=="on"){getpromocode('13','',currentcp,1,1);}}
function rendertwittertweetbutton(firsttime,local){var thislayereditable=$('.design-layer[data-layertype="twittertweet"] .design-layer-editable');thislayereditable.html('<a href="https://twitter.com/share" class="twitter-share-button" data-url="'+((thislayereditable.data('twittertweet-url')=='')?'https://www.justuno.com':thislayereditable.data('twittertweet-url'))+'" data-count="'+thislayereditable.data('twittertweet-layout')+'" data-text="'+thislayereditable.data('twittertweet-text')+'" data-via="'+thislayereditable.data('twittertweet-username')+'" data-hashtags="'+thislayereditable.data('twittertweet-hashtags')+'">Tweet</a>');setTimeout(function(){if(firsttime){window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}});}(document,"script","twitter-wjs"));setTimeout(function(){twttr.ready(function(twttr){twttr.events.bind('tweet',function(event){getpromocode('3','',currentcp,1,1);});})},200)}else{twttr.widgets.load()}},700);}
function rendertwitterfollowbutton(firsttime,local){var thislayereditable=$('.design-layer[data-layertype="twitterfollow"] .design-layer-editable');thislayereditable.html('<a href="https://twitter.com/'+((thislayereditable.data('twitterfollow-username')=='')?'justunosocial':thislayereditable.data('twitterfollow-username'))+'" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow</a>');setTimeout(function(){if(firsttime){window.twttr=(function(d,s,id){var t,js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);return window.twttr||(t={_e:[],ready:function(f){t._e.push(f)}});}(document,"script","twitter-wjs"));setTimeout(function(){twttr.ready(function(twttr){twttr.events.bind('follow',function(event){getpromocode('6','',currentcp,1,1);});})},200)}else{twttr.widgets.load()}},700);}
function renderlinkedinfollowbutton(firsttime,local){var thislayereditable=$('.design-layer[data-layertype="linkedinfollow"] .design-layer-editable');thislayereditable.html('<script type="IN/FollowCompany" data-onsuccess="linked_follow_vote" data-id="'+((thislayereditable.data('linkedinfollow-id')=='')?'1648218':thislayereditable.data('linkedinfollow-id'))+'" data-counter="'+thislayereditable.data('linkedinfollow-layout')+'"></script>');if(local==''){local='en_US'};setTimeout(function(){if(firsttime){try{$('#linkedin-jssdk').remove();delete IN;}
catch(err){}
(function(d,s,id,h){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.innerHTML=h;js.src="//platform.linkedin.com/in.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','linkedin-jssdk','lang:'+local));}else{IN.parse();}},700);}
function linked_vote(){getpromocode('5','',currentcp,1,1);}
function linked_follow_vote(){getpromocode('14','',currentcp,1,1);}
function renderlinkedinsharebutton(firsttime,local){var thislayereditable=$('.design-layer[data-layertype="linkedinshare"] .design-layer-editable');thislayereditable.html('<script type="IN/Share" data-onsuccess="linked_vote" data-url="'+((thislayereditable.data('linkedinshare-url')=='')?'https://www.justuno.com':thislayereditable.data('linkedinshare-url'))+'" data-counter="'+thislayereditable.data('linkedinshare-layout')+'"></script>');if(local==''){local='en_US'};setTimeout(function(){if(firsttime){try{$('#linkedin-jssdk').remove();delete IN;}
catch(err){}
(function(d,s,id,h){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.innerHTML=h;js.src="//platform.linkedin.com/in.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','linkedin-jssdk','lang:'+local));}else{IN.parse();}},700);}
function rendervkfollowbutton(firsttime,local){var thislayereditable=$('.design-layer[data-layertype="vkfollow"] .design-layer-editable');var vkid=((thislayereditable.data('vkfollow-id')=='')?'-1':thislayereditable.data('vkfollow-id'));thislayereditable.html('<div id="vk_subscribe"></div>');if(local==''){local='en_US'};setTimeout(function(){if(firsttime){$.getScript('//vkontakte.ru/js/api/openapi.js',function(){VK.init({apiId:4821712,onlyWidgets:true});VK.Widgets.Subscribe("vk_subscribe",{soft:1,mode:0},vkid);})}else{VK.Widgets.Subscribe("vk_subscribe",{soft:1,mode:0},vkid);}},700);}
function rgba2hex(rgb){rgb=rgb.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(.*?)[\s+]?\)/i);if(rgb!=null&&rgb.length>4){switch(rgb[4].substring(0,3)){case '0':var op='00';break;case '0.0':var op='00';break;case '0.1':var op='19';break;case '0.2':var op='33';break;case '0.3':var op='4c';break;case '0.4':var op='66';break;case '0.5':var op='7f';break;case '0.6':var op='99';break;case '0.7':var op='b2';break;case '0.8':var op='cc';break;case '0.9':var op='e6';break;case '1':var op='ff';break;}
return(rgb&&rgb.length===5)?"#"+
op+
("0"+parseInt(rgb[1],10).toString(16)).slice(-2)+
("0"+parseInt(rgb[2],10).toString(16)).slice(-2)+
("0"+parseInt(rgb[3],10).toString(16)).slice(-2):'';}else{return rgb;}}
function ju_qs(key){key=key.replace(/[*+?^$.\[\]{}()|\\\/]/g,"\\$&");var match=location.search.match(new RegExp("[?&]"+key+"=([^&]+)(&|$)"));return match&&decodeURIComponent(match[1].replace(/\+/gi," "));}
function showModalAlert(message,useLayer){var errorLayer=$('.design-layer[data-layername="subscribe-error-msg"]');var errorSpan=$('.subscribe-error-msg');if(useLayer&&errorLayer.length){if(errorSpan.length){errorSpan.html(message);}else{var thistext=errorLayer.text();thistext=$('<div>'+thistext+'</div>').html();errorLayer.html(errorLayer.html().replace(thistext,"<span class='subscribe-error-msg' aria-atomic='true' aria-live='assertive'>"+message+"</span>"));}
var errorSpan=$('.subscribe-error-msg');errorSpan.attr("role","alert");errorLayer.show().css({'visibility':'visible'});clearTimeout(fadeOutError);fadeOutError=setTimeout(function(){errorLayer.fadeOut();errorSpan.removeAttr("role");},5000);}else{$("#modal-content-inner span").remove();$("#modal-content-inner").prepend("<span aria-atomic='true' style='display:none;' aria-live='assertive' role='alert'>"+message+"</span>");$("#modal-content,#ju-alert").toggleClass("active");$("#modal-close").focus();}
$('.subscribe-error-msg,#modal-content-inner').find('span').show();}
function ju_clip(text){var $input=jju('<textarea style="opacity:0;font-size:18px;"></textarea>').appendTo('body');$input.val(text);if(navigator.userAgent.match(/ipad|ipod|iphone/i)){var el=$input.get(0);el.contentEditable=true;el.readOnly=true;var range=document.createRange();range.selectNodeContents(el);var sel=window.getSelection();sel.removeAllRanges();sel.addRange(range);el.setSelectionRange(0,999999);}else{$input.select();}
var success=document.execCommand('copy');$input.remove();return success;}
function ju_hasTouch(){if(navigator.userAgent.match(/ipad|ipod|iphone|android|silk/i)){return window.ontouchstart!==undefined;}else{return false;}}