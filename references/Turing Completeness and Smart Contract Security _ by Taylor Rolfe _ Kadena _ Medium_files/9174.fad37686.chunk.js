(self.webpackChunklite=self.webpackChunklite||[]).push([[9174],{91553:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(67294),a=n(43487);function i(e){var t=e.disabled,n=e.message,i=void 0===n?"Changes you made may not be saved.":n,o=(0,a.v9)((function(e){return e.client.hydrated}));r.useEffect((function(){if(!t&&o)return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)};function e(e){return e.preventDefault(),e.returnValue=i,i}}),[t,i,o])}},83263:(e,t,n)=>{"use strict";n.d(t,{Q:()=>S,f:()=>N});var r=n(63038),a=n.n(r),i=n(59713),o=n.n(i),c=n(67294),l=n(4381),u=n(94124),s=n(77355),d=n(31889),p=n(14646),f=n(34135),m=n(97217),g=n(43487),h=n(46696);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={xs:-40,sm:-40,md:-45,lg:-80},E={xs:-55,sm:-60,md:-65,lg:-130},b={xs:0,sm:350,md:490,lg:680},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=(0,g.v9)((function(e){return e.client.hydrated})),n=y(y({},b),e),r=c.useState("lg"),i=a()(r,2),o=i[0],l=i[1];return c.useEffect((function(){var e=function(){window.innerWidth>=n.lg?l("lg"):window.innerWidth>=n.md?l("md"):window.innerWidth>=n.sm?l("sm"):window.innerWidth>=n.xs&&l("xs")};return t&&(e(),f.V6.on("resize",e)),function(){t&&f.V6.off("resize",e)}}),[t,n.lg,n.md,n.sm,n.xs]),o},I=function(e,t,n){return function(r){var a=n&&("xs"===t||"sm"===t),i=a?3*O[t]:E[t],o=1===e?"".concat(a?2*O[t]:O[t],"px"):2===e?"".concat(i,"px"):void 0;return{position:"relative",borderRight:e<2?"".concat(3,"px solid ").concat(r.baseColor.background.light):void 0,backgroundColor:r.baseColor.background.light,zIndex:3-e,marginLeft:o,paddingLeft:0===e?"0":"4px"}}},P=function(e){var t,n=e.catalogItem,r=e.width,a=e.height,i=e.isMobile,o=null==n?void 0:n.entity,p=(0,d.F)(),f=c.createElement(s.x,{height:"inherit",minHeight:"".concat(a,"px"),width:"".concat(r,"px"),background:p.baseColor.background.normal});return o&&"Post"===o.__typename&&null!==(t=o.previewImage)&&void 0!==t&&t.id&&(f=c.createElement(l.UV,{miroId:o.previewImage.id,alt:o.previewImage.alt||"",width:r,height:a,aspectRatio:i?l.Pr.FourToThree:void 0,strategy:h._S.Crop,loading:u.K.LAZY,rules:{height:"100%"}})),c.createElement(s.x,{height:"100%"},f)},N=function(e){var t=e.catalogItems,n=e.isEmbeded,r=void 0!==n&&n,a=e.coverWidth,i=e.coverHeight,o=e.breakpoints,l=(0,p.I)(),u=S(o),d=t.filter((function(e){var t,n=e.entity;return!("Post"!==(null==n?void 0:n.__typename)||null===(t=n.previewImage)||void 0===t||!t.id||n.visibility===m.Wn.UNLISTED)})),f=[d[0],d[1],d[2]],g="sm"===u||"xs"===u,h=function(e,t){return 3*t+O[e]+E[e]+6}(u,a);return c.createElement(s.x,{display:"flex",overflow:"hidden",justifyContent:g?r?"space-between":"flex-start":"flex-end",width:g?"100%":"".concat(h,"px"),height:"100%",borderRadius:g?"0 0 3px 3px":"0 3px 3px 0",position:"relative",flexShrink:"0"},f.map((function(e,t){return c.createElement("div",{key:(null==e?void 0:e.catalogItemId)||t,className:l(I(t,u,r))},c.createElement(P,{isMobile:g,catalogItem:e,height:i,width:a}))})))}},47418:(e,t,n)=>{"use strict";n.d(t,{E:()=>u});var r=n(319),a=n.n(r),i=n(27048),o=n(68216),c=n(47282),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EmbedCatalog_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat(a()(i.W.definitions),a()(o.$m.definitions))},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EmbedCatalog_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"Field",name:{kind:"Name",value:"postItemsCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"catalogUrl_catalog"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EmbedCatalog_user"}}]}},{kind:"Field",alias:{kind:"Name",value:"listItemsConnection"},name:{kind:"Name",value:"itemsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PreviewCatalogCovers_catalogItemV2"}}]}}]}}]}}].concat(a()(o.Ui.definitions),a()(l.definitions),a()(c.x.definitions))}},89976:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(55829);function a(e){var t=e.timestamp;return(0,r.Z)(t,Date.now(),{addSuffix:!0})}},13756:(e,t,n)=>{"use strict";n.d(t,{s:()=>g,m:()=>m});var r=n(59713),a=n.n(r),i=n(63038),o=n.n(i),c=n(21919),l=n(27517),u=n(18627),s=n(53546),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"QuoteDeleteMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetQuoteId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteQuote"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"targetQuoteId"},value:{kind:"Variable",name:{kind:"Name",value:"targetQuoteId"}}}]}]}}]};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.children,n=e.onCompleted,r=e.targetPostId,a=e.targetQuoteId,i=e.quoteType,l=e.viewerId,p=(0,u.Av)(),m=(0,c.D)(d,{variables:{targetPostId:r,targetQuoteId:a},onCompleted:function(e){p.event("quotes.ui.quoteDeleted",{postId:r,quoteId:a,quoteType:s.x$[i]}),null==n||n(e)},update:function(e){r&&e.modify({id:e.identify({__typename:"Post",id:r}),fields:{highlights:function(e,t){var n=t.readField;return e.filter((function(e){return n("id",e)!==a}))}}}),l&&e.modify({id:e.identify({__typename:"User",id:l}),fields:{highlightsStreamConnection:function(e,t){var n=t.readField;return f(f({},e),{},{stream:e.stream.filter((function(e){return"StreamItemQuotePreview"!==e.itemType.__typename||!e.itemType.quote||a!==n("id",e.itemType.quote)}))})}}})}});return t({deleteQuote:o()(m,1)[0]})},g=(0,l.$j)()(m)},6722:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});var r=n(67294).createContext({openSidebarToRespondToHighlight:function(){return null}})},75119:(e,t,n)=>{"use strict";n.d(t,{KN:()=>u,Zx:()=>s});var r=n(63038),a=n.n(r),i=n(67294),o=n(10374),c=n(43487),l=(0,i.createContext)({openPrivateNoteId:null,privateNoteSelection:null,setOpenPrivateNoteId:function(){},setPrivateNoteSelection:function(){}}),u=function(e){var t,n,r=e.children,u=(0,c.v9)((function(e){return e.navigation.currentHash}));if(u){var s=u.split("-");t=s[0],n=s[1]}var d=(0,o.Ij)().paragraphRefsMappers,p=d.paragraphRefsMap,f=d.paragraphRefsByNameMap,m=(0,i.useState)(null),g=a()(m,2),h=g[0],v=g[1],y=(0,i.useState)(null),O=a()(y,2),E=O[0],b=O[1];return(0,i.useEffect)((function(){v(n)}),[n]),(0,i.useEffect)((function(){if(t&&!n){var e=f.get(t);e&&setTimeout((function(){return window.scrollTo(0,e.offsetTop)}))}}),[p]),i.createElement(l.Provider,{value:{openPrivateNoteId:h,privateNoteSelection:E,setOpenPrivateNoteId:v,setPrivateNoteSelection:b}},r)},s=function(){return(0,i.useContext)(l)}},86249:(e,t,n)=>{"use strict";n.d(t,{T:()=>_e,M:()=>Fe});var r=n(63038),a=n.n(r),i=n(67294),o=n(75119),c=n(10374),l=n(13119),u=n(67154),s=n.n(u),d=n(59713),p=n.n(d),f=n(6479),m=n.n(f),g=n(27517),h=n(319),v=n.n(h),y=n(28655),O=n.n(y),E=n(92471),b=n(32493),S=n(18627),I=n(53546);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(){var e=O()(["\n  query QuoteCreateMutation_postQuotes($postId: ID!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...QuoteCreateMutation_highlight\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function x(){var e=O()(["\n  mutation QuoteCreateMutation(\n    $targetPostId: ID!\n    $targetPostVersionId: ID!\n    $targetParagraphNames: [ID!]!\n    $startOffset: Int!\n    $endOffset: Int!\n    $quoteType: StreamItemQuoteType!\n  ) {\n    createQuote(\n      targetPostId: $targetPostId\n      targetPostVersionId: $targetPostVersionId\n      targetParagraphNames: $targetParagraphNames\n      startOffset: $startOffset\n      endOffset: $endOffset\n      quoteType: $quoteType\n    ) {\n      __typename\n      id\n      ...QuoteCreateMutation_highlight\n    }\n  }\n  ","\n"]);return x=function(){return e},e}function k(){var e=O()(["\n  fragment QuoteCreateMutation_highlight on Quote {\n    id\n    paragraphs {\n      ...QuoteCreateMutation_paragraph\n    }\n    startOffset\n    endOffset\n    userId\n    user {\n      __typename\n      id\n      name\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function T(){var e=O()(["\n  fragment QuoteCreateMutation_paragraph on Paragraph {\n    id\n    name\n    text\n  }\n"]);return T=function(){return e},e}var R=(0,E.Ps)(T()),M=(0,E.Ps)(k(),R),C=(0,E.Ps)(x(),M),D=(0,E.Ps)(w(),M),j=function(e){var t=e.children,n=e.endOffset,r=e.onUpdate,a=e.onCompleted,o=e.quoteType,c=e.startOffset,l=e.targetParagraphs,u=e.targetPostId,s=e.targetPostVersionId,d=e.viewer,p=(0,S.Av)(),f=l.map((function(e){return e.name})).filter((function(e){return!!e}));return i.createElement(b.m,{mutation:C,onCompleted:function(e){e.createQuote&&p.event("quotes.ui.quoteCreated",{postId:u,quoteId:e.createQuote.id,quoteType:I.x$[o]}),a&&a(e)},optimisticResponse:{createQuote:{__typename:"Quote",id:"temp",paragraphs:l.map((function(e){return{id:"tempQuote_".concat(e.id),name:e.name,text:e.text,__typename:"Paragraph"}})),startOffset:c,endOffset:n,userId:d?d.id:"",user:{__typename:"User",id:d?d.id:"",name:d?d.name:""}}},update:function(e,t){var n,a=e.readQuery({query:D,variables:{postId:u}}),i=null===(n=t.data)||void 0===n?void 0:n.createQuote;if(i){var o,c,l=N(N({},a),{},{post:N(N({},null==a?void 0:a.post),{},{highlights:[].concat(v()(null!==(o=null==a||null===(c=a.post)||void 0===c?void 0:c.highlights)&&void 0!==o?o:[]),[i])})});e.writeQuery({query:D,variables:{postId:u},data:l}),null!=d&&d.id&&"temp"!==i.id&&e.modify({id:e.identify({__typename:"User",id:d.id}),fields:{highlightsStreamConnection:function(e,t){return t.DELETE}}})}r&&r(t.data)},variables:{targetPostId:u,targetPostVersionId:s,targetParagraphNames:f,startOffset:c,endOffset:n,quoteType:o}},(function(e){return t({createQuote:e})}))},H=n(13756),L=(0,g.$j)()((function(e){var t=e.children,n=e.endOffset,r=e.onCompleted,a=e.quoteType,o=e.startOffset,c=e.onUpdate,l=e.targetParagraphs,u=e.targetPostId,s=e.targetPostVersionId,d=e.targetQuoteId,p=e.viewer;return i.createElement(j,{endOffset:n,onUpdate:c,onCompleted:r,quoteType:a,startOffset:o,targetParagraphs:l,targetPostId:u,targetPostVersionId:s,viewer:p},(function(e){var n=e.createQuote;return i.createElement(H.m,{targetPostId:u,targetQuoteId:d||"",onCompleted:r,quoteType:a,viewerId:null==p?void 0:p.id},(function(e){var r=e.deleteQuote;return t({createQuote:n,deleteQuote:r})}))}))})),_=n(6722),A=n(25267),F=n(26350),q=n(78817);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=i.createElement("path",{d:"M13.7 15.96l5.2-9.38-4.72-2.62-5.2 9.38 4.72 2.62zm-.5.89l-1.3 2.37-1.26.54-.7 1.26-3.8-.86 1.23-2.22-.2-1.35 1.31-2.37 4.73 2.62z",fillRule:"evenodd"});const $=function(e){return i.createElement("svg",Q({width:25,height:25,viewBox:"0 0 25 25"},e),U)};function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M17.66 4.55H7.35A4.36 4.36 0 0 0 3 8.9v5.68a4.35 4.35 0 0 0 3.7 4.28v2.77c0 .3.35.48.59.3l3.9-3h6.48a4.37 4.37 0 0 0 4.35-4.35V8.9a4.35 4.35 0 0 0-4.34-4.35zM16 14.31a.99.99 0 0 1-1 .99h-5a1 1 0 0 1-1-.99v-3.02a.99.99 0 0 1 1-.99v-.78A2.5 2.5 0 0 1 12.5 7 2.5 2.5 0 0 1 15 9.5v.79a1 1 0 0 1 1 .99v3.02z"}),i.createElement("path",{d:"M14 9.81c0-.83-.67-1.68-1.5-1.68S11 8.97 11 9.81v.49h3v-.49z"}));const V=function(e){return i.createElement("svg",G({width:25,height:25,viewBox:"0 0 25 25"},e),B)};function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W=i.createElement("path",{d:"M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03z",fillRule:"evenodd"});const J=function(e){return i.createElement("svg",z({width:25,height:25,viewBox:"0 0 25 25"},e),W)};var K=n(27778);function Y(e){var t,n=e.action,r=e.actionHandler,o=e.requireLogin,c=void 0===o||o,l=e.susiProps,u=e.viewer,d=i.useState(null),p=a()(d,2),f=p[0],m=p[1];switch(i.useEffect((function(){m(document&&document.documentElement&&"ontouchstart"in document.documentElement)}),[]),n){case"highlight":t=$;break;case"respond":t=J;break;case"tweet":t=K.Z;break;case"privateNote":t=V;break;default:t=function(){return null}}var g=f?function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}:void 0,h=!u&&c?function(e){var t=e.children;return i.createElement("div",{onTouchStart:g},!!l&&i.createElement(F.R,s()({susiEntry:"highlight_text"},l),t))}:function(e){var t=e.children;return i.createElement(q.P,{rules:{fill:"inherit"},onClick:function(){return r(n)},onTouchStart:g},t)};return i.createElement(h,null,i.createElement(t,null))}var X=n(77355),Z=n(87691),ee=n(66411),te=n(31889),ne=n(14646),re=n(98096),ae=n(14804),ie=n(3207),oe=function(e,t){return function(n){return{display:"inline-block",fill:e?n.accentColor.fill.light:null,paddingRight:t?"6px":null,":hover":{fill:e?n.accentColor.fill.light:null}}}},ce=function(){return{display:"inline-block",fill:ae.ix,padding:"8px 0",whiteSpace:"nowrap"}},le=function(e){return{background:e.baseColor.overlay.lighter,display:"inline-block",height:"25px",width:"1px",verticalAlign:"top"}};function ue(e){var t=e.id,n=e.allowNotes,r=e.allowMainActions,a=e.highlightSourceProvider,o=e.rightContent,c=e.isYourHighlight,l=e.hasIconAfterHighlightIcon,u=e.mouseEnter,s=e.mouseLeave,d=e.position,p=e.update,f=e.onAction,m=e.allowResponse,g=e.allowTweet,h=e.highlightSusiProps,v=(0,te.F)(),y=(0,ne.I)();i.useEffect((function(){p&&p()}),[u,s,d,p]);var O=i.useCallback((function(e){return i.createElement(Y,{action:"highlight",viewer:e,actionHandler:f,susiProps:h})}),[f,h]);return i.createElement(re.f,{theme:(0,ie.$_)(v)},i.createElement(A.I,{nonBlocking:!0},(function(e){return i.createElement("div",{id:t,onMouseEnter:u,onMouseLeave:s},i.createElement("div",{className:y(ce)},r&&i.createElement(i.Fragment,null,i.createElement(X.x,{display:"inline-block",padding:l?"0 12px 0 10px":"0 10px"},i.createElement(i.Fragment,null,i.createElement("div",{className:y(oe(c,l))},a?i.createElement(ee.cW,{source:{name:a}},O(e)):O(e)),m&&i.createElement("div",{className:y((d=g,{display:"inline-block",paddingRight:d?"6px":null}))},i.createElement(Y,{action:"respond",viewer:e,actionHandler:f})),g&&i.createElement(Y,{action:"tweet",viewer:e,requireLogin:!1,actionHandler:f}))),(!!o||n)&&i.createElement("div",{className:y(le)})),!n&&!!o&&i.createElement(X.x,{display:"inline-block",padding:"0 16px"},i.createElement(Z.F,{color:"DARKER",scale:"S"},o)),n&&i.createElement(X.x,{display:"inline-block",padding:"0 16px"},i.createElement(Y,{action:"privateNote",viewer:e,actionHandler:f}))));var d})))}var se=i.memo(ue),de=n(73917),pe=n(77241);function fe(e){var t=e.visible,n=void 0===t||t,r=e.position,a=void 0===r?{left:0,top:0,bottom:0}:r,o=m()(e,["visible","position"]),c=a.left,l=a.top,u=a.bottom,d=i.useCallback((function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}),[]),p=i.useCallback((function(e){e.preventDefault()}),[]);return i.createElement("span",{onMouseDown:p,onMouseUp:d,onClick:d,style:{display:"block",position:"absolute",left:c,top:l,height:"".concat(u-l,"px"),width:"0px"}},n&&i.createElement(de.J,{darkTheme:!0,disablePortalOverlay:!0,display:"block",isVisible:!0,placement:"top",customZIndex:pe.ZP.selectionMenu,popoverRenderFn:function(e){return i.createElement(se,s()({position:a,update:e},o))},referenceHeight:"100%",refTag:"span",shouldAnimateOpen:!0},i.createElement(i.Fragment,null)))}var me=n(97217),ge=n(43487),he=n(60448),ve=n(78870),ye=n(50458);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t=e.highlightId,n=e.children,r=m()(e,["highlightId","children"]),a=i.useContext(_.Q).openSidebarToRespondToHighlight,o=i.useContext(_e),c=o.activeSelection,l=o.setActiveSelection;return i.createElement(L,s()({},r,{quoteType:me.a6.HIGHLIGHT,targetQuoteId:t}),(function(e){var o=e.createQuote,u=e.deleteQuote;return i.createElement(L,s()({},r,{quoteType:me.a6.RESPONSE,onCompleted:function(e){e&&e.createQuote&&e.createQuote.id&&a(e.createQuote)}}),(function(e){var a=e.createQuote;return i.createElement(L,s()({},r,{quoteType:me.a6.HIGHLIGHT,targetQuoteId:t,onUpdate:function(e){return c&&l(Ee(Ee({},c),{},{highlightId:e.createQuote.id}))}}),(function(e){var t=e.createQuote;return n({createHighlightQuote:o,createResponseQuote:a,createTweetQuote:t,deleteHighlightQuote:u})}))}))}))}function Se(e){var t=e.createPrivateNote,n=e.interactivePost,r=e.isPersistent,a=e.mouseEnter,o=e.mouseLeave,c=e.position,l=void 0===c?{left:0,top:0,bottom:0}:c,u=e.highlightId,d=e.highlights,p=e.selectedParagraphs,f=e.startOffset,m=e.endOffset,g=i.useContext(_e),h=g.activeSelection,v=g.setActiveSelection,y=(0,S.Av)(),O=(0,ge.v9)((function(e){return e.config.authDomain})),E=!!n&&!!n.isPublished,b=!!(n&&n.creator&&n.creator.allowNotes),I=d&&d.find((function(e){return e.id===u})),P=n.id,N=n.latestPublishedVersion,w=!(0,he.T)(),x=p.map((function(e){return e.name})),k=E&&("PUBLIC"===n.visibility||!!n.isLocked),T=w||k,R=i.useCallback((function(e){var t=e.isYourHighlight,n=e.createQuote,r=e.viewer,a=h&&h.selectedParagraph&&h.selectedParagraph.text,i=h&&h.startOffset,o=h&&h.endOffset,c="";a&&"number"==typeof i&&"number"==typeof o&&(c=encodeURIComponent(a.slice(i,o))),r&&r.id&&!t&&n(),window.open("".concat((0,ye.A2)(O,P),"?type=highlight&text=").concat(c),"_blank"),y.event("post.shareOpen",{postId:P,source:"highlight_menu",dest:"twitter",dialogType:"native"})}),[h,f,m,P]),M=i.useCallback((function(e,n){return function(r){"highlight"===r?(v(null),n?e.deleteHighlightQuote():e.createHighlightQuote()):"respond"===r?e.createResponseQuote():"tweet"===r?e.createTweetQuote():"privateNote"===r&&t()}}),[v,t]);return i.createElement(A.I,{nonBlocking:!0},(function(e){var t,n=!(!I||!e)&&e.id===I.userId;if(n)t="You highlighted";else if(I&&"anon"===I.userId)t="Top highlight";else{var c,d;t=null!==(c=null==I||null===(d=I.user)||void 0===d?void 0:d.name)&&void 0!==c?c:""}var g={targetPostId:P,targetPostVersionId:N,targetParagraphs:p,startOffset:f,endOffset:m,viewer:e};return i.createElement(be,s()({highlightId:u},g),(function(c){return i.createElement(fe,{position:l,allowMainActions:E,visible:b||E,allowNotes:r&&b,allowResponse:w,allowTweet:k,rightContent:r?void 0:t,isYourHighlight:n,hasIconAfterHighlightIcon:T,hasPaddingAfterResponse:k,highlightSourceProvider:I?"quote_click_menu":"selection_menu",highlightSusiProps:{actionUrl:(0,ve.Rk)((0,ye.QW)(O,P),{endOffset:m.toString(),paragraphName:x.toString(),startOffset:f.toString(),versionId:N}),operation:"register"},mouseEnter:a,mouseLeave:o,onAction:M(Ee(Ee({},c),{},{createTweetQuote:function(){return R({isYourHighlight:n,viewer:e,createQuote:c.createTweetQuote})}}),n)})}))}))}var Ie=n(92947),Pe=n(69217);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(){var e=O()(["\n  mutation NoteCreateMutation(\n    $targetPostId: ID!\n    $targetPostVersion: ID!\n    $targetParagraphName: ID!\n    $noteContent: String!\n    $selectionStartOffset: Int!\n    $selectionEndOffset: Int!\n  ) {\n    createNote(\n      targetPostId: $targetPostId\n      targetPostVersion: $targetPostVersion\n      targetParagraphName: $targetParagraphName\n      noteContent: $noteContent\n      selectionStartOffset: $selectionStartOffset\n      selectionEndOffset: $selectionEndOffset\n    ) {\n      id\n      ...NoteCreateMutation_privateNote\n    }\n  }\n  ","\n"]);return xe=function(){return e},e}function ke(){var e=O()(["\n  query NoteCreateMutation_postNotes($postId: ID!) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n        ...NoteCreateMutation_privateNote\n      }\n    }\n  }\n  ","\n"]);return ke=function(){return e},e}function Te(){var e=O()(["\n  fragment NoteCreateMutation_privateNote on Note {\n    id\n    anchor\n    author {\n      id\n    }\n    content\n    createdAt\n    replies {\n      id\n    }\n    post {\n      id\n    }\n    postId\n    selectionStartOffset\n    selectionEndOffset\n  }\n"]);return Te=function(){return e},e}var Re=(0,E.Ps)(Te()),Me=(0,E.Ps)(ke(),Re),Ce=(0,E.Ps)(xe(),Re),De=function(e){var t=e.children,n=e.onCompleted,r=e.targetPostId,a=e.targetPostVersion,c=e.targetParagraphName,l=e.selectionStartOffset,u=e.selectionEndOffset,s=(0,o.Zx)().setOpenPrivateNoteId;return i.createElement(A.I,null,(function(e){return i.createElement(b.m,{mutation:Ce,onCompleted:n,update:function(e,t){var n=e.readQuery({query:Me,variables:{postId:r}}),a=we(we({},t.data.createNote),{},{selectionStartOffset:l,selectionEndOffset:u,post:{id:r,__typename:"Post"}}),i={post:we(we({},n.post),{},{privateNotes:[].concat(v()(n.post.privateNotes),[a])})};e.writeQuery({query:Me,variables:{postId:r},data:i})}},(function(n){return t({onCreateMutate:function(t){var i=n({variables:{targetPostId:r,targetPostVersion:a,targetParagraphName:c,selectionStartOffset:l,selectionEndOffset:u,noteContent:t},optimisticResponse:{__typename:"Mutation",createNote:{__typename:"Note",id:"temp",anchor:c,author:e,content:t,createdAt:new Date,replies:[],postId:r,selectionStartOffset:l,selectionEndOffset:u,post:{id:r,__typename:"Post"}}}});return s("temp"),i}})}))}))},je=n(82865),He=function(e){var t=e.activeSelection,n=t.selectedParagraph.name,r=t.startOffset,a=t.endOffset,o=e.onCancel,c=e.onMutationComplete,l=e.onNoteCreation,u=e.post;return n?i.createElement(X.x,{padding:"12px 20px"},i.createElement(De,{targetPostId:u.id,targetPostVersion:u.latestPublishedVersion,targetParagraphName:n,selectionStartOffset:r,selectionEndOffset:a,onCompleted:c},(function(e){var t=e.onCreateMutate;return i.createElement(je.X,{onSubmit:function(e){t(e),l()},onCancel:o})}))):null},Le=n(66227),_e=i.createContext({activeSelection:null,setActiveSelection:function(){}}),Ae=function(e,t,n){for(var r,a=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT),i=0;r=a.nextNode();)if("NOSCRIPT"!==r.nodeName){if(e===r)return i+t;r.nodeType===Node.TEXT_NODE?i+=r.nodeValue.length:"BR"===r.nodeName&&(i+=1)}else a.nextNode();return-1},Fe=function(e){var t,n=e.children,r=e.highlights,u=e.interactivePost,s=e.disableSelection,d=void 0!==s&&s,p=i.useState(null),f=a()(p,2),m=f[0],g=f[1],h=(0,o.Zx)(),v=h.setOpenPrivateNoteId,y=h.setPrivateNoteSelection,O=function(e){var t=e.createNote,n=null==t?void 0:t.id;n&&v(n)},E=(0,c.Ij)().paragraphRefsMappers,b=E.paragraphRefsMap,S=E.paragraphRefsByNameMap,I=i.useCallback((function(){g(null),document.removeEventListener("click",I)}),[g]),P=i.useCallback((function(e,n){var r=function(e,t){return{startOffset:Ae(e.startContainer,e.startOffset,t),endOffset:Ae(e.endContainer,e.endOffset,t)}}(e,n),a=r.startOffset,i=r.endOffset;if(-1!==a&&-1!==i&&i-a!=0&&(!m||m.startOffset!==a||m.endOffset!==i)){var o=b.get(n);if(o){var c=e.getBoundingClientRect(),l=c.left,u=c.top,s=c.right,d=c.bottom,p={isFocused:!0,selectedParagraph:o,startOffset:a,endOffset:i,menuPosition:{left:(l+s)/2+window.pageXOffset,top:u+window.pageYOffset,bottom:d+window.pageYOffset}};setTimeout((function(){g(p)})),document.removeEventListener("click",I),t=setTimeout((function(){return document.addEventListener("click",I)}),20)}}}),[b,m,g]);return i.useEffect((function(){return function(){t&&clearTimeout(t),document.removeEventListener("click",I)}}),[b,g]),(0,l.f)(P,d),i.createElement(_e.Provider,{value:{activeSelection:m,setActiveSelection:g}},i.createElement(Le.B,null,(function(e){var t=e.isVisible,n=e.hide,a=e.show,o=function(){g(null),y(null),n()},c=m&&m.selectedParagraph&&m.selectedParagraph.name,l=S.get(c||"");return i.createElement(Pe.G,{isVisible:t,hide:o,reference:l,popoverRenderFn:function(){return i.createElement(Ie.Y,null,u&&m?i.createElement(He,{activeSelection:m,onCancel:o,onMutationComplete:O,onNoteCreation:o,post:u}):i.createElement(i.Fragment,null))}},u&&!t&&m&&m.menuPosition?i.createElement(Se,{createPrivateNote:function(){y({id:"private-note-selection",paragraphs:[m.selectedParagraph],userId:null,startOffset:m.startOffset,endOffset:m.endOffset,user:void 0}),a()},endOffset:m.endOffset,highlightId:m.highlightId,highlights:r,interactivePost:u,isPersistent:m.isFocused,mouseEnter:m.menuMouseEnter,mouseLeave:m.menuMouseLeave,position:m.menuPosition,selectedParagraphs:[m.selectedParagraph],startOffset:m.startOffset}):i.createElement(i.Fragment,null))})),n)}},10374:(e,t,n)=>{"use strict";n.d(t,{yb:()=>u,Ij:()=>s,CF:()=>d});var r=n(63038),a=n.n(r),i=n(67294),o=n(13119),c=i.createContext({paragraphRefsMappers:{paragraphRefsMap:new Map,paragraphTitlesRefsByStyleMap:new Map,paragraphRefsByNameMap:new Map},addParagraphRef:function(){}}),l=function(){return{paragraphRefsMap:new Map,paragraphTitlesRefsByStyleMap:new Map,paragraphRefsByNameMap:new Map}},u=function(e){var t=e.children,n=i.useState(l),r=a()(n,2),o=r[0],u=r[1],s=i.useCallback((function(e,t,n){u((function(r){if(!e.current)return r;var a=r.paragraphRefsMap,i=r.paragraphTitlesRefsByStyleMap,o=r.paragraphRefsByNameMap,c=["Title","Subtitle"].includes(n),l=new Map(i);n&&c&&l.set(n,e.current);var u=new Map(a);c||u.set(e.current,t);var s=new Map(o);return t.name&&!c&&s.set(t.name,e.current),{paragraphRefsMap:u,paragraphTitlesRefsByStyleMap:l,paragraphRefsByNameMap:s}}))}),[u]);return i.createElement(c.Provider,{value:{paragraphRefsMappers:o,addParagraphRef:s}},t)},s=function(){return i.useContext(c)},d=function(e,t){var n=i.useContext(c).addParagraphRef,r=i.useRef(null);return i.useEffect((function(){r.current&&(r.current.setAttribute(o.O,""),n(r,e,t))}),[r]),r}},13119:(e,t,n)=>{"use strict";n.d(t,{O:()=>a,f:()=>o});var r=n(67294),a="data-selectable-paragraph",i=function(e){if(!e.commonAncestorContainer)return null;var t=e.commonAncestorContainer instanceof Element?e.commonAncestorContainer:e.commonAncestorContainer.parentElement;return t?t.closest("[".concat(a,"]")):null},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.useEffect((function(){var n=function(){if(!t){var n=document.getSelection();if(n&&"Range"===n.type&&!(n.rangeCount>1)){var r=n.getRangeAt(0);if(r){var a=i(r);a&&e(r,a)}}}};return document.addEventListener("mouseup",n),function(){return document.removeEventListener("mouseup",n)}}),[e])}},46509:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,s:()=>l});var r=n(59713),a=n.n(r),i=n(97217),o=function(e){var t;return(t={},a()(t,i.NJ.BQ,!0),a()(t,i.NJ.PQ,!0),a()(t,i.NJ.H1,!0),a()(t,i.NJ.H2,!0),a()(t,i.NJ.H3,!0),a()(t,i.NJ.HR,!0),a()(t,i.NJ.COVER_TITLE,!0),a()(t,i.NJ.H4,!0),a()(t,i.NJ.OLI,!0),a()(t,i.NJ.P,!0),a()(t,i.NJ.SECTION_CAPTION,!0),a()(t,i.NJ.ULI,!0),a()(t,i.NJ.PRE,!0),a()(t,i.NJ.IFRAME,!1),a()(t,i.NJ.MIXTAPE_EMBED,!1),a()(t,i.NJ.IMG,!1),t)[e]},c=[i.NJ.PQ,i.NJ.H4],l=function(e,t){for(var n=null,r=0;r<e.length&&e[r];r++){var a=e[r].type;if(o(a)){if(!t.includes(a))break;n=r;break}}return n}},30764:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var r=n(67294),a=n(14646),i=n(21638),o=function(e){return{backgroundColor:e.baseColor.background.normal,padding:"2px 4px",fontSize:"75%","> strong":{fontFamily:"inherit"}}},c=function(e){var t=e.children,n=(0,a.I)();return r.createElement("code",{className:n([o,(0,i.XK)()])},t)}},83363:(e,t,n)=>{"use strict";n.d(t,{V:()=>f,U:()=>h});var r=n(59713),a=n.n(r),i=n(63038),o=n.n(i),c=n(67294),l=n(86249);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d,p,f=c.createContext({updateHighlightSegments:function(){},highlightSegments:new Map}),m=function(){return new Map},g=function(e,t,n){var r=e.reduce((function(e,r){var a=t.get(r);if(!a||!a.startOffset&&0!==a.startOffset||!a.endOffset&&0!==a.endOffset)return e;if(!e||!e.startOffset&&0!==e.startOffset||!e.endOffset&&0!==e.endOffset)return a;var i=e.endOffset-e.startOffset,o=a.endOffset-a.startOffset;return a.userId===n&&e.userId!==n||i>o?a:e}),null);return r&&r.id},h=function(e){var t=e.children,n=e.highlights,r=e.paragraphs,a=e.viewer,i=n||[],u=c.useMemo((function(){return new Map(i.map((function(e){return[e.id,e]})))}),[i]),h=c.useMemo((function(){return new Map}),[]),v=c.useState(m),y=o()(v,2),O=y[0],E=y[1],b=c.useContext(l.T),S=b.activeSelection,I=b.setActiveSelection,P=function(e){var t=h.get(e);if(t){var n=Array.from(t).map((function(e){return O.get(e)})).filter(Boolean).reduce((function(e,t){if(!t.ref.current)return e;var n=t.ref.current.getBoundingClientRect(),r=n.left,a=n.top,i=n.right,o=n.bottom,c=r+window.pageXOffset,l=i+window.pageXOffset,u=a+window.pageYOffset,s=o+window.pageYOffset;return(!e.minLeft||c<e.minLeft)&&(e.minLeft=c),(!e.maxRight||l>e.maxRight)&&(e.maxRight=l),(!e.minTop||u<e.minTop)&&(e.minTop=u),(!e.maxTop||s<e.maxTop)&&(e.maxTop=s),e}),{});return{left:(n.minLeft+n.maxRight)/2,top:n.minTop,bottom:n.maxTop}}},N=function(e){if(e&&e.paragraphs&&(e.startOffset||0===e.startOffset)&&(e.endOffset||0===e.endOffset)){var t=r.find((function(t){var n=t.name;return e&&e.paragraphs[0].name===n}));return t?{isFocused:!1,selectedParagraph:t,highlightId:e.id,startOffset:e.startOffset,endOffset:e.endOffset,menuPosition:P(e.id)}:null}},w={highlightSegments:c.useMemo((function(){var e=new Map;return O.forEach((function(t,n){var r=t.highlightIds,i=function(){S&&S.isFocused||(p=function(){g(r,u,a&&a.id)&&(I(null),d=null,p=null)},d=setTimeout(p,100))},o=s(s({},t),{},{isActive:!!S&&t.highlightIds.includes(S.highlightId),onClick:function(){var e=document.getSelection();if(!e||"Range"!==e.type){var t=g(r,u,a&&a.id),n=u.get(t||""),i=N(n);i&&setTimeout((function(){I(s(s({},i),{},{isFocused:!0}));var e=document.documentElement&&"ontouchstart"in document.documentElement?"touchstart":"click";document.addEventListener(e,(function t(){I(null),document.removeEventListener(e,t)}))}))}}});document.documentElement&&!("ontouchstart"in document.documentElement)&&(o.onMouseEnter=function e(){if(!S||!S.isFocused){d&&p&&(clearTimeout(d),p());var t=g(r,u,a&&a.id),n=u.get(t||""),o=N(n);o&&I(s(s({},o),{},{isFocused:!1,menuMouseEnter:e,menuMouseLeave:i}))}},o.onMouseLeave=i),e.set(n,o)})),e}),[O,u,a,S]),updateHighlightSegments:function(e,t){var n=t.highlightIds,r=t.ref;E((function(t){var i=new Map(t);return i.set(e,{isActive:!!S&&n.includes(S.highlightId),highlightIds:n,ref:r,viewerIsOwner:n.some((function(e){var t=u.get(e);return a&&t&&t.userId===a.id}))}),i})),n.forEach((function(t){var n=h.get(t);n||(n=new Set),n.add(e),h.set(t,n)}))}};return c.createElement(f.Provider,{value:w},t)}},38381:(e,t,n)=>{"use strict";n.d(t,{T2:()=>fe});var r=n(319),a=n.n(r),i=n(28655),o=n.n(i),c=n(92471),l=n(67294),u=n(27403),s=n(46509),d=n(14646),p=n(43487),f=n(78870),m=n(61937),g=function(e,t){return{color:"inherit",textDecoration:"Kicker"===e||function(e,t){return["Title"].concat(a()(s.j)).includes(e)&&("CARD"===t||"SHORTFORM_CARD"===t||"INLINE"===t&&"Title"===e)}(e,t)?"none":"underline"}},h=function(e){var t=e.href,n=e.children,r=e.paragraphStyle,a=e.richTextStyle,i=(0,d.I)(),o=(0,p.v9)((function(e){return e.config.authDomain}));if(!(0,m.wY)(t))return n;var c=!(0,f.xm)(t,o);return"STREAM"===a?l.createElement("span",{className:i(g(r,a))},n):l.createElement(u.e,{href:t,className:i(g(r,a)),target:c?"_blank":void 0,disableSourceParam:!0},n)},v=n(30764),y=n(59713),O=n.n(y),E=n(4381),b=n(31889),S=n(43210),I=n(46696);function P(){var e=o()(["\n  fragment DropCap_image on ImageMetadata {\n    id\n    originalHeight\n    originalWidth\n  }\n"]);return P=function(){return e},e}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var w=function(e,t){return{display:"block",float:"left",height:"".concat(t,"px"),marginRight:"12px",position:"relative",width:"".concat(e,"px")}},x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxWidth:"100%",marginTop:{xs:"-2px",sm:"-2px",md:"11px",lg:"11px",xl:"11px"}},(0,S.m)());function k(e){var t=e.children,n=e.image,r=e.text,a=(0,d.I)(),i=(0,b.F)();if(!n||!n.originalWidth||!n.originalHeight)return l.createElement(l.Fragment,null,t);var o=3*i.newFonts.body.lineHeight.S-5,c=n.originalHeight,u=o*(n.originalWidth/c);return l.createElement("span",{className:a(w(u,o))},l.createElement(E.UV,{alt:r,miroId:n.id,rules:[x],strategy:I._S.Resample,height:o,width:u,freezeGifs:!1}),t)}function T(e){var t,n=(0,d.I)(),r=e.image,a=e.text;return l.createElement(k,e,l.createElement("span",{className:n((t=!!r,{display:"block",float:"left",fontSize:"66px",lineHeight:".83",marginRight:"12px",paddingTop:{xs:"0",sm:"0",md:"7px",lg:"7px",xl:"7px"},position:"relative",opacity:t?"0":null}))},a))}var R=(0,c.Ps)(P()),M=n(32342),C=function(e){switch(e){case"P":case"OLI":case"ULI":case"BQ":case"PRE":return"italic"===(0,M.S$)(e)?{fontStyle:"normal"}:{fontStyle:"italic"};default:return{fontStyle:"inherit"}}},D=function(e){var t=e.children,n=e.paragraphStyle,r=(0,d.I)();return l.createElement("em",{className:r(C(n))},t)},j=/[\r\n↵]/,H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.split(j);if(n.length<=1)return e;if(1===e.length&&""===n[0]&&""===n[1])return l.createElement("br",{key:"".concat(t)});""===n[n.length-1]&&n.pop();var r=[];return n.forEach((function(e){r.push(e),r.push("br")})),j.test(e[e.length-1])||r.pop(),l.createElement(l.Fragment,null,r.map((function(e,n){return n%2==0?e||null:l.createElement("br",{key:"".concat(t).concat(n)})})))},L=n(83363),_=function(e,t){return function(n){return{backgroundColor:e&&n.highlightColor.dark||t&&n.highlightColor.normal||n.highlightColor.light,color:"currentColor",cursor:"pointer"}}},A=function(e){var t=e.children,n=e.highlightIds,r=e.segmentId,a=(0,d.I)(),i=l.useRef(null),o=n.some((function(e){return"private-note-selection"===e})),c=l.useContext(L.V),u=c.highlightSegments,s=c.updateHighlightSegments,p=u.get(r),f=p||{},m=f.isActive,g=f.viewerIsOwner,h=f.onClick,v=f.onMouseEnter,y=f.onMouseLeave;return l.useEffect((function(){o||p&&p.ref&&p.ref.current&&n.length===p.highlightIds.length&&n.every((function(e){return p.highlightIds.includes(e)}))||s(r,{highlightIds:n,ref:i})}),[n,i]),l.createElement("mark",{className:a(_(m||o,!!g)),onClick:h,onMouseEnter:v,onMouseLeave:y,ref:i},t)},F=l.memo(A),q=n(46484),Q=n(35283),U=n(21638),$=function(e,t,n){return function(r){switch(e){case"P":case"BQ":case"OLI":case"ULI":return t?(0,U.OA)()(r):n?(0,U.qd)()(r):{fontFamily:r.newFonts.body.family,fontWeight:r.newFonts.body.boldWeight};case"PRE":return(0,U.t5)()(r);case"IMG":return{fontFamily:r.newFonts.detail.family,fontWeight:r.newFonts.detail.boldWeight};default:return{fontWeight:"inherit"}}}},G=function(e){var t=e.children,n=e.paragraphStyle,r=(0,d.I)(),a=l.useContext(Q.H).threadDepthOnPage;return l.createElement(q.M.Consumer,null,(function(e){return l.createElement("strong",{className:r($(n,!!a,e))},t)}))},B=n(64718),V=n(27517),z=n(21417),W=n(28695),J=n(54341),K=n(26244),Y=n(50458);function X(){var e=o()(["\n  query UserMentionTooltipQuery($userId: ID!) {\n    user(id: $userId) {\n      ...UserMentionTooltip_user\n    }\n  }\n  ","\n"]);return X=function(){return e},e}var Z=function(e){return{background:"none",color:e.accentColor.text.normal,textDecoration:"none"}},ee={display:"inline-block",width:"auto"},te=(0,V.$j)((function(e){return{authDomain:e.config.authDomain}}))((function(e){var t=e.children,n=e.userId,r=e.richTextStyle,a=e.authDomain,i=(0,d.I)(),o=(0,B.a)(ne,{variables:{userId:n},ssr:!1}).data,c=null==o?void 0:o.user,s=l.createElement(u.e,{target:"_blank",href:(0,Y.bU)(a,n),className:i(Z)},t);return"STREAM"===r?l.createElement("span",{className:i(Z)},t):l.createElement(z.b,{name:"enable_author_cards",placeholder:function(){return s}},(function(e){return e&&c?l.createElement("div",{className:i(ee)},l.createElement(K.$,{placement:"right",targetDistance:15,mouseLeaveDelay:200,popoverRenderFn:function(){return c&&l.createElement(W.K,{user:c})},fallbackPlacements:["top","bottom"]},l.createElement(u.e,{target:"_blank",href:(0,Y.bU)(a,n),className:i(Z)},t))):s}))})),ne=(0,c.Ps)(X(),J.O);function re(){var e=o()(["\n  fragment MarkupNode_data_dropCapImage on ImageMetadata {\n    ...DropCap_image\n  }\n  ","\n"]);return re=function(){return e},e}var ae=(0,c.Ps)(re(),R),ie=function e(t){var n=t.data,r=t.prefix,a=t.paragraphStyle,i=t.richTextStyle;if("string"==typeof n)return H(n,r);var o=n.children.map((function(t,n){return"string"==typeof t?H(t,"".concat(r).concat(n)):l.createElement(e,{key:n,data:t,paragraphStyle:a,prefix:"".concat(r).concat(n),richTextStyle:i})}));switch(n.type){case"A":return l.createElement(h,{href:n.href,paragraphStyle:a,richTextStyle:i},o);case"CODE":return"PRE"===a?l.createElement(l.Fragment,null,o):l.createElement(v.E,null,o);case"DROPCAP":var c=o[0];return c&&"string"==typeof c?"BQ"===a||"PQ"===a?c:l.createElement(T,{text:c,image:n.dropCapImage}):null;case"EM":return l.createElement(D,{paragraphStyle:a},o);case"QUOTE":return l.createElement(F,{highlightIds:n.highlightIds,segmentId:n.segmentId,key:n.segmentId},o);case"STRONG":return l.createElement(G,{paragraphStyle:a},o);case"USER_MENTION":return l.createElement(te,{userId:n.userId,richTextStyle:i},o);case"HLJS_MARKUP":return l.createElement("span",{className:"hljs-"+n.className},o);default:return null}},oe=l.memo(ie);function ce(){var e=o()(["\n  fragment Markups_paragraph on Paragraph {\n    name\n    text\n    hasDropCap\n    dropCapImage {\n      ...MarkupNode_data_dropCapImage\n    }\n    markups {\n      type\n      start\n      end\n      href\n      anchorType\n      userId\n      linkMetadata {\n        httpStatus\n      }\n    }\n  }\n  ","\n"]);return ce=function(){return e},e}function le(){var e=o()(["\n  fragment Markups_highlight on Quote {\n    id\n    paragraphs {\n      name\n    }\n    startOffset\n    endOffset\n    userId\n  }\n"]);return le=function(){return e},e}var ue="ABCDEFGHIJKLMNOPQRSTUVWXYZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƏǺǼǾȘȚẀẂẄẞỲΩ∆",se="abcdefghijklmnopqrstuvwxyzµßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżžſǻǽǿșțȷəẁẃẅỳ",de=new RegExp("^["+ue+"]["+se+"\\,\\.](?= )|^["+ue+"]’(?=["+se+"])|^[’‘“„”]?["+ue+"]|^[0-9]{1,4}\\.?(?![0-9])"),pe=function(e){var t=e.highlights,n=e.paragraph,r=e.paragraphStyle,a=e.richTextStyle,i=e.allowDropCap,o=void 0!==i&&i,c=e.hljsMarkups;return he(n,a,o,t||[],c).map((function(e,t){return l.createElement(oe,{key:t,data:e,paragraphStyle:r,prefix:t.toString(),richTextStyle:a})}))},fe=l.memo(pe),me=((0,c.Ps)(le()),(0,c.Ps)(ce(),ae),function(e){return null!=e.type&&null!=e.start&&null!=e.end}),ge=function(e,t){var n={COMMENT:1,HIGHLIGHT:2,FULL_HIGHLIGHT:3,HIGHLIGHT_SEGMENT:4,QUOTE:5,QUERY:6,CODE:7,A:8,STRONG:9,EM:10,WARNING:11,DROPCAP:12,UNUSED_DETAIL:14,SENTENCE_DEPRECATED:15,HLJS_MARKUP:16};if(null==e.type||null==e.start||null==e.end||null==t.type||null==t.start||null==t.end)throw new Error("Comparing markups requires type, start, and end fields.");var r=n[e.type]-n[t.type];if(0!==r)return r;if("HLJS_MARKUP"===e.type&&"HLJS_MARKUP"===t.type){var a=e.priority-t.priority;if(0!==a)return a}if(0!=(r=e.start-t.start))return r;if(0!=(r=e.end-t.end))return r;var i=JSON.stringify(e),o=JSON.stringify(t);return i>o?1:i<o?-1:0},he=function(e,t,n,r,i){var o=e.dropCapImage,c=[],l=function(e,t,n,r,i){var o=e.hasDropCap,c=e.text;if(!c)return[];var l=n&&("FULL_PAGE"===t||"INLINE"===t)&&o,u=e.text?e.text.length:0,s=r.map((function(t){return{type:"FULL_HIGHLIGHT",highlightId:t.id,start:t.startOffset||0,end:t.paragraphs[0].name===e.name&&t.endOffset||u-1}})),d=void 0!==i?[].concat(a()(s),a()(i)).filter(me):[].concat(a()(e.markups),a()(s)).filter(me),p=new Set;p.add(0),p.add(c.length),d.forEach((function(e){p.add(e.start),p.add(e.end)}));var f=[];if(d.slice().sort(ge).forEach((function(e){f.push(e)})),l){var m=function(e){if(!e)return"";var t=de.exec(e),n=t?t[0]:"";return n.length>=e.trim().length?"":n}(e.text);m.length>0&&(p.add(m.length),f.unshift({type:"DROPCAP",start:0,end:m.length}))}var g=Array.from(p).sort((function(e,t){return e-t})),h=g.map((function(e,t){var n;return{point:e,markups:f.filter((function(t){return t.start<=e&&t.end>e})).reduce((function(r,a){return"FULL_HIGHLIGHT"===a.type?(n||(n={type:"HIGHLIGHT_SEGMENT",highlightIds:[],start:e,end:g[t]-1},r.push(n)),n.highlightIds.push(a.highlightId)):r.push(a),r}),[])}}));if(l){var v=h[0].markups.filter((function(e){return"DROPCAP"===e.type}));if(v.length>0){var y=v[0];h[0].markups=[y]}}return h}(e,t,n,r,i),u=[],s=[];return l.forEach((function(t,n){var r=t.point,a=t.markups,i=(l[n+1]||l[l.length-1]).point,d=(e.text||"").slice(r,i);u=s,s=[];var p=!1,f=c,m=function(e){s.push(e);var t=e.markupNodeData;"string"!=typeof t&&(f=t.children)};a.forEach((function(t,n){var r=u[n];if(!p&&r&&r.markup===t)m({markup:t,markupNodeData:r.markupNodeData});else{p=!0;var a=ve(t,o,e);a&&(f.push(a),m({markup:t,markupNodeData:a}))}})),f.push(d)})),c},ve=function(e,t,n){switch(e.type){case"A":return"LINK"!==e.anchorType&&e.anchorType?"USER"===e.anchorType&&e.userId?{type:"USER_MENTION",userId:e.userId,children:[]}:null:e.href?{type:"A",href:e.href,children:[]}:null;case"CODE":return{type:"CODE",children:[]};case"DROPCAP":return{type:"DROPCAP",dropCapImage:t,children:[]};case"EM":return{type:"EM",children:[]};case"STRONG":return{type:"STRONG",children:[]};case"HIGHLIGHT":return{type:"QUOTE",highlightIds:[],segmentId:"".concat(n.name||"","_").concat(e.start),children:[]};case"HIGHLIGHT_SEGMENT":return{type:"QUOTE",highlightIds:e.highlightIds,segmentId:"".concat(n.name||"","_").concat(e.start),children:[]};case"HLJS_MARKUP":return{type:"HLJS_MARKUP",className:e.className,children:[]};default:return null}}},44651:(e,t,n)=>{"use strict";n.d(t,{A7:()=>Ue});var r=n(28655),a=n.n(r),i=n(319),o=n.n(i),c=n(63038),l=n.n(c),u=n(92471),s=n(67294),d=n(75119),p=n(92947),f=n(69217),m=n(27517),g=n(63459),h=n(14294),v=n(89976),y=n(59713),O=n.n(y),E=n(32493);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(){var e=a()(["\n  query NoteDeleteMutation_postNotes($postId: ID!) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n    }\n  }\n"]);return I=function(){return e},e}function P(){var e=a()(["\n  mutation NoteDeleteMutation($targetPostId: ID!, $targetNoteId: ID!) {\n    deleteNote(targetPostId: $targetPostId, targetNoteId: $targetNoteId)\n  }\n"]);return P=function(){return e},e}var N=(0,u.Ps)(P()),w=(0,u.Ps)(I()),x=(0,m.$j)()((function(e){var t=e.children,n=e.onCompleted,r=e.targetPostId,a=e.targetNoteId;return s.createElement(E.m,{mutation:N,onCompleted:n,optimisticResponse:{deleteNote:!0},update:function(e){var t=e.readQuery({query:w,variables:{postId:r}}),n={post:S(S({},t.post),{},{privateNotes:t.post.privateNotes.filter((function(e){return e.id!==a}))})};e.writeQuery({query:w,variables:{postId:r},data:n})},variables:{targetPostId:r,targetNoteId:a}},(function(e){return t({mutate:e})}))}));function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(){var e=a()(["\n  query NoteDismissMutation_postNotes($postId: ID!) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n    }\n  }\n"]);return R=function(){return e},e}function M(){var e=a()(["\n  mutation NoteDismissMutation($targetPostId: ID!, $targetNoteId: ID!) {\n    dismissNote(targetPostId: $targetPostId, targetNoteId: $targetNoteId)\n  }\n"]);return M=function(){return e},e}var C=(0,u.Ps)(M()),D=(0,u.Ps)(R()),j=(0,m.$j)()((function(e){var t=e.children,n=e.onCompleted,r=e.targetPostId,a=e.targetNoteId;return s.createElement(E.m,{mutation:C,onCompleted:n,optimisticResponse:{dismissNote:!0},update:function(e){var t=e.readQuery({query:D,variables:{postId:r}}),n={post:T(T({},t.post),{},{privateNotes:t.post.privateNotes.filter((function(e){return e.id!==a}))})};e.writeQuery({query:D,variables:{postId:r},data:n})},variables:{targetPostId:r,targetNoteId:a}},(function(e){return t({mutate:e})}))}));function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){var e=a()(["\n  mutation NoteReplyCreateMutation($targetPostId: ID!, $targetNoteId: ID!, $replyContent: String!) {\n    createNoteReply(\n      targetPostId: $targetPostId\n      targetNoteId: $targetNoteId\n      replyContent: $replyContent\n    ) {\n      id\n      ...NoteReplyCreateMutation_privateNoteReply\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function A(){var e=a()(["\n  query NoteReplyCreateMutation_postNotes($postId: ID!) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n        replies {\n          id\n          ...NoteReplyCreateMutation_privateNoteReply\n        }\n      }\n    }\n  }\n  ","\n"]);return A=function(){return e},e}function F(){var e=a()(["\n  fragment NoteReplyCreateMutation_privateNoteReply on NoteReply {\n    id\n    noteId\n    author {\n      id\n    }\n    content\n    createdAt\n    postId\n  }\n"]);return F=function(){return e},e}var q=(0,u.Ps)(F()),Q=(0,u.Ps)(A(),q),U=(0,u.Ps)(_(),q),$=function(e){var t=e.children,n=e.targetPostId,r=e.targetNoteId;return s.createElement(E.m,{mutation:U,update:function(e,t){var a=e.readQuery({query:Q,variables:{postId:n}}),i=a.post.privateNotes.map((function(e){return e.id!==r?e:L(L({},e),{},{replies:[].concat(o()(e.replies),[t.data.createNoteReply])})})),c={post:L(L({},a.post),{},{privateNotes:i})};e.writeQuery({query:Q,variables:{postId:n},data:c})}},(function(e){return t({mutate:function(t){return e(L(L({},t),{},{variables:L({targetPostId:n,targetNoteId:r},t&&t.variables)}))}})}))};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(){var e=a()(["\n  query PostNotesReplies($postId: ID!) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n        replies {\n          id\n        }\n      }\n    }\n  }\n"]);return V=function(){return e},e}function z(){var e=a()(["\n  mutation NoteReplyDeleteMutation($targetPostId: ID!, $targetNoteId: ID!, $targetReplyId: ID!) {\n    deleteNoteReply(\n      targetPostId: $targetPostId\n      targetNoteId: $targetNoteId\n      targetReplyId: $targetReplyId\n    )\n  }\n"]);return z=function(){return e},e}var W=(0,u.Ps)(z()),J=(0,u.Ps)(V()),K=function(e){var t=e.children,n=e.targetPostId,r=e.targetNoteId,a=e.targetReplyId;return s.createElement(E.m,{mutation:W,optimisticResponse:{deleteNoteReply:!0},update:function(e){var t=e.readQuery({query:J,variables:{postId:n}}),i=t.post.privateNotes.map((function(e){return e.id!==r?e:B(B({},e),{},{replies:e.replies.filter((function(e){return e.id!==a}))})})),o={post:B(B({},t.post),{},{privateNotes:i})};e.writeQuery({query:J,variables:{postId:n},data:o})},variables:{targetPostId:n,targetNoteId:r,targetReplyId:a}},(function(e){return t({mutate:e})}))},Y=n(21919);function X(){var e=a()(["\n  mutation NoteReplyReportMutation($targetId: ID!) {\n    reportNoteReply(targetNoteReplyId: $targetId)\n  }\n"]);return X=function(){return e},e}var Z=(0,u.Ps)(X());function ee(){var e=a()(["\n  mutation NoteReportMutation($targetId: ID!) {\n    reportNote(targetNoteId: $targetId)\n  }\n"]);return ee=function(){return e},e}var te=(0,u.Ps)(ee()),ne=n(82865),re=n(25267),ae=n(67701),ie=n(17193),oe=n(27048),ce=n(77355),le=n(93310),ue=n(66227),se=n(1383),de=n(87691),pe=n(78285),fe=n(43487),me=n(50458),ge=n(68216);function he(){var e=a()(["\n  fragment PostViewNoteCard_privateNote on Note {\n    id\n    author {\n      id\n      ...PostViewNoteCard_user\n    }\n    content\n    createdAt\n    postId\n    post {\n      id\n      creator {\n        id\n      }\n      collection {\n        id\n      }\n    }\n    replies {\n      id\n      ...PostViewNoteCard_noteReply\n    }\n    selectionStartOffset\n    selectionEndOffset\n  }\n  ","\n  ","\n"]);return he=function(){return e},e}function ve(){var e=a()(["\n  fragment PostViewNoteCard_paragraph on Paragraph {\n    name\n  }\n"]);return ve=function(){return e},e}function ye(){var e=a()(["\n  fragment PostViewNoteCard_noteReply on NoteReply {\n    id\n    author {\n      id\n      ...PostViewNoteCard_user\n    }\n    content\n    createdAt\n    noteId\n    postId\n  }\n  ","\n"]);return ye=function(){return e},e}function Oe(){var e=a()(["\n  fragment PostViewNoteCard_user on User {\n    id\n    name\n    username\n    ...UserAvatar_user\n    ...userUrl_user\n  }\n  ","\n  ","\n"]);return Oe=function(){return e},e}var Ee=function(e){var t=e.timestamp;return t?n.g.Date.now()-t<864e5?s.createElement(v.b,{timestamp:t}):s.createElement(g.E,{timestamp:t}):null},be=function(e){var t=(0,fe.v9)((function(e){return e.config.authDomain})),n=e.author,r=e.content,a=e.createdAt,i=e.id,o=e.isNote,c=e.onDelete,u=e.onReportError,d=function(e){var t=e.onError,n=e.targetId;return(0,Y.D)(Z,{onError:t,variables:{targetId:n},optimisticResponse:{reportNoteReply:!0}})}({onError:u,targetId:i}),p=function(e){var t=e.onCompleted,n=e.onError,r=e.targetId;return(0,Y.D)(te,{onCompleted:t,onError:n,optimisticResponse:{reportNote:!0},variables:{targetId:r}})}({onError:u,targetId:i});if(!n)return null;var f=o?p:d,m=l()(f,2),g=m[0],v=m[1],y=v.called,O=v.error,E=v.loading;return O&&u(),s.createElement(re.I,{nonBlocking:!0},(function(e){return s.createElement(ce.x,{padding:"12px 0"},s.createElement(ce.x,{display:"flex",alignItems:"center",marginBottom:"12px"},s.createElement(ce.x,{marginRight:"12px"},s.createElement(ie.Yt,{scale:"XS",user:n,link:!0})),s.createElement(ce.x,{flexGrow:"1",flexShrink:"1"},s.createElement(de.F,{scale:"M",tag:"h4",color:"DARKER",clamp:1},s.createElement(le.r,{href:(0,me.AW)(n,t),inline:!0},n.name)),s.createElement(de.F,{scale:"M"},s.createElement(Ee,{timestamp:a}))),e&&e.id===n.id&&s.createElement(ce.x,{alignSelf:"flex-start",marginLeft:"12px"},s.createElement(de.F,{scale:"M",tag:"div"},s.createElement(le.r,{linkStyle:"SUBTLE",onClick:c},"Delete"))),e&&e.id!==n.id&&s.createElement(ce.x,{alignSelf:"flex-start"},s.createElement(de.F,{scale:"M",tag:"div"},s.createElement(ue.B,null,(function(e){var t=e.isVisible,n=e.show,r=e.hide;return s.createElement(ce.x,null,s.createElement(se.Q,{confirmText:"Report",hide:r,isVisible:t,onConfirm:g,titleText:"Confirm",isDestructiveAction:!0},"Are you sure you want to report this note?"),s.createElement(le.r,{linkStyle:"SUBTLE",onClick:n,disabled:y||E},y?"Reported":"Report"))}))))),s.createElement(ce.x,{whiteSpace:"pre-wrap"},s.createElement(de.F,{scale:"M",tag:"span",color:"DARKER"},s.createElement(h.P,{target:"_blank",wrapLinks:!0},r))))}))},Se=function(e){var t=e.note,n=e.exitReplyingMode;return s.createElement(ce.x,{padding:"12px 0"},s.createElement($,{targetPostId:t.postId,targetNoteId:t.id},(function(e){var t=e.mutate;return s.createElement(ne.$,{onSubmit:function(e){t({variables:{replyContent:e}}),n()},onCancel:n})})))},Ie=function(e){var t=e.note,n=e.isReplyingMode,r=e.exitReplyingMode,a=e.dispatch,i=t.replies;return 0!==i.length||n?s.createElement(ce.x,{tag:"ol",marginLeft:"20px"},i.map((function(e){return s.createElement("li",{key:e.id},s.createElement(K,{targetPostId:e.postId,targetNoteId:e.noteId,targetReplyId:e.id},(function(t){var n=t.mutate;return s.createElement(be,{author:e.author,content:e.content,createdAt:e.createdAt,onDelete:function(){n(),a((0,pe.Dx)({duration:5e3,message:"The reply has been deleted."}))},id:e.id,isNote:!1,onReportError:function(){a((0,pe.Dx)({duration:5e3,toastStyle:"ERROR",message:"An error occurred while reporting this reply."}))}})})))})),n&&s.createElement("li",{key:"reply-new"},s.createElement(Se,{note:t,exitReplyingMode:r}))):null},Pe=(0,m.$j)()((function(e){var t,n=e.isLast,r=e.isReplyingMode,a=e.onReplyClick,i=e.note,o=e.dispatch,c=e.viewer,l=(0,d.Zx)().setPrivateNoteSelection,u=(0,ae.gY)(null===(t=i.post)||void 0===t?void 0:t.collection).viewerEdge;if(!c||!i.post)return null;var p=!r,f=i.post.creator&&i.post.creator.id&&i.post.creator.id===c.id||(null==u?void 0:u.isEditor),m=p&&s.createElement(de.F,{scale:"M",tag:"div"},s.createElement(le.r,{linkStyle:"OBVIOUS",onClick:a},"Reply")),g=f&&s.createElement(j,{targetPostId:i.postId,targetNoteId:i.id},(function(e){var t=e.mutate;return s.createElement(ce.x,{flexGrow:"1",flexShrink:"1",textAlign:"right"},s.createElement(de.F,{scale:"M",tag:"span"},s.createElement(le.r,{linkStyle:"SUBTLE",onClick:function(){t(),l(null),o((0,pe.Dx)({duration:5e3,message:"The note has been dismissed."}))}},"Dismiss note")))}));return m||g||!n?s.createElement(ce.x,{display:"flex",borderTop:"BASE_LIGHTER",padding:"12px 0",marginTop:"8px",marginBottom:n?"0":"16px"},m,g):null})),Ne=(0,m.$j)()((function(e){var t=e.dispatch,n=e.isLast,r=e.paragraph,a=e.note,i=s.useState(!1),o=l()(i,2),c=o[0],u=o[1],p=(0,d.Zx)().setPrivateNoteSelection;return s.useEffect((function(){if((a.selectionStartOffset||0===a.selectionStartOffset)&&(a.selectionEndOffset||0===a.selectionEndOffset))return p({id:"private-note-selection",paragraphs:[r],userId:null,startOffset:a.selectionStartOffset,endOffset:a.selectionEndOffset,user:void 0}),function(){return p(null)}}),[]),s.createElement(ce.x,{padding:"0 20px"},s.createElement(x,{targetPostId:a.postId,targetNoteId:a.id},(function(e){var n=e.mutate;return s.createElement(be,{author:a.author,createdAt:a.createdAt,content:a.content,id:a.id,isNote:!0,onDelete:function(){n(),p(null),t((0,pe.Dx)({duration:5e3,message:"The note has been deleted."}))},onReportError:function(){t((0,pe.Dx)({duration:5e3,toastStyle:"ERROR",message:"An error occurred while reporting this note."}))}})})),s.createElement(Ie,{note:a,isReplyingMode:c,exitReplyingMode:function(){u(!1)},dispatch:t}),s.createElement(re.I,{nonBlocking:!0},(function(e){return s.createElement(Pe,{note:a,viewer:e,isLast:n,isReplyingMode:c,onReplyClick:function(){return u(!0)}})})))})),we=(0,u.Ps)(Oe(),oe.W,ge.$m),xe=(0,u.Ps)(ye(),we),ke=(0,u.Ps)(ve()),Te=(0,u.Ps)(he(),we,xe),Re=n(68349),Me=n(78817),Ce=n(18627),De=n(14646);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var He=s.createElement("path",{d:"M14.78 8.07a8.68 8.68 0 0 0-.43-1.38.48.48 0 0 0-.58-.27l-3.12.77V4.03c0-.24-.2-.48-.43-.5a7.23 7.23 0 0 0-1.38 0c-.24.02-.43.26-.43.5V7.2L5.3 6.41a.48.48 0 0 0-.58.27c-.18.45-.33.92-.43 1.39-.05.24.1.5.32.58l3.06.75-1.98 2.96c-.14.2-.13.5.04.67.34.33.7.63 1.1.9.2.13.48.07.62-.12l2.1-3.12 2.08 3.12c.15.19.43.25.63.11a7.7 7.7 0 0 0 1.1-.89.53.53 0 0 0 .03-.67L11.4 9.41l3.06-.76a.52.52 0 0 0 .32-.58",fillRule:"evenodd"});const Le=function(e){return s.createElement("svg",je({width:19,height:19},e),He)};var _e=n(68894);function Ae(){var e=a()(["\n  fragment PostAnnotationsMarker_privateNote on Note {\n    ...PostViewNoteCard_privateNote\n  }\n  ","\n"]);return Ae=function(){return e},e}function Fe(){var e=a()(["\n  fragment PostAnnotationsMarker_paragraph on Paragraph {\n    ...PostViewNoteCard_paragraph\n  }\n  ","\n"]);return Fe=function(){return e},e}var qe={float:"right",position:"relative",width:"0",height:"0"},Qe={position:"absolute",left:0,top:0,fontSize:0,lineHeight:0,userSelect:"none","-webkit-user-select":"none"},Ue=function(e){var t=e.paragraph,n=e.privateNotes,r=(0,De.I)(),a=(0,Ce.Av)(),i=(0,d.Zx)(),c=i.openPrivateNoteId,u=i.setOpenPrivateNoteId,m=i.privateNoteSelection,g=i.setPrivateNoteSelection,h=n.map((function(e){return e.id})),v=s.useMemo((function(){return new Set(h)}),[h]),y=s.useRef(null),O=(0,_e.O)(!1),E=l()(O,4),b=E[0],S=E[1],I=E[2],P=E[3];if(s.useEffect((function(){c&&v.has(c)&&!b&&y.current&&(S(),window.scrollTo({top:y.current.offsetTop}))}),[c]),!n||0===n.length)return null;var N=n[0].postId,w=Math.min.apply(Math,o()(n.map((function(e){var t;return null!==(t=e.selectionStartOffset)&&void 0!==t?t:0})))),x=Math.max.apply(Math,o()(n.map((function(e){var t;return null!==(t=e.selectionEndOffset)&&void 0!==t?t:0}))));return s.createElement("span",{className:r(qe),ref:y},s.createElement(f.G,{isVisible:b,hide:function(){u(null),I()},popoverRenderFn:function(){return s.createElement(p.Y,null,n.map((function(e,r){return s.createElement(Ne,{isLast:r===n.length-1,key:e.id,note:e,paragraph:t})})))}},s.createElement("span",{className:r(Qe)},s.createElement(Re.D,{onMouseEnter:function(){g({id:"private-note-hover",paragraphs:[t],userId:null,startOffset:w,endOffset:x,user:void 0})},onMouseLeave:function(){"private-note-hover"===(null==m?void 0:m.id)&&g(null)}},s.createElement(Me.P,{onClick:function(){P(),a.event("notes.ui.showNotes",{postId:N,noteIds:h})}},s.createElement(Le,{"aria-label":"View ".concat(n.length," Private Notes")}))))))};(0,u.Ps)(Fe(),ke),(0,u.Ps)(Ae(),Te)},92947:(e,t,n)=>{"use strict";n.d(t,{Y:()=>f});var r=n(67294),a=n(18733),i=n(77355),o=n(93310),c=n(8431),l=n(87691);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=r.createElement("path",{d:"M14 14.05a1 1 0 0 1-1 1H6a.99.99 0 0 1-1-1v-4a1 1 0 0 1 1-1h7a.99.99 0 0 1 1 1v4zm-7-8.6c0-1.26 1.11-2.3 2.5-2.3S12 4.19 12 5.45v2.6H7v-2.6zm6 2.6v-2.6c0-1.83-1.58-3.3-3.5-3.3S6 3.62 6 5.45v2.6a2 2 0 0 0-2 2v4a1.99 1.99 0 0 0 2 2h7a2 2 0 0 0 2-2v-4a1.99 1.99 0 0 0-2-2z",fillRule:"evenodd"});const d=function(e){return r.createElement("svg",u({width:19,height:19},e),s)};var p=n(50458),f=function(e){return r.createElement(a.N8,null,r.createElement(i.x,{width:"400px",backgroundColor:"BACKGROUND"},r.createElement(i.x,{backgroundColor:"BASE_DARK",padding:"12px 20px",display:"flex",alignItems:"center"},r.createElement(i.x,{marginLeft:"-4px",marginRight:"8px"},r.createElement(d,null)),r.createElement(i.x,{flexGrow:"1",flexShrink:"1",position:"relative",top:"1px"},r.createElement(c.Lh,{tag:"h4"},r.createElement(l.F,{scale:"S",tag:"span",color:"DARKER"},"Private Notes"))),r.createElement(i.x,{position:"relative",top:"1px"},r.createElement(l.F,{scale:"S",color:"DARKER"},r.createElement(o.r,{href:(0,p.qP)(),inline:!0,target:"_blank",linkStyle:"SUBTLE"},"Learn more")))),e.children))}},69217:(e,t,n)=>{"use strict";n.d(t,{G:()=>m});var r=n(67154),a=n.n(r),i=n(63038),o=n.n(i),c=n(67294),l=n(18736),u=n(7157),s=n(1593),d=n(14646),p=function(e){return{background:e.backgroundColor,boxSizing:"border-box",border:"1px solid ".concat(e.baseColor.border.lighter),borderRadius:"".concat(e.borderRadius.regular,"px"),boxShadow:"0 1px 4px ".concat(e.baseColor.border.lighter),maxHeight:"100vh",overflowY:"auto"}},f=function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},m=function(e){var t=e.boundariesElement,n=void 0===t?"viewport":t,r=e.children,i=e.popoverRenderFn,m=e.isVisible,g=e.hide,h=e.placement,v=void 0===h?"right-start":h,y=e.referenceHeight,O=e.reference,E=(0,d.I)(),b={display:"block",height:y},S=c.useState(null),I=o()(S,2),P=I[0],N=I[1],w=c.useState(null),x=o()(w,2),k=x[0],T=x[1],R=c.useCallback((function(e){return N(e)}),[]),M=c.useCallback((function(e){return T(e)}),[]),C=(0,l.D)(O||P,k,{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{altAxis:!0,rootBoundary:n,padding:15}}],placement:v}),D=C.styles,j=C.attributes,H=C.update,L=c.createElement(u.i,{disableOverlay:!1,onClick:function(e){return(0,s.fF)(g,e)},onKeyDown:function(e){return(0,s.cD)(g,e)}},c.createElement("div",{onClick:f},c.createElement("div",a()({ref:M,style:D.popper,className:E(p)},j.popper),c.createElement("div",null,i(H)))));return c.createElement(c.Fragment,null,O?r:c.createElement("span",{ref:R,className:E(b)},r),m?L:null)}},82865:(e,t,n)=>{"use strict";n.d(t,{X:()=>O,$:()=>b});var r=n(67154),a=n.n(r),i=n(63038),o=n.n(i),c=n(67294),l=n(91553),u=n(25267),s=n(17193),d=n(77355),p=n(93310),f=n(87691),m=n(67713),g=n(14646),h={border:"none",display:"block",resize:"none",width:"100%",":focus":{outline:"none"}},v=function(e){var t=e.onSubmit,n=e.onCancel,r=e.thresholdMaxChars,a=e.thresholdCharsShowIndicator,i=e.placeholderText,v=e.numTextAreaLines,y=(0,g.I)(),O=c.useState(""),E=o()(O,2),b=E[0],S=E[1],I=c.useRef(null);c.useEffect((function(){I.current&&"function"==typeof I.current.focus&&setTimeout((function(){I.current&&I.current.focus()}))})),(0,l.a)({disabled:!b,message:"Note input not empty"});var P=function(e){var t=e.target.value;S(t)},N=(0,m.n)({name:"detail",scale:"M",color:"DARKER"});return c.createElement(u.I,null,(function(e){return!!e&&c.createElement(d.x,null,c.createElement(d.x,{display:"flex",alignItems:"center",marginBottom:"12px"},c.createElement(d.x,{marginRight:"12px"},c.createElement(s.Yt,{scale:"XS",user:e})),c.createElement(f.F,{scale:"M",tag:"h5",color:"DARKER",clamp:1},e&&e.name||"")),c.createElement(d.x,{marginBottom:"12px",tag:"label"},c.createElement("textarea",{ref:I,required:!0,placeholder:i,value:b,rows:v,onChange:P,className:y([N,h])}),b.length>=a&&c.createElement(d.x,{marginTop:"4px"},c.createElement(f.F,{scale:"XS",color:b.length>r?"ERROR":"LIGHTER"},b.length,"/",r))),c.createElement(f.F,{scale:"M",tag:"div"},c.createElement(d.x,{display:"flex",justifyContent:"space-between"},c.createElement(d.x,{display:"flex"},c.createElement(p.r,{disabled:0===b.length||b.length>r,linkStyle:"OBVIOUS",onClick:function(){t(b)}},"Send")),c.createElement(d.x,{display:"flex"},c.createElement(p.r,{linkStyle:"SUBTLE",onClick:n},"Cancel")))))}))},y={thresholdMaxChars:400,thresholdCharsShowIndicator:255,placeholderText:"Write a note…",numTextAreaLines:5},O=function(e){return c.createElement(v,a()({},y,e))},E={thresholdMaxChars:200,thresholdCharsShowIndicator:133,placeholderText:"Leave a reply…",numTextAreaLines:3},b=function(e){return c.createElement(v,a()({},E,e))}},78882:(e,t,n)=>{"use strict";n.d(t,{d:()=>l,b:()=>c});var r=n(319),a=n.n(r),i=n(47418),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CatalogMixtapeParagraph_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EmbedCatalog_catalog"}}]}}].concat(a()(i.E.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MixtapeParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"mixtapeMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"mediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumCatalog"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"GenericMixtapeParagraph_paragraph"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"GenericMixtapeParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"mixtapeMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"thumbnailImageId"}}]}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"href"}}]}}]}}]))},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CatalogMixtapeParagraphQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"catalogId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"catalogId"},value:{kind:"Variable",name:{kind:"Name",value:"catalogId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogMixtapeParagraph_catalog"}}]}}]}}]}}].concat(a()(o.definitions))}},37269:(e,t,n)=>{"use strict";n.d(t,{Pq:()=>ge,Do:()=>ye,zZ:()=>ve});var r=n(63038),a=n.n(r),i=n(59854),o=n.n(i),c=n(67294),l=n(46484),u=n(10374),s=n(38381),d=n(59713),p=n.n(d),f=function e(t){return"string"==typeof t?t.length:t.children.reduce((function(t,n){return t+e(n)}),0)};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,v=function e(t,n,r){var a=[],i=n;return t.forEach((function(t){var n=f(t),o=function(e){if("string"!=typeof e)return{type:"HLJS_MARKUP",start:0,end:f(e),className:e.scope,priority:1}}(t);if(o){var c=function(e,t){return g(g({},e),{},{priority:t})}(function(e,t){return g(g({},e),{},{start:t,end:t+(e.end-e.start)})}(o,i),r);a.push(c)}"string"!=typeof t&&(a=a.concat(e(t.children,i,r+1))),i+=n})),a},y=n(44651),O=n(319),E=n.n(O),b=n(67713),S=n(14646),I={xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},P=function(e){return{color:e.baseColor.text.normal}},N=c.forwardRef((function(e,t){var n=e.children,r=e.paragraphName,a=e.rules,i=e.richTextStyle,o=(0,S.I)(),u=c.useContext(l.M),s="FULL_PAGE"===i||"CARD"===i||"SHORTFORM_CARD"===i||"INLINE"===i?I:"S",d=(0,b.n)({name:"body",scale:s}),p=o([a,{wordBreak:"break-word"}].concat(E()(u?[P]:[d])));return c.createElement("p",{id:r,className:p,ref:t},n)})),w=n(3150),x=n(97217),k={card:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},fullPage:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},streamLike:"M"},T={card:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},fullPage:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},streamLike:"S"},R=c.forwardRef((function(e,t){var n=e.children,r=e.paragraphName,a=e.richTextStyle,i=e.rules,o=e.paragraphType,l=(0,S.I)(),u=(0,w.q)(),s="CARD"===a||"SHORTFORM_CARD"===a,d="INLINE"===a,p="STREAM"===a||s||d,f=o===x.NJ.H4?"h2":"h1",m="h1"===f?k:T,g=s||d||u?m.card:p?m.streamLike:m.fullPage,h=l([i,(0,b.n)({name:"heading",scale:g,fontWeight:d||u?"INLINE":"NORMAL"})]);return c.createElement(f,{id:r,className:h,ref:t},n)})),M=c.forwardRef((function(e,t){var n=e.children,r=e.paragraphName,a=e.rules,i=(0,S.I)()([a,(0,b.n)({name:"overline",scale:"M",color:"LIGHTER"})]);return c.createElement("h2",{id:r,className:i,ref:t,"aria-label":"kicker paragraph"},n)})),C={xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},D=function(e){return{color:e.baseColor.text.normal}},j=c.forwardRef((function(e,t){var n=e.children,r=e.paragraphName,a=e.rules,i=e.richTextStyle,o=(0,S.I)(),u=c.useContext(l.M),s="FULL_PAGE"===i?C:"S",d=(0,b.n)({name:"body",scale:s}),p=o([a,{listStyleType:"decimal",marginLeft:"30px",paddingLeft:"0px"}].concat(E()(u?[D]:[d])));return c.createElement("li",{id:r,className:p,ref:t},n)})),H={xs:"S",sm:"S",md:"SM",lg:"SM",xl:"SM"},L=function(e){return{color:e.baseColor.text.normal}},_=c.forwardRef((function(e,t){var n=e.children,r=e.hasDropCap,a=e.paragraphName,i=e.rules,o=(0,S.I)(),u=c.useContext(l.M),s=(0,b.n)({name:"body",scale:H}),d=o([i,{wordBreak:"break-word"}].concat(E()(u?[L]:[s]),E()(r?[{clear:"left"}]:[])));return c.createElement("p",{id:a,className:"pw-post-body-paragraph ".concat(d),ref:t},n)})),A=c.forwardRef((function(e,t){var n=e.children,r=e.paragraphName,a=e.richTextStyle,i=e.rules,o=(0,S.I)()([i,(0,b.n)({name:"pullQuote",scale:"CARD"===a||"SHORTFORM_CARD"===a?{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"}:"L"})]);return c.createElement("p",{id:r,className:o,ref:t},n)})),F=c.forwardRef((function(e,t){var n=e.children,r=e.paragraphName,a=e.rules,i=e.whiteSpace,o=(0,S.I)()([a,{display:"block",whiteSpace:i||"pre-wrap",minWidth:"fit-content"}]);return c.createElement("span",{id:r,className:o,ref:t},n)})),q=c.forwardRef((function(e,t){var n=e.paragraphName,r=e.rules,a=e.children;return c.createElement(F,{paragraphName:n,ref:t,rules:r,whiteSpace:"pre"},a)})),Q=function(e){var t=e.children,n=e.paragraphName,r=e.rules,a=e.paragraphRef,i=e.paragraph,o=i.text,l=i.codeBlockMetadata,u=null==l?void 0:l.mode,s=null==l?void 0:l.lang;return u&&u!==x.r5.DISABLED?c.createElement(q,{lang:s,paragraphName:n,ref:a,rules:r,text:o},t):c.createElement(F,{paragraphName:n,ref:a,rules:r},t)},U=n(67154),$=n.n(U),G={xs:"L",sm:"L",md:"L",lg:"L",xl:"L"},B={xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},V=function(e){var t=e.children,n=e.paragraphName,r=e.richTextStyle,a=e.rules,i=e.forwardedRef,o="FULL_PAGE"===r,l="CARD"===r||"SHORTFORM_CARD"===r,u="INLINE"===r,s=(0,S.I)()([a,(0,b.n)({name:"subtitle",scale:u?G:o||l?B:"L",color:"LIGHTER",richTextStyle:r})]);return c.createElement("h2",{id:n,className:"pw-subtitle-paragraph ".concat(s),ref:i},t)},z=c.forwardRef((function(e,t){return c.createElement(V,$()({},e,{forwardedRef:t}))})),W={xs:"M",sm:"M",md:"XL",lg:"XL",xl:"XL"},J={xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},K={xs:"S",sm:"S",md:"L",lg:"L",xl:"L"},Y=function(e){var t=e.children,n=e.richTextStyle,r=e.paragraphName,a=e.rules,i=e.forwardedRef,o="CARD"===n||"SHORTFORM_CARD"===n,l="FULL_PAGE"===n,u="INLINE"===n,s=(0,S.I)()([a,[(0,b.n)({name:"title",scale:u?J:l?W:o?K:"M",richTextStyle:n,color:"NORMAL"})]]);return c.createElement("h1",{id:r,className:"pw-post-title ".concat(s),ref:i},t)},X=c.forwardRef((function(e,t){return c.createElement(Y,$()({},e,{forwardedRef:t}))})),Z={xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},ee=function(e){return{color:e.baseColor.text.normal}},te=c.forwardRef((function(e,t){var n=e.children,r=e.paragraphName,a=e.rules,i=e.richTextStyle,o=(0,S.I)(),u=c.useContext(l.M),s="FULL_PAGE"===i?Z:"S",d=(0,b.n)({name:"body",scale:s}),p=o([a,{listStyleType:"disc",marginLeft:"30px",paddingLeft:"0px"}].concat(E()(u?[ee]:[d])));return c.createElement("li",{id:r,className:p,ref:t},n)})),ne=n(66216),re=n(18155),ae=n(31889),ie=n(75221),oe=n(21638),ce=n(51463),le=n.n(ce),ue={bash:le()((function(){return n.e(1878).then(n.bind(n,51878))})),c:le()((function(){return n.e(3371).then(n.bind(n,43371))})),cpp:le()((function(){return n.e(1730).then(n.bind(n,61730))})),csharp:le()((function(){return n.e(6917).then(n.bind(n,6917))})),css:le()((function(){return n.e(5631).then(n.bind(n,43809))})),dart:le()((function(){return n.e(9684).then(n.bind(n,69684))})),diff:le()((function(){return n.e(3952).then(n.bind(n,53952))})),go:le()((function(){return n.e(9012).then(n.bind(n,99012))})),graphql:le()((function(){return n.e(6159).then(n.bind(n,96159))})),ini:le()((function(){return n.e(466).then(n.bind(n,20466))})),java:le()((function(){return n.e(8501).then(n.bind(n,78501))})),javascript:le()((function(){return n.e(9410).then(n.bind(n,29410))})),json:le()((function(){return n.e(4447).then(n.bind(n,44447))})),kotlin:le()((function(){return n.e(7413).then(n.bind(n,47413))})),less:le()((function(){return n.e(5384).then(n.bind(n,35384))})),lua:le()((function(){return n.e(9505).then(n.bind(n,79505))})),makefile:le()((function(){return n.e(5181).then(n.bind(n,45181))})),markdown:le()((function(){return n.e(7288).then(n.bind(n,17288))})),objectivec:le()((function(){return n.e(4332).then(n.bind(n,64332))})),perl:le()((function(){return n.e(803).then(n.bind(n,803))})),"php-template":le()((function(){return n.e(455).then(n.bind(n,30455))})),php:le()((function(){return n.e(7170).then(n.bind(n,11689))})),plaintext:le()((function(){return n.e(2851).then(n.bind(n,82851))})),"python-repl":le()((function(){return n.e(8447).then(n.bind(n,68447))})),python:le()((function(){return n.e(7906).then(n.bind(n,37906))})),r:le()((function(){return n.e(4042).then(n.bind(n,94042))})),ruby:le()((function(){return n.e(8239).then(n.bind(n,28239))})),rust:le()((function(){return n.e(8069).then(n.bind(n,78069))})),scss:le()((function(){return n.e(7360).then(n.bind(n,7360))})),shell:le()((function(){return n.e(9583).then(n.bind(n,9583))})),swift:le()((function(){return n.e(7915).then(n.bind(n,47915))})),sql:le()((function(){return n.e(8097).then(n.bind(n,38097))})),typescript:le()((function(){return n.e(7749).then(n.bind(n,37749))})),vbnet:le()((function(){return n.e(209).then(n.bind(n,70209))})),xml:le()((function(){return n.e(7136).then(n.bind(n,47136))})),x86asm:le()((function(){return n.e(1488).then(n.bind(n,61488))})),yaml:le()((function(){return n.e(5249).then(n.bind(n,85249))}))},se=le()((function(){return n.e(2230).then(n.bind(n,22230)).then((function(e){return h=e.default}))})),de=n(32342),pe=n(39202),fe=function(e,t){var n=null==t?void 0:t.mode,r=null==t?void 0:t.lang,i=function(e){var t,n,r,i,o,l=void 0!==(t=e)&&Object.keys(ue).includes(t),u=(n=(0,c.useState)(h),r=a()(n,2),i=r[0],o=r[1],(0,c.useEffect)((function(){i||se().then((function(e){o(e)}))}),[]),i),s=(0,c.useState)(e&&null!=u&&u.getLanguage(e)?u:void 0),d=a()(s,2),p=d[0],f=d[1];return(0,c.useEffect)((function(){l&&u&&!p&&ue[e]().then((function(t){null==u||u.registerLanguage(e,t.default),f(u)}))}),[e,u,p]),p}(r||void 0);return c.useMemo((function(){if(n&&r&&n!==ie.r5.DISABLED){var t=null==i?void 0:i.highlight(e||"",{language:r});return t?(a=t._emitter.rootNode,v(a.children,0,1)):void 0}var a}),[i])},me={xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},ge={marginTop:{xs:"8px",sm:"12px",md:"12px",lg:"18px",xl:"20px"}},he=function(e,t,n,r,i){return{marginTop:void 0===i?(0,re.mu)((function(e){var n=a()(e,2),i=n[0],c=n[1];return"".concat(o()(i/c-(r.xHeight+(t-1)/2),2),"em")}),e,n):"".concat(i,"px"),marginBottom:"".concat(o()(-1*(r.baseline+(t-1)/2),2),"em")}},ve=function(e){var t=e.children,n=e.hasDropCap,r=e.marginTopOverride,i=e.name,o=e.paragraphRef,u=e.paragraphStyle,s=e.richTextStyle,d=e.spaceTop,p=e.paragraph,f=(0,ae.F)(),m=function(e){var t=e.isEmbedded,n=e.marginTopOverride,r=e.paragraphStyle,i=e.richTextStyle,o=e.spaceTop,c=e.theme,l=e.isPreV2,u=function(e,t,n,r){var i="FULL_PAGE"===t,o="CARD"===t||"SHORTFORM_CARD"===t,c="INLINE"===t,l="STREAM"===t||o||c;switch(e){case de.qq.Title:var u=n.newFonts.title.fontSize,s=u&&(0,re.mu)((function(e){var t=a()(e,1)[0];return u[t]}),W);return i||o||c?{fontRule:oe.Wd,multipliers:oe.jo,fontSize:s,lineHeight:1.23,letterSpacing:"0"}:{fontRule:oe.Yu,multipliers:oe.Yq,fontSize:l?34:30,lineHeight:1.12,letterSpacing:"-0.022em"};case de.qq.Subtitle:var d=n.newFonts.subtitle.fontSize,p=d&&(0,re.mu)((function(e){var t=a()(e,1)[0];return d[t]}),me);return{fontRule:oe.Wt,multipliers:oe.Yq,fontSize:l?24:p,lineHeight:1.394,letterSpacing:"0"};case de.qq.Kicker:var f=n.newFonts.overline.fontSize,m=f&&f.M;return{fontRule:oe.Wt,multipliers:oe.Yq,fontSize:m||22,lineHeight:1.18,letterSpacing:"-0.022em"};case de.qq.P:case de.qq.BQ:return{fontRule:oe.rJ,multipliers:oe.Ol,fontSize:{xs:18,sm:18,md:i||o||c?21:18,lg:i||o||c?21:18,xl:i||o||c?21:18},lineHeight:1.58,letterSpacing:"-0.004em"};case de.qq.ULI:case de.qq.OLI:return{fontRule:oe.rJ,multipliers:oe.Ol,fontSize:{xs:18,sm:18,md:i?21:c?20:18,lg:i?21:c?20:18,xl:i?21:c?20:18},lineHeight:1.58,letterSpacing:"-0.004em"};case de.qq.H1:case de.qq.H2:case de.qq.H3:return{fontRule:oe.Yu,multipliers:oe.Yq,fontSize:o||c?{xs:n.newFonts.heading.fontSize.S,sm:n.newFonts.heading.fontSize.S,md:n.newFonts.heading.fontSize.M,lg:n.newFonts.heading.fontSize.M,xl:n.newFonts.heading.fontSize.M}:l?26:{xs:30,sm:30,md:34,lg:34,xl:34},lineHeight:o||c?1.31:1.12,letterSpacing:"-0.022em"};case de.qq.H4:return{fontRule:oe.Yu,multipliers:oe.Yq,fontSize:o||c?{xs:n.newFonts.heading.fontSize.XS,sm:n.newFonts.heading.fontSize.XS,md:n.newFonts.heading.fontSize.S,lg:n.newFonts.heading.fontSize.S,xl:n.newFonts.heading.fontSize.S}:l?22:{xs:24,sm:24,md:26,lg:26,xl:26},lineHeight:o?1.22:1.18,letterSpacing:"-0.022em"};case de.qq.PRE:return{fontRule:oe.XK,multipliers:oe.G4,fontSize:r?14:16,lineHeight:r?1.4:1.18,letterSpacing:"-0.022em"};case de.qq.PQ:return{fontRule:oe.Wd,multipliers:oe.z1,fontSize:24,lineHeight:1.48,letterSpacing:"-0.014em"};default:return null}}(r,i,c,void 0!==l&&l);if(null==u)return[];t&&(u=function(e,t){switch(e){case de.qq.P:case de.qq.BQ:t.fontSize={xs:18,sm:18,md:18,lg:18,xl:18},t.lineHeight=1.34,t.fontRule=oe.Wt;break;case de.qq.ULI:t.fontSize={xs:18,sm:18,md:18,lg:18,xl:18},t.lineHeight=1.48,t.fontRule=oe.Wt}return t}(r,u));var s,d=u,p=d.fontRule,f=d.multipliers,m=d.fontSize,g=d.lineHeight,h=d.letterSpacing,v="number"==typeof m?m*g:Object.entries(m).reduce((function(e,t){var n=a()(t,2),r=n[0],i=n[1];return e[r]=i*g,e}),{}),y="SHORTFORM_CARD"===i&&r===de.qq.Subtitle&&g?(0,ne.V)({clamp:1,lineHeight:v}):{};return[{lineHeight:g,letterSpacing:h,fontStyle:(0,de.S$)(r)},p({fontSize:m}),t?(s=r,s!==de.qq.P?{}:ge):he(o,g,m,f,n),y]}({isEmbedded:c.useContext(l.M),marginTopOverride:r,richTextStyle:s,paragraphStyle:u,spaceTop:d,theme:f,isPreV2:!(null==p||!p.codeBlockMetadata)});switch(u){case de.qq.Title:return c.createElement(X,{paragraphName:i,richTextStyle:s,ref:o,rules:m},t);case de.qq.Subtitle:return c.createElement(z,{paragraphName:i,richTextStyle:s,ref:o,rules:m},t);case de.qq.PQ:return c.createElement(A,{paragraphName:i,richTextStyle:s,ref:o,rules:m},t);case de.qq.Kicker:return c.createElement(M,{paragraphName:i,ref:o,rules:m},t);case de.qq.P:return c.createElement(_,{hasDropCap:n,paragraphName:i,ref:o,rules:m},t);case de.qq.BQ:return c.createElement(N,{paragraphName:i,richTextStyle:s,ref:o,rules:m},t);case de.qq.ULI:return c.createElement(te,{paragraphName:i,richTextStyle:s,ref:o,rules:m},t);case de.qq.OLI:return c.createElement(j,{paragraphName:i,richTextStyle:s,ref:o,rules:m},t);case de.qq.H1:case de.qq.H2:case de.qq.H3:case de.qq.H4:return c.createElement(R,{paragraphName:i,paragraphType:u,richTextStyle:s,ref:o,rules:m},t);case de.qq.PRE:return c.createElement(Q,{paragraphName:i,paragraphRef:o,rules:m,paragraph:p},t);default:return(0,pe.v)(u),null}};function ye(e){var t=e.highlights,n=e.marginTopOverride,r=e.paragraph,a=e.paragraphStyle,i=e.privateNotes,o=e.richTextStyle,l=e.spaceTop,d=!!r&&!!r.hasDropCap,p=(0,u.CF)(r,a),f=fe(r.text,r.codeBlockMetadata);return c.createElement(ve,{hasDropCap:d,marginTopOverride:n,name:r.name||void 0,paragraphRef:p,paragraphStyle:a,richTextStyle:o,spaceTop:l,paragraph:r},i&&c.createElement(y.A7,{paragraph:r,privateNotes:i}),c.createElement(s.T2,{allowDropCap:!0,highlights:t,paragraph:r,paragraphStyle:a,richTextStyle:o,hljsMarkups:f}))}},35283:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=n(67294).createContext({inResponseToEntityId:"",isThreadedResponsesVisible:!1,toggleThreadedResponses:function(){},showThreadedResponses:function(){},threadDepthFromRootEntity:0,threadDepthOnPage:0,hideCreateReply:function(){},toggleCreateReply:function(){},loadThreadedResponses:function(){},isThreadedResponsesQueryCalled:!1,isThreadedResponsesQueryLoading:!1,showContinueThisThreadSidebar:function(){}})},43210:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=function(){return{position:"absolute",top:0,left:0,height:"100%",width:"100%"}}},52499:(e,t,n)=>{"use strict";n.d(t,{HM:()=>s,QS:()=>d,nO:()=>p,yH:()=>f,GE:()=>m,Zf:()=>g,m1:()=>h,lA:()=>v,Mk:()=>y,OG:()=>O,Bu:()=>E,NY:()=>b,S1:()=>S,h_:()=>I,zg:()=>P,qB:()=>N});var r=n(63038),a=n.n(r),i=n(59713),o=n.n(i),c=n(18155);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=0,d=10,p={xs:24,sm:24,md:32,lg:32,xl:32},f=36,m={xs:32,sm:32,md:40,lg:40,xl:40},g={xs:40,sm:40,md:56,lg:56,xl:56},h={xs:48,sm:48,md:66,lg:66,xl:66},v={xs:48,sm:48,md:80,lg:80,xl:80},y=36,O=24,E=24,b=16,S=32,I=40,P=u(u({},g),{},{lg:0,xl:0}),N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return{marginTop:(0,c.mu)((function(e){var t=a()(e,1)[0];return"".concat(t,"px")}),e)}}}},53546:(e,t,n)=>{"use strict";n.d(t,{eu:()=>O,Gj:()=>y,Sz:()=>E,x$:()=>v});var r,a=n(28655),i=n.n(a),o=n(59713),c=n.n(o),l=n(50361),u=n.n(l),s=n(92471);!function(e){e[e.HIGHLIGHT=0]="HIGHLIGHT",e[e.RESPONSE=1]="RESPONSE"}(r||(r={}));var d,p=n(97217);function f(){var e=i()(["\n  fragment buildQuotePreviewParagraph_quote on Quote {\n    paragraphs {\n      id\n      text\n      type\n      markups {\n        end\n        start\n        type\n      }\n    }\n    startOffset\n    endOffset\n  }\n"]);return f=function(){return e},e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(d={},c()(d,p.a6.HIGHLIGHT,r.HIGHLIGHT),c()(d,p.a6.RESPONSE,r.RESPONSE),d),y=function(e){var t=100;if(1!==e.paragraphs.length)return null;var n=u()(e.paragraphs[0]),r=n.text||"",a=0,i=e.startOffset||0,o=e.endOffset||r.length;if(r.length-o>t&&(r=r.substring(0,o+t)+"…"),i>t){var c=i-t;r="…"+r.substring(c),a=c-1}n.text=r,n.type=p.NJ.P,n.markups.unshift({end:o,start:i,type:p.FT.HIGHLIGHT});var l,s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}(n.markups);try{for(s.s();!(l=s.n()).done;){var d=l.value;d.start-=a,d.end-=a}}catch(e){s.e(e)}finally{s.f()}return n},O=function(e){if(1!==e.paragraphs.length)return null;var t=e.paragraphs[0].text||"",n=e.startOffset||0,r=e.endOffset||t.length,a=t.slice(n,r);return a.length>=185&&(a=a.substring(0,185)+"..."),g(g({},e.paragraphs[0]),{},{text:a,type:p.NJ.P,markups:[{end:a.length,start:0,type:p.FT.HIGHLIGHT,anchorType:null,href:null,linkMetadata:null,userId:null}],hasDropCap:null,dropCapImage:null,codeBlockMetadata:null})},E=(0,s.Ps)(f())},32342:(e,t,n)=>{"use strict";n.d(t,{qq:()=>d,S$:()=>h,fj:()=>v,jH:()=>y});var r=n(59713),a=n.n(r),i=n(97217),o=n(52499);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u,s=function(e,t,n){var r=e[t+1];return r&&null!=r.startIndex?r.startIndex:n};!function(e){e.Title="Title",e.Subtitle="Subtitle",e.Kicker="Kicker"}(u||(u={}));var d=l(l({},u),i.NJ),p=function(e,t,n){var r=e.paragraphs,a=e.sections,i=y(n),c=i?o.OG:o.nO,l=i?o.Bu:o.yH,u=i?o.S1:o.Zf,s=i?o.h_:o.lA,d=-1;return r.map((function(e,n){var p=t[n],f=t[n-1],m=e.layout,g=r[n-1]&&r[n-1].layout,h=a[d+1];if(h&&h.startIndex===n){if(d++,("IMG"===p||"IFRAME"===p)&&!i){if("OUTSET_LEFT"===m)return o.zg;if("INSET_LEFT"===m)return o.HM;if(0===n)return"FULL_WIDTH"===m?o.HM:o.nO}return u}if("PQ"===f)return p===f?u:i?o.h_:o.m1;switch(p){case"Title":switch(f){case"Kicker":return l;default:return u}case"Subtitle":switch(f){case"Title":return c;default:return u}case"P":switch(f){case"H1":case"H2":case"H3":case"H4":return c;default:return u}case"H1":case"H2":case"H3":return s;case"OLI":switch(f){case"H1":case"H2":case"H3":case"H4":return c;case"OLI":return o.Mk;default:return u}case"ULI":switch(f){case"H1":case"H2":case"H3":case"H4":return c;case"ULI":return o.Mk;default:return u}case"IMG":case"IFRAME":switch(f){case"IMG":case"IFRAME":switch(g){case"OUTSET_LEFT":case"INSET_LEFT":return o.HM;case"OUTSET_CENTER":switch(m){case"OUTSET_CENTER":case"OUTSET_ROW":return o.HM;case"FULL_WIDTH":return s;default:return u}case"OUTSET_ROW_CONTINUE":switch(m){case"OUTSET_CENTER":case"OUTSET_ROW":return o.HM;default:return u}case"INSET_CENTER":switch(m){case"INSET_LEFT":return o.HM;case"OUTSET_LEFT":return o.QS;case"FULL_WIDTH":return s;default:return u}case"FULL_WIDTH":return"FULL_WIDTH"===m?o.HM:s;default:return u}case"Title":return o.GE;default:return u}case"PRE":switch(f){case"PRE":return o.NY;default:return u}case"PQ":switch(f){case"H1":case"H2":case"H3":case"H4":case"P":return u;default:return s}case"MIXTAPE_EMBED":return c}return u}))},f=function(e,t){var n=e.paragraphs;return n.map((function(e,r){var a=t[r],i=t[r-1];if(0===r)return 24;switch(a){case"Title":switch(i){case"Kicker":return 8;case"IMG":return n[r-1].text?48:32;default:return 24}case"Subtitle":switch(i){case"Title":return 18;default:return 24}case"P":switch(i){case"Title":return 30;case"Subtitle":return 23;case"H1":case"H2":return 14;case"H3":return 13;case"H4":return 11;case"P":return 42;case"BQ":return 40;case"PQ":return 35;case"IMG":return 32;case"MIXTAPE_EMBED":return 48;default:return}case"H1":case"H2":case"H3":switch(i){case"P":return 40;default:return}case"H4":switch(i){case"P":return 36;default:return}case"IMG":case"IFRAME":switch(i){case"Subtitle":return 31;default:return}case"BQ":switch(i){case"P":return 24;default:return}case"PQ":switch(i){case"P":return 32;default:return}case"MIXTAPE_EMBED":switch(i){case"P":return 40;default:return}}}))},m=function(e,t){var n=e.paragraphs,r=e.sections,a=o.nO,i=o.Zf,c=o.lA,l=-1;return n.map((function(e,n){var u=r[l+1];if(u&&u.startIndex===n)return l++,o.HM;var s=t[n],d=t[n-1];switch(d){case"PQ":if("PQ"!==s)return c}switch(s){case"BQ":switch(d){case"BQ":return a;default:return i}case"OLI":switch(d){case"OLI":return a;default:return i}case"ULI":switch(d){case"ULI":return a;default:return i}case"PQ":switch(d){case"PQ":return i;default:return c}}return i}))},g=function(e){return e&&"OUTSET_ROW_CONTINUE"===e.layout&&"IMG"===e.type},h=function(e){switch(e){case"BQ":return"italic";default:return"normal"}},v=function(e,t){var n=t.bylineParagraphName,r=t.highlights,a=t.isAuroraPostPageEnabled,c=void 0!==a&&a,l=t.isPostPage,u=void 0!==l&&l,h=t.privateNotes,v=t.richTextStyle,y=t.shouldAddHrs,O=void 0===y||y;if(!e)return[];var E=e.paragraphs,b=e.sections,S=function(e){var t=e.paragraphs,n=e.sections;if(!n[0])return[];for(var r=s(n,0,t.length),a=t.map((function(e){return e.type||i.NJ.P})),o=!1,c=-1,l=0;l<r;l++){var u=t[l];if(o){"H4"===u.type&&(a[l]=d.Subtitle);break}if("H3"===u.type||"H2"===u.type)a[l]=d.Title,o=!0;else{if(-1!==c)break;if("H4"!==u.type){if("IMG"===u.type||"IFRAME"===u.type||"P"===u.type&&/^\s*$/.test(u.text||""))continue;break}c=l}}return o&&-1!==c&&(a[c]=d.Kicker),a}(e),I=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.paragraphs,i="SERIES"===n?m(e,t):p(e,t,n),c=f(e,t),l=[],u=0;u<a.length;u++)if(a[u]){var s=a[u].layout,d=a[u].type;if("OUTSET_ROW"===s&&"IMG"===d){var h=a[u].metadata;if(!h||!h.originalHeight||!h.originalWidth)continue;for(var v=h.originalWidth/h.originalHeight,y=u+1;g(a[y]);){var O=a[y].metadata;if(!O||!O.originalHeight||!O.originalWidth)break;v+=O.originalWidth/O.originalHeight,y++}for(;u<y;)l[u]=v,u++;u=y-1}}return a.map((function(e,u){var s,d=i[u],p=c[u],f={paragraphTopSpacing:d},m=e.codeBlockMetadata,g=null===(s=a[u-1])||void 0===s?void 0:s.codeBlockMetadata,h=t[u],v=t[u-1],y=e.layout,O=a[u-1]?a[u-1].layout:null;switch(h){case"PRE":switch(v){case"PRE":(m||g)&&(f={sequenceTopSpacing:f.paragraphTopSpacing,paragraphTopSpacing:o.HM});break;default:f={sequenceTopSpacing:f.paragraphTopSpacing,paragraphTopSpacing:o.HM}}}switch(y){case"OUTSET_ROW":switch(O){case"OUTSET_ROW_CONTINUE":case"OUTSET_CENTER":f={paragraphTopSpacing:o.HM};break;default:f={paragraphTopSpacing:o.HM,sequenceTopSpacing:f.paragraphTopSpacing}}break;case"OUTSET_ROW_CONTINUE":f={paragraphTopSpacing:"STREAM"===n?o.S1:o.HM}}return l[u]&&(f.sequenceAspectRatio=l[u]),r&&(f.paragraphTopMarginForPostPage=p),f}))}(e,S,v,u),P=function(e,t){if(!t)return[];var n=new Map;return t.forEach((function(e){e.paragraphs.forEach((function(t){var r=n.get(t.name)||[];r.push(e),n.set(t.name,r)}))})),e.map((function(e){return n.get(e.name)||[]}))}(E,r),N=function(e,t){if(!t)return[];var n=new Map;return t.forEach((function(e){var t=e.anchor,r=n.get(t)||[];r.push(e),n.set(t,r)})),e.map((function(e){return n.get(e.name)||[]}))}(E,h),w=E.findIndex((function(e){return e.name===n})),x=E.map((function(e,t){var n,r,a,i=S[t],o=E[t].layout,l=null===(n=E[t+1])||void 0===n?void 0:n.layout,s="OUTSET_ROW"===o&&"OUTSET_ROW_CONTINUE"===l;if(c&&"FULL_PAGE"===v){if(0===t)r=0;else if(t===w+1)switch(i){case"IMG":s||(r=33);break;case"P":r=24}}else!u||s||"CARD"!==v&&"SHORTFORM_CARD"!==v||!I[t].paragraphTopMarginForPostPage||(r=c&&0===t&&"Title"===i?12:I[t].paragraphTopMarginForPostPage,"SHORTFORM_CARD"===v&&(r=0,"Title"===i?a=28:"Subtitle"===i&&(a=0)));return{highlights:P[t],marginTopOverride:r,marginBottomOverride:a,paragraph:e,paragraphStyle:i,privateNotes:N[t],richTextStyle:v,sequenceAspectRatio:I[t].sequenceAspectRatio,sequenceSpaceTop:I[t].sequenceTopSpacing,spaceTop:I[t].paragraphTopSpacing}})),k=[];return b.forEach((function(e,t){var n=s(b,t,E.length);O&&0!==t&&k.push("HR"),k.push({section:e,paragraphViewModels:x.slice(e.startIndex,n)})})),k},y=function(e){return"STREAM"===e||"CARD"===e||"SHORTFORM_CARD"===e}},61937:(e,t,n)=>{"use strict";n.d(t,{wY:()=>s,Ff:()=>d});var r=n(84564),a=n.n(r),i="[^\\.!*'\\(\\);:@&=+$,/?#\\[\\]\\/]+",o="(?:".concat(i,"@)?"),c="".concat(i,"(?:\\.").concat(i,")+"),l=(new RegExp("^".concat("(?:[A-Za-z][A-Za-z0-9\\.-]*:)?(?:\\/\\/)?").concat(o).concat(c)),["http:","https:"]),u=l.concat(["mailto:"]),s=function(e){var t=a()(e);return!t.protocol||u.includes(t.protocol)},d=function(e){var t=a()(e);return l.includes(null==t?void 0:t.protocol)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/9174.fad37686.chunk.js.map