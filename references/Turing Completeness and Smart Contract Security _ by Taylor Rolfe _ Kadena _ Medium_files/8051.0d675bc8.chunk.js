(self.webpackChunklite=self.webpackChunklite||[]).push([[8051],{20001:(e,n,t)=>{"use strict";t.d(n,{I:()=>r});var i=t(28655),o=t.n(i);function a(){var e=o()(["\n  fragment getSlateBodyFromPostBodyModel_bodyModel on RichText {\n    paragraphs {\n      id\n      name\n      text\n      type\n      markups {\n        type\n        start\n        end\n        href\n        anchorType\n        userId\n        linkMetadata {\n          httpStatus\n        }\n      }\n    }\n  }\n"]);return a=function(){return e},e}var r=(0,t(92471).Ps)(a())},56804:(e,n,t)=>{"use strict";t.d(n,{S:()=>X});var i=t(59713),o=t.n(i),a=t(64718),r=t(67294),s=t(27517),l=t(54933),d=t(1249),u=t(29074),c=t(24291),p=t(78457),m=t(11098),v=t(20998),k=t(95983),f=t(75857),g=t(6443),y=t(39507),S=t(18733),E=t(26350),b=t(18627),h=t(66411),R=t(83486),N=t(43487),P=t(51681),C=t(59764),F=t(50458),x=t(13195),_=t(10654),I=t(47628),T=t(6479),O=t.n(T),D=t(75412),w=t(6342),A=t(73130),j=t(72431),M=t(32317),B=t(319),H=t.n(B),L=t(78693),V=t(21177),U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostVotersDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pagingOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"voterCount"}},{kind:"Field",name:{kind:"Name",value:"voters"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"pagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserInListDialog_user"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"page"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_post"}}]}}]}}].concat(H()(L.s.definitions),H()(V.n.definitions),H()(L.S.definitions))};function Q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=function(e){var n=e.post,t=e.hide,i=e.isVisible,o=e.fetchMore,a=e.loading;if(!n)return null;var s=n.title,l=n.voters,d=n.clapCount,u=n.voterCount;return r.createElement(A.x,{isVisible:i,fetchMore:o,loading:a,hide:t,title:s,clapCount:null!=d?d:0,voterCount:null!=u?u:0,voters:l?l.items.map((function(e){var t=e.user,i=e.clapCount;return t&&r.createElement(w.F,{user:t,key:t.id,followButton:r.createElement(M.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:"follow_list"}),badge:r.createElement(j.g,{clapCount:i})})})):null})};function z(e){var n=e.postId,t=e.isVisible,i=e.hide;return t?r.createElement(D.A,{ssr:!1,query:U,variables:{postId:n,pagingOptions:{limit:10}},notifyOnNetworkStatusChange:!0},(function(e){var n,o=e.data,a=(o=void 0===o?{}:o).post,s=e.loading,l=e.error,d=e.fetchMore;if(l||null==a||!a.voters)return null;var u=a.voters.pagingInfo&&a.voters.pagingInfo.next;if(u){u.__typename;var c=O()(u,["__typename"]);n=function(){return d({variables:{pagingOptions:$($({},c),{},{limit:10})}})}}return r.createElement(K,{hide:i,fetchMore:n,post:a,isVisible:t,loading:s})})):null}var Y=t(30020),W=t(66227);function q(e){var n=e.clapCount,t=e.hasLabel,i=void 0!==t&&t,o=e.showFullNumber,a=void 0!==o&&o,s=e.post,l=e.hasDialog,d=void 0!==l&&l,u=e.shouldShowResponsiveLabelText,c=void 0!==u&&u,p=e.shouldHideClapsText,m=void 0!==p&&p,v=e.countColor,k=e.countScale,f=e.isLoading,g=void 0!==f&&f,y=s.id;if(!(n>0||g))return null;var S=function(e){var t=e.showVoters;return r.createElement(I.$,{showVoters:t,hasLabel:i,showFullNumber:a,shouldShowResponsiveLabelText:c,shouldHideClapsText:m,clapCount:n,countColor:v,countScale:k,isLoading:g})};return d&&y&&!g?r.createElement(W.B,null,(function(e){var n=e.isVisible,t=e.show,i=e.hide;return r.createElement(r.Fragment,null,r.createElement(Y._,{tooltipText:"View Claps",targetDistance:15},r.createElement(S,{showVoters:t})),n&&r.createElement(z,{isVisible:!0,hide:i,postId:y}))})):r.createElement(S,null)}function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){var n,t=e.post,i=e.buttonStyle,o=e.hasDialog,I=e.shouldShowResponsiveLabelText,T=void 0!==I&&I,O=e.shouldHideClapsText,D=void 0!==O&&O,w=e.shouldHideClapsCount,A=void 0!==w&&w,j=e.susiEntry,M=e.verticalClapsText,B=void 0!==M&&M,H=e.buttonColor,L=e.countScale,V=(0,a.a)(_.A,{fetchPolicy:"network-only",nextFetchPolicy:"cache-first",ssr:!1,variables:{postId:t.id}}),U=V.data,Q=V.loading,$=U&&(0,C.f)(U.postResult)?U.postResult.clapCount:null,K=G(G({},t),{},{clapCount:$}),z=(0,x.CP)(),Y=(0,g.H)(),W=Y.value,J=Y.loading,Z=null!==(n=null==W?void 0:W.id)&&void 0!==n?n:"",X=(0,y.T)(t).viewerEdge,ee=(0,N.v9)((function(e){return e.config.authDomain})),ne=(0,N.b$)((function(e){return e.multiVote.clapsPerPost})),te=(0,s.I0)(),ie=(0,b.Av)(),oe=(0,h.pK)(),ae=(0,P.l)(ne,K,X),re=ae.clapCount,se=ae.viewerClapCount,le=ae.viewerHasClappedSinceFetch,de=(0,r.useCallback)((function(){if(se&&se>=k.S2)return"Viewer exceeded authorized claps limit.";var e;e={postId:t.id,clapCount:re+1,viewerClapCount:se+1,viewerHasClappedSinceFetch:!0},te((0,R.at)(e))}),[se,t.id,re]),ue=(0,r.useCallback)((function(e){z(K,Z,e,X),ie.event("post.clientUpvote",{postId:t.id,postIds:[t.id],voteCount:e,source:oe})}),[t.id,Z,X,oe]),ce=(0,f.m)({onIncrementClaps:de,onSubmitClapsAccumulated:ue}),pe=ce.clappedAt,me=ce.onFloatEnd,ve=ce.removeBurst,ke=ce.clap,fe=ce.isPopping,ge=ce.isShowingViewerClapCount,ye=ce.burstOffsets,Se=ce.onPopEnd;(0,r.useEffect)((function(){return function(){var e;e={postId:t.id},te((0,R.HQ)(e))}}),[]);var Ee,be=t.collection,he=t.creator,Re=t.id,Ne=t.isPublished,Pe=t.isLimitedState,Ce=(Ee=!(!he||he.id!==Z),Pe?"This feature is temporarily disabled":Ne?Ee?"You cannot applaud your own story":void 0:"You cannot applaud a draft"),Fe=(0,k.wH)(i,T),xe=Fe.alwaysShowClapsLabel,_e=Fe.hasClapsLabel,Ie=Fe.buttonScale,Te=!!(se&&se>0),Oe=!!(re&&re>0),De=be&&be.slug?(0,F.JL)(ee,be.slug,Re):(0,F.kI)(ee,Re);return r.createElement(u.l,{verticalClapsText:B},r.createElement(p.$,{buttonStyle:i,hasClaps:Oe||Q},Z||Ce||J?r.createElement(r.Fragment,null,ge&&r.createElement(S.N8,null,r.createElement(c.q,{count:se,clappedAt:pe,onFloatEnd:me})),r.createElement(v.v,{isPopping:fe,onPopEnd:Se},r.createElement(d.d,{buttonColor:H,disableReason:Ce,isFilled:Te,isLoading:J||Q,onClickAndHold:ke,scale:Ie,shouldHideClapsText:D})),ye.map((function(e){return r.createElement(l.P,{key:e,offset:e,onBurstEnd:ve})}))):r.createElement(E.R,{operation:"register",post:t,user:t.creator,actionUrl:De,susiEntry:j},r.createElement(d.d,{scale:Ie,buttonColor:H}))),(Oe||Q)&&!A&&(!ge||xe)&&r.createElement(m.W,{buttonStyle:i},r.createElement(q,{post:t,clapCount:re,showFullNumber:le,hasLabel:_e,hasDialog:o,shouldShowResponsiveLabelText:T,shouldHideClapsText:D,countColor:H,countScale:L,isLoading:Q})))},X=function(e){var n;return r.createElement(h.cW,{source:{postId:null===(n=e.post)||void 0===n?void 0:n.id},extendSource:!0},r.createElement(Z,e))}},10397:(e,n,t)=>{"use strict";t.d(n,{bM:()=>re,yd:()=>le,uQ:()=>se});var i=t(28655),o=t.n(i),a=t(319),r=t.n(a),s=t(63038),l=t.n(s),d=t(92471),u=t(67294),c=t(99643),p=t(67922),m=t(38882),v=t(92880),k=t(45556),f=t(66936),g=t(59713),y=t.n(g),S=t(38381),E=t(77355),b=t(87691),h=t(14646),R=t(97217),N=t(42498);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){y()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function F(e,n,t){return"char"===e&&n>250||"line"===e&&t>5}function x(e){var n=e.paragraphs,t=e.truncateStrategy,i=e.isExpanded,o=(0,h.I)(),a=0,r=0,s="none"!==t&&!i;return u.createElement("pre",{className:o({whiteSpace:"pre-wrap"})},n.map((function(e){if(!i&&F(t,a,r))return null;var n=(null==e?void 0:e.text)||"";a+=n.length||0,r+=n.split("\n").length||0;var l=C(C({},e),{},{dropCapImage:null,hasDropCap:null}),d=!i&&F(t,a,r);if(d&&"char"===t){var c=250-(a-n.length||0);l.markups=l.markups.reduce((function(e,n){if(n.start<c){var t=C({},n);t.end>c&&(t.end=c),e.push(t)}return e}),[]),l.text=(0,N.N8)(n,c)}return u.createElement(E.x,{padding:"5px 0px",key:e.name||e.id},u.createElement(b.F,{scale:"M",color:"DARKER",tag:"div"},u.createElement("div",{className:o({lineHeight:"24px"})},u.createElement(S.T2,{paragraph:l,richTextStyle:"FULL_PAGE",paragraphStyle:R.NJ.P}),s&&d&&"...")))})).filter((function(e){return!!e})))}var _=t(56804),I=t(35283),T=t(82186),O=t(25735),D=t(93310),w=t(18627),A=t(66411);function j(){return(j=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var M=u.createElement("path",{clipRule:"evenodd",d:"M8.56 6.14L13 10.5l-4.43 4.36-.55-.55 3.8-3.81-3.8-3.8"});const B=function(e){return u.createElement("svg",j({width:21,height:21,viewBox:"0 0 21 21",fill:"none"},e),M)};var H=t(55459),L=t(62896),V=t(80745);function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){y()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var $="Show more replies",K=function(e){var n=e.response,t=n.postResponses,i=n.id,o=(null==t?void 0:t.count)||0,a=u.useContext(I.H),r=a.inResponseToEntityId,s=a.inResponseToEntityTypename,l=a.isThreadedResponsesVisible,d=a.toggleThreadedResponses,c=a.threadDepthOnPage,m=a.toggleCreateReply,v=a.loadThreadedResponses,k=a.isThreadedResponsesQueryCalled,f=a.showContinueThisThreadSidebar,g=a.threadDepthFromRootEntity,y=u.useContext(p.D),S=y.rootEntityId,R=y.rootEntityTypename,N=(0,w.Av)(),P=(0,A.pK)(),C=(0,h.I)(),F=function(e){return function(n){return{fill:e?n.accentColor.fill.normal:n.baseColor.fill.normal,height:"25px",width:"25px"}}},x=!!(0,O.VB)({name:"enable_lite_continue_this_thread",placeholder:!1}),j=c>=T.yo,M=j&&o>0,U=(0,L.ic)(navigator&&navigator.userAgent),K=function(e,n){return u.createElement(E.x,{display:"flex",alignItems:"center"},u.createElement(H.Z,{className:C(F(M)),"aria-label":"responses"}),u.createElement(E.x,{tag:"div",marginLeft:"8px",marginTop:"2px"},u.createElement(b.F,{color:e,tag:"p",scale:"M"},n)))},z=Q(Q(Q({postId:i},(0,V.So)(r,s)),(0,V.xd)(S,R)),{},{threadDepth:g,source:P}),Y=n.mediumUrl?u.createElement(D.r,{linkStyle:"SUBTLE",href:n.mediumUrl},K("ACCENT",$)):null,W=function(){f(),N.event("response.continue",Q({},z))},q=x?u.createElement(D.r,{linkStyle:"SUBTLE",onClick:W},K("ACCENT",$)):Y;return u.createElement(E.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:"14px"},u.createElement(E.x,{display:"flex",alignItems:"center"},u.createElement(_.S,{buttonStyle:"SUBTLE_MARGIN",post:n,shouldShowResponsiveLabelText:!0,susiEntry:(0,V.FY)(s)}),u.createElement(E.x,{marginLeft:"12px",display:"flex",alignItems:"center",height:"25px"},M?q:o>0&&u.createElement(D.r,{linkStyle:"SUBTLE",onClick:function(){!function(e){e?N.event("response.collapsed",Q({},z)):e||N.event("response.expanded",Q({},z))}(l),d()}},K("DARKER",function(e,n){return n?"Hide replies":"".concat(e," ").concat(1===e?"reply":"replies")}(o,l))))),M?u.createElement(E.x,{marginTop:"5px"},u.createElement(D.r,{linkStyle:"SUBTLE",onClick:W},u.createElement(B,{className:C(F(!0)),height:"26px",width:"26px"}))):!U&&u.createElement(E.x,{paddingRight:"6px"},u.createElement(b.F,{color:"DARKER",scale:"M"},u.createElement(D.r,{onClick:function(){j?W():(k||v(),m())},inline:!0},"Reply"))))},z=t(38619),Y=t(68821),W=t(18305);function q(){var e=o()(["\n  fragment SimpleResponse_catalog on Catalog {\n    id\n    ...ResponseHeader_catalog\n  }\n  ","\n"]);return q=function(){return e},e}function J(){var e=o()(["\n  fragment SimpleResponse_post on Post {\n    id\n    ...ResponseHeader_post\n  }\n  ","\n"]);return J=function(){return e},e}var G=function(){return{border:"none",padding:"0 0 5px",cursor:"pointer"}},Z=function(e){var n,t=e.simpleResponse,i=e.parentEntity,o=e.omitBottomBorder,a=t.creator,r=t.content,s=t.mediumUrl,d=u.useState(!1),c=l()(d,2),k=c[0],g=c[1],y=u.useRef(null),S=(0,h.I)(),R=u.useContext(p.D).sidebarRef;(0,Y.V)(y,t,R);var N=null==r||null===(n=r.bodyModel)||void 0===n?void 0:n.paragraphs;if(!(a&&r&&N&&s))return null;var P,C=(P=N.map((function(e){return e.text||""}))).join("").length>320?"char":P.join("\n").split("\n").length>5?"line":"none",F="none"!==C,_=F&&!k,I=(0,L.ic)(navigator&&navigator.userAgent);return u.createElement(W.o,{post:t,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!F},u.createElement(E.x,{paddingTop:"25px",paddingBottom:I&&o?"48px":"16px",borderBottom:o?void 0:"BASE_LIGHTER",ref:y},u.createElement(v.E,{response:t,responseType:z.Q.SIMPLE,parentEntity:i}),u.createElement(f.J,{inResponseToMediaResource:t.inResponseToMediaResource}),u.createElement(E.x,{marginTop:"5px",wordBreak:"break-word"},u.createElement(m.c.Provider,{value:!0},u.createElement(x,{paragraphs:N,truncateStrategy:C,isExpanded:k}))),_&&u.createElement("button",{onClick:function(){return g(!0)},className:S(G)},u.createElement(b.F,{scale:"S",color:"ACCENT",tag:"span"},"Read More")),u.createElement(K,{response:t})))},X=(0,d.Ps)(J(),k.F),ee=(0,d.Ps)(q(),k.c),ne=t(65492),te=t(22889),ie=t(92305);function oe(){var e=o()(["\n  fragment ReadOrEditSimpleResponse_catalog on Catalog {\n    __typename\n    id\n    creator {\n      id\n      username\n    }\n    ...SimpleResponse_catalog\n    ...getCatalogSlugId_Catalog\n  }\n  ","\n  ","\n"]);return oe=function(){return e},e}function ae(){var e=o()(["\n  fragment ReadOrEditSimpleResponse_post on Post {\n    __typename\n    id\n    ...SimpleResponse_post\n  }\n  ","\n"]);return ae=function(){return e},e}var re=function(e){var n,t=e.responsePost,i=e.index,o=e.parentEntity,a=e.omitBottomBorder,s=u.useState(!1),d=l()(s,2),m=d[0],v=d[1],k=u.useState(null),f=l()(k,2),g=f[0],y=f[1],S=u.useContext(p.D),E=S.editingResponsesAtIndices,b=S.setEditingResponsesAtIndices;return u.useEffect((function(){if(m&&!E.includes(i)&&b([].concat(r()(E),[i])),!m&&E.includes(i)){var e=E.filter((function(e){return e!==i}));b(e)}}),[m,E,b]),t?m?u.createElement(c.Q.Provider,{value:{isEditing:m,setIsEditing:v,latestRev:null==t?void 0:t.latestRev,createdAt:null==t?void 0:t.createdAt,setEditingQuote:y,editingQuote:g}},u.createElement(A.cW,{source:{index:i},key:t.id,extendSource:!0},u.createElement(te.O,{type:ne.H.edit,parentEntityId:o.id,parentEntityTypename:o.__typename,responseId:t.id,initialValue:null==t||null===(n=t.content)||void 0===n?void 0:n.bodyModel,parentCreatorName:"Catalog"===o.__typename?o.creator.username:"",parentEntitySlug:"Catalog"===o.__typename?(0,ie.EJ)(o):""}))):u.createElement(c.Q.Provider,{value:{isEditing:m,setIsEditing:v,setEditingQuote:y,editingQuote:g}},u.createElement(A.cW,{source:{index:i},key:t.id,extendSource:!0},u.createElement(Z,{parentEntity:o,simpleResponse:t,omitBottomBorder:a}))):null},se=(0,d.Ps)(ae(),X),le=(0,d.Ps)(oe(),ee,ie.ge)},99643:(e,n,t)=>{"use strict";t.d(n,{Q:()=>i});var i=t(67294).createContext({isEditing:!1,setIsEditing:function(){return null},setEditingQuote:function(){return null}})},92880:(e,n,t)=>{"use strict";t.d(n,{E:()=>Z});var i=t(63038),o=t.n(i),a=t(67294),r=t(65968),s=t(64238),l=t(89976),d=t(14646),u=function(e){var n=e.title,t=e.backgroundColor,i=(0,d.I)();return a.createElement("div",{className:i((function(){return{color:"white",backgroundColor:t,borderRadius:"2px",fontSize:"11px",padding:"0px 6px",height:"16px",display:"flex",alignItems:"center",marginLeft:"8px",marginTop:"2px"}}))},n)},c=t(6443),p=t(17193),m=t(77355),v=t(26244),k=t(93310),f=t(87691),g=t(66411),y=t(31889),S=t(43487),E=t(93394),b=t(50458),h=t(6544),R=t(21919),N=t(27517),P=t(67922),C=t(35283),F=t(38352),x=t(18627),_=t(78285),I=t(35006),T=t(10282),O=function(e){var n,t,i=e.response,r=e.hidePopoverMenu,s=a.useState(!1),l=o()(s,2),d=l[0],u=l[1],p=(0,x.Av)(),m=(0,g.pK)(),v=(0,N.I0)(),f=(0,c.H)().value,y=a.useContext(C.H),S=y.inResponseToEntityId,E=y.inResponseToEntityTypename,b=a.useContext(P.D),h=b.responseSortType,O=b.sidebarRef,D=(0,R.D)(T.kv,{variables:{responseId:i.id},update:function(e){var n;"Post"===E&&(n=(0,T.y_)(e,S,i.id,h)),"Catalog"===E&&(n=(0,T.fz)(e,S,i.id,h)),n&&(p.event("responses.removed",{postId:i.id,source:m}),v((0,_.Dx)({message:"Successfully deleted response."})),r())}}),w=o()(D,1)[0];return null!=f&&f.id&&(null==f?void 0:f.id)===(null===(n=i.creator)||void 0===n?void 0:n.id)?(null!=O&&O.current&&(t=O.current.scrollTop),a.createElement(a.Fragment,null,a.createElement(F.Sl,null,a.createElement(k.r,{onClick:function(){return u(!0)}},"Delete")),d&&a.createElement(I.$,{isDialogOpen:d,cancelDialogAction:function(){u(!1),null!=O&&O.current&&(O.current.scrollTop=t)},confirmDialogAction:w,responseDistribution:i.responseDistribution,hide:function(){return u(!1)}}))):null},D=t(99643),w=t(72136),A=function(e){var n=e.isDialogOpen,t=e.cancelDialogAction,i=e.confirmDialogAction;return a.createElement(w.E,{isDialogOpen:n,dialogHeading:"Edit response and story",dialogDescription:"This response is also a story on your profile. Any edits are applied to both.",cancelDialogAction:t,confirmDialogAction:i,confirmDialogButtonText:"Continue",confirmButtonStyle:"STRONG"})},j=t(97217),M=function(e){var n,t,i=e.response,r=(0,c.H)().value,s=a.useState(!1),l=o()(s,2),d=l[0],u=l[1],p=a.useContext(D.Q),m=p.setIsEditing,v=p.isEditing,f=p.setEditingQuote,g=(null===(n=i.creator)||void 0===n?void 0:n.id)===(null==r?void 0:r.id),y=a.useContext(P.D).sidebarRef;if(null!=y&&y.current&&(t=y.current.scrollTop),!g)return null;var S=i.responseDistribution===j.Et.DISTRIBUTED;return a.createElement(a.Fragment,null,a.createElement(F.Sl,null,a.createElement(k.r,{onClick:function(){S?u(!0):(i.inResponseToMediaResource&&f(i.inResponseToMediaResource.mediumQuote),m(!v))}},"Edit this response")),d&&a.createElement(A,{isDialogOpen:d,cancelDialogAction:function(){u(!1),null!=y&&y.current&&(y.current.scrollTop=t)},confirmDialogAction:function(){u(!1),null!=y&&y.current&&(y.current.scrollTop=t),i.inResponseToMediaResource&&f(i.inResponseToMediaResource.mediumQuote),m(!v)}}))},B=t(32407),H=t(75525),L=t(13195),V=t(39507),U=t(83486),Q=t(51681),$=function(e){var n=e.response,t=e.hidePopoverMenu,i=(0,L.CP)(),o=(0,x.Av)(),r=(0,c.H)().value,s=(0,g.pK)(),l=(0,V.T)(n),d=(0,S.b$)((function(e){return e.multiVote.clapsPerPost})),u=(0,N.I0)(),p=(0,Q.l)(d,n,l.viewerEdge),m=p.clapCount,v=p.viewerClapCount,f=a.useCallback((function(){i(n,(null==r?void 0:r.id)||"",-v),u((0,U.at)({postId:n.id,clapCount:m-v,viewerClapCount:0,viewerHasClappedSinceFetch:!0})),o.event("post.clientUnvote",{postId:n.id,postIds:[n.id],unvoteCount:v,source:s}),t()}),[t,n.id,null==r?void 0:r.id,m,v,i]);return null!=r&&r.id&&0!==m&&0!==v?a.createElement(F.Sl,null,a.createElement(k.r,{onClick:f},"Undo applause for this response")):null},K=t(38619),z=t(62896),Y={position:"absolute !important",top:"-16px",right:"0",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"4px",zIndex:"1000",backgroundColor:"rgba(255, 255, 255, 1)",minWidth:"150px"},W=function(e){var n=e.response,t=e.responseType,i=e.parentEntity,o=e.isPopoverMenuVisible,r=e.hidePopoverMenu,s=(0,d.I)(),l=n.creator,u=a.useRef(null);if(a.useEffect((function(){var e=function(e){var n;null!=u&&null!==(n=u.current)&&void 0!==n&&n.contains(e.target)||r()};if(o)return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[o]),!n||!l)return null;var c=(0,z.ic)(navigator&&navigator.userAgent);return a.createElement("div",{className:s(Y),ref:u},a.createElement(F.mX,null,a.createElement(H.QU,{response:n,parentEntity:i,hidePopoverMenu:r}),a.createElement(B.nQ,{responseToBeHidden:n,parentEntity:i,hidePopoverMenu:r}),a.createElement(h.RZ,{response:n,parentEntity:i,hidePopoverMenu:r}),t===K.Q.SIMPLE&&a.createElement($,{response:n,hidePopoverMenu:r}),t===K.Q.SIMPLE&&!c&&a.createElement(M,{response:n}),a.createElement(O,{response:n,hidePopoverMenu:r})))},q=t(80745),J=t(28695),G=function(e){return{cursor:"pointer",border:0,fill:e.baseColor.fill.light,":hover":{fill:e.baseColor.fill.dark},":focus":{outline:"none"}}},Z=function(e){var n,t=e.response,i=e.responseType,h=e.parentEntity,R=(0,c.H)().value,N=(0,d.I)(),P=(0,y.F)(),C=t.creator,F=t.mediumUrl,x=t.createdAt,_=a.useState(!1),I=o()(_,2),T=I[0],O=I[1],D=(0,S.v9)((function(e){return e.config.authDomain})),w=(0,s.o)(C),A=(0,a.useCallback)((function(e){e.nativeEvent.stopPropagation(),O(!T)}),[T]);if(!t||!C||!F)return null;var j=(null===(n=h.creator)||void 0===n?void 0:n.id)===C.id,M=(null==R?void 0:R.id)===C.id,B=null;j?B=a.createElement(u,{title:"AUTHOR",backgroundColor:P.brandColor.sage.dark}):M&&(B=a.createElement(u,{title:"YOU",backgroundColor:"#A8A8A8"}));var H=function(e,n){return e&&n===K.Q.SIMPLE}(t,i)&&(null==t?void 0:t.firstPublishedAt)!==(null==t?void 0:t.latestPublishedAt);return a.createElement(a.Fragment,null,a.createElement(m.x,{display:"flex",flexDirection:"row",justifyContent:"space-between"},a.createElement(m.x,{display:"flex",flexDirection:"row",alignItems:"center"},a.createElement(p.Yt,{scale:"XS",user:C,showStar:!0}),a.createElement(m.x,{paddingLeft:"12px"},a.createElement(m.x,{display:"flex",alignItems:"center"},a.createElement(v.$,{placement:"top",targetDistance:15,mouseLeaveDelay:200,popoverRenderFn:function(){return a.createElement(J.K,{user:C})}},a.createElement(k.r,{href:(0,b.AW)(C,D)},a.createElement(m.x,{display:"flex",alignItems:"center"},a.createElement(f.F,{scale:"M",color:"DARKER"},C.name),w&&a.createElement(m.x,{marginLeft:"2px",marginTop:"1px"},a.createElement(r._,{size:"S"}))))),B),a.createElement(k.r,{href:F,linkStyle:"SUBTLE",inline:!0,follow:!1},a.createElement(f.F,{scale:"M"},a.createElement(l.b,{timestamp:null!=x?x:0}),H&&a.createElement(a.Fragment,null,"Â (edited)"))))),a.createElement(k.r,{onClick:A,inline:!0,className:N(G)},a.createElement(E.Z,null))),T&&a.createElement("div",{className:N({position:"relative"})},a.createElement(g.cW,{source:{susiEntry:(0,q.FY)(h.__typename)},extendSource:!0},a.createElement(W,{response:t,responseType:i,parentEntity:h,isPopoverMenuVisible:T,hidePopoverMenu:function(){return O(!1)}}))))}},45556:(e,n,t)=>{"use strict";t.d(n,{c:()=>g,F:()=>f});var i=t(28655),o=t.n(i),a=t(92471),r=t(18821),s=t(6544),l=t(32407),d=t(75525);function u(){var e=o()(["\n  fragment ResponsePopoverMenu_catalog on Catalog {\n    id\n    ...ReportUserMenuItem_catalog\n    ...HideResponseMenuItem_catalog\n    ...BlockUserMenuItem_catalog\n  }\n  ","\n  ","\n  ","\n"]);return u=function(){return e},e}function c(){var e=o()(["\n  fragment ResponsePopoverMenu_post on Post {\n    id\n    ...ReportUserMenuItem_post\n    ...HideResponseMenuItem_post\n    ...BlockUserMenuItem_post\n  }\n  ","\n  ","\n  ","\n"]);return c=function(){return e},e}var p=(0,a.Ps)(c(),d.x0,l.iP,s.Kv),m=(0,a.Ps)(u(),d.jj,l.aI,s.DN);function v(){var e=o()(["\n  fragment ResponseHeader_catalog on Catalog {\n    __typename\n    id\n    creator {\n      id\n      ...useIsVerifiedBookAuthor_user\n    }\n    ...ResponsePopoverMenu_catalog\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function k(){var e=o()(["\n  fragment ResponseHeader_post on Post {\n    __typename\n    id\n    creator {\n      id\n      ...useIsVerifiedBookAuthor_user\n    }\n    ...ResponsePopoverMenu_post\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}var f=(0,a.Ps)(k(),p,r.H),g=(0,a.Ps)(v(),m,r.H)},66936:(e,n,t)=>{"use strict";t.d(n,{J:()=>S,u:()=>E});var i=t(28655),o=t.n(i),a=t(59713),r=t.n(a),s=t(92471),l=t(67294),d=t(37269),u=t(82717),c=t(14646),p=t(31889),m=t(97217),v=t(21021),k=t(53546);function f(){var e=o()(["\n  fragment ResponseQuote_post on Post {\n    inResponseToMediaResource {\n      href\n      mediumQuote {\n        quoteId\n        startOffset\n        endOffset\n        paragraphs {\n          ...TextParagraph_paragraph\n        }\n        ...buildQuotePreviewParagraph_quote\n      }\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return e},e}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){r()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=function(e){var n=e.inResponseToMediaResource,t=(0,c.I)(),i=(0,p.F)(),o=(0,v.r)((function(){var e=null==n?void 0:n.href;if(e){var t=null==e?void 0:e.split("#")[1];if(t){var i=t.split("--")[0];if(i){var o=document.getElementById(i);if(o){var a=(null==o?void 0:o.offsetTop)-100;a&&window.scrollTo({top:a,behavior:"smooth"})}}}}}),[null==n?void 0:n.href]),a=null==n?void 0:n.mediumQuote;if(!a)return null;var r=(0,k.eu)(a);if(!r||!r.type)return null;var s=r.type;return s===m.NJ.IMG||s===m.NJ.IFRAME||s===m.NJ.COVER_TITLE||s===m.NJ.HR||s===m.NJ.MIXTAPE_EMBED||s===m.NJ.SECTION_CAPTION?null:l.createElement("div",{onClick:o,onKeyDown:o,role:"button",tabIndex:0,className:t({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",marginTop:"22px",marginBottom:"3px",padding:"20px 16px",cursor:"pointer",backgroundColor:i.backgroundColor})},l.createElement(d.Do,{paragraph:y(y({},r),{},{name:"embedded-quote-".concat(a.quoteId,"-").concat(r.name)}),paragraphStyle:s,spaceTop:4,richTextStyle:"STREAM"}))},E=(0,s.Ps)(f(),k.Sz,u.Rg)},67922:(e,n,t)=>{"use strict";t.d(n,{D:()=>a});var i=t(67294),o=t(97217),a=i.createContext({setIsSavingResponse:function(){return null},editingResponsesAtIndices:[],setEditingResponsesAtIndices:function(){return null},setInResponseToQuote:function(){return null},sidebarRef:null,responseDistribution:o.Et.NOT_DISTRIBUTED,setResponseDistribution:function(){},responseSortType:o.sV.TOP,rootEntityId:"",isResponsesSidebarVisible:!1,showCreateReplyEditor:!1})},75774:(e,n,t)=>{"use strict";t.d(n,{D:()=>f,K:()=>g});var i=t(28655),o=t.n(i),a=t(92471),r=t(18821),s=t(20001),l=t(66936),d=t(71878),u=t(54341),c=t(18305),p=t(69724),m=t(68216);function v(){var e=o()(["\n  fragment SimpleResponse_threadedSimpleResponse_defaultPostResponses on Post {\n    responsesCount\n    postResponses {\n      count\n    }\n    threadedPostResponses(paging: {limit: 10}, sortType: $sortType) {\n      __typename\n      autoExpandedPostIds\n      pagingInfo {\n        next {\n          limit\n          to\n        }\n      }\n      posts {\n        ... on Post {\n          ...StoryResponse_threadedStoryResponse_post\n          ...SimpleResponse_threadedSimpleResponse_post\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function k(){var e=o()(["\n  fragment SimpleResponse_threadedSimpleResponse_post on Post {\n    id\n    createdAt\n    firstPublishedAt\n    latestPublishedAt\n    title\n    creator {\n      id\n      name\n      username\n      imageId\n      mediumMemberAt\n      viewerEdge {\n        id\n        isBlocking\n      }\n      ...userUrl_user\n      ...UserMentionTooltip_user\n      ...useIsVerifiedBookAuthor_user\n    }\n    clapCount\n    viewerEdge {\n      id\n      clapCount\n    }\n    isPublished\n    voterCount\n    responsesCount\n    postResponses {\n      count\n    }\n    allowResponses\n    latestRev\n    recommenders {\n      id\n      name\n    }\n    mediumUrl\n    content {\n      bodyModel {\n        paragraphs {\n          text\n        }\n        ...getSlateBodyFromPostBodyModel_bodyModel\n      }\n    }\n    collection {\n      id\n      slug\n    }\n    isLimitedState\n    inResponseToType\n    responseDistribution\n    ...PostPresentationTracker_post\n    ...PostScrollTracker_post\n    ...ResponseQuote_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var f=(0,a.Ps)(k(),c.h,p.k,l.u,s.I,m.$m,u.O,r.H),g=(0,a.Ps)(v(),d.t,f)},48041:(e,n,t)=>{"use strict";t.d(n,{H4:()=>C,k5:()=>F,PB:()=>x});var i=t(28655),o=t.n(i),a=t(92471),r=t(67294),s=t(92880),l=t(45556),d=t(77355),u=t(27323),c=t(87691),p=t(14646),m=t(31889),v=t(18305),k=t(97217),f=t(81162),g=t(14349),y=t(21372),S=t(50458),E=t(66936),b=t(38619);function h(){var e=o()(["\n  fragment StoryResponse_catalog on Catalog {\n    id\n    ...ResponseHeader_catalog\n  }\n  ","\n"]);return h=function(){return e},e}function R(){var e=o()(["\n  fragment StoryResponse_post on Post {\n    id\n    ...ResponseHeader_post\n  }\n  ","\n"]);return R=function(){return e},e}function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var P=function(e){return{fill:e.baseColor.fill.lighter,float:"right"}},C=function(e){var n,t,i=e.storyResponse,o=e.parentEntity,a=e.omitBottomBorder,l=(0,p.I)(),h=(0,m.F)(),R=i.creator,C=i.previewContent,F=i.mediumUrl,x=i.clapCount,_=i.responsesCount,I=null==C||null===(n=C.bodyModel)||void 0===n?void 0:n.paragraphs;if(!(R&&C&&C.bodyModel&&F&&I))return null;var T=function(e){var n,t=[],i=function(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return N(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==t.return||t.return()}finally{if(s)throw a}}}}(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.text&&(t.push(o),t.length>=2))break}}catch(e){i.e(e)}finally{i.f()}return{title:t[0],subtitle:t[1]}}(I);if(!T.title&&!T.subtitle)return null;var O,D=null!==(null===(t=i.inResponseToMediaResource)||void 0===t?void 0:t.mediumQuote),w=_||0;return r.createElement(v.o,{post:i,presentationContext:"POST_PREVIEW",isDisplayingFullPost:!1},r.createElement(d.x,{paddingTop:"25px",paddingBottom:"20px",borderBottom:a?void 0:"BASE_LIGHTER"},r.createElement(s.E,{response:i,responseType:b.Q.STORY,parentEntity:o}),r.createElement(E.J,{inResponseToMediaResource:i.inResponseToMediaResource}),r.createElement(u.P,{href:(0,S.jV)(i)},r.createElement("div",{className:l({boxShadow:"0px 1px 4px rgba(0,0,0,0.04)",border:"1px solid rgba(0,0,0,0.1)",borderRadius:"3px",padding:"12px",marginTop:D?"12px":"16px",backgroundColor:h.backgroundColor})},r.createElement("div",{className:l(P)},r.createElement(c.F,{scale:"S",color:"LIGHTER",tag:"div"},r.createElement(d.x,{display:"flex",flexGrow:"0",alignItems:"center",marginLeft:(null!=x?x:0)>0||w>0?"20px":"0"},(null!=x?x:0)>0?r.createElement(d.x,{display:"flex",alignItems:"center"},r.createElement(d.x,{tag:f.Z,marginRight:"2px"}),r.createElement("div",null,(0,y.pY)(null!=x?x:0))):null,w>0?r.createElement(d.x,{display:"flex",alignItems:"center"},r.createElement(d.x,{tag:g.Z,marginLeft:x?"8px":"0",marginRight:"2px"}),r.createElement("div",null,(0,y.pY)(w))):null))),r.createElement(c.F,{scale:"M",clamp:2,color:"DARKER"},T.title&&r.createElement(d.x,null,T.title.text),T.subtitle&&r.createElement("div",{className:l((O=T.title.type,function(e){return{color:O===k.NJ.H3?e.baseColor.text.lighter:e.baseColor.text.normal}}))},T.subtitle.text))))))},F=(0,a.Ps)(R(),l.F),x=(0,a.Ps)(h(),l.c)},71878:(e,n,t)=>{"use strict";t.d(n,{t:()=>k});var i=t(28655),o=t.n(i),a=t(92471),r=t(54341),s=t(18305),l=t(68216),d=t(18821),u=t(27048);function c(){var e=o()(["\n  fragment ResponseHeader_postHacky on Post {\n    createdAt\n    creator {\n      id\n      ...UserAvatar_user\n      ...useIsVerifiedBookAuthor_user\n      viewerEdge {\n        id\n        isBlocking\n      }\n    }\n    mediumUrl\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}var p=(0,a.Ps)(c(),u.W,d.H),m=t(66936);function v(){var e=o()(["\n  fragment StoryResponse_threadedStoryResponse_post on Post {\n    id\n    responsesCount\n    postResponses {\n      count\n    }\n    creator {\n      viewerEdge {\n        id\n        isBlocking\n      }\n      ...userUrl_user\n      ...UserMentionTooltip_user\n    }\n    clapCount\n\n    previewContent {\n      bodyModel {\n        paragraphs {\n          text\n          type\n        }\n      }\n    }\n    responseDistribution\n    ...PostPresentationTracker_post\n    ...ResponseHeader_postHacky\n    ...ResponseQuote_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return v=function(){return e},e}var k=(0,a.Ps)(v(),p,s.h,m.u,l.$m,r.O)},35469:(e,n,t)=>{"use strict";t.d(n,{e:()=>m,f:()=>k});var i=t(28655),o=t.n(i),a=t(92471),r=t(10397),s=t(48041);function l(){var e=o()(["\n  fragment ThreadedReplies_catalog on Catalog {\n    __typename\n    id\n    ...ThreadedReply_catalog\n  }\n  ","\n"]);return l=function(){return e},e}function d(){var e=o()(["\n  fragment ThreadedReply_catalog on Catalog {\n    __typename\n    id\n    ...ReadOrEditSimpleResponse_catalog\n    ...StoryResponse_catalog\n  }\n  ","\n  ","\n"]);return d=function(){return e},e}function u(){var e=o()(["\n  fragment ThreadedReplies_post on Post {\n    __typename\n    id\n    ...ThreadedReply_post\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=o()(["\n  fragment ThreadedReply_post on Post {\n    __typename\n    id\n    ...ReadOrEditSimpleResponse_post\n    ...StoryResponse_post\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}var p=(0,a.Ps)(c(),r.uQ,s.k5),m=(0,a.Ps)(u(),p),v=(0,a.Ps)(d(),r.yd,s.PB),k=(0,a.Ps)(l(),v)},26959:(e,n,t)=>{"use strict";t.d(n,{U:()=>u,B:()=>c});var i=t(28655),o=t.n(i),a=t(92471),r=t(75774),s=t(71878);function l(){var e=o()(["\n  fragment SimpleResponse_threadedSimpleResponse_defaultCatalogResponses on Catalog {\n    responsesCount\n    threadedCatalogResponses(paging: $defaultPagingOptions, sortType: $sortType) {\n      pagingInfo {\n        next {\n          limit\n          to\n        }\n      }\n      posts {\n        ... on Post {\n          ...StoryResponse_threadedStoryResponse_post\n          ...SimpleResponse_threadedSimpleResponse_post\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return l=function(){return e},e}function d(){var e=o()(["\n  query PagedThreadedCatalogResponsesQuery(\n    $catalogId: ID!\n    $catalogResponsesPagingOptions: PagingOptions\n    $sortType: ResponseSortType\n  ) {\n    catalogById(catalogId: $catalogId) {\n      __typename\n      ... on Catalog {\n        id\n        responsesCount\n        responsesLocked\n        threadedCatalogResponses(paging: $catalogResponsesPagingOptions, sortType: $sortType) {\n          pagingInfo {\n            next {\n              limit\n              to\n            }\n          }\n          posts {\n            ... on Post {\n              ...StoryResponse_threadedStoryResponse_post\n              ...SimpleResponse_threadedSimpleResponse_post\n              ...SimpleResponse_threadedSimpleResponse_defaultPostResponses\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return d=function(){return e},e}var u=(0,a.Ps)(d(),r.D,s.t,r.K),c=(0,a.Ps)(l(),s.t,r.D)},38613:(e,n,t)=>{"use strict";t.d(n,{W:()=>a});var i=t(80745),o=t(26959),a=function(e,n,t){return{id:e.identify({__typename:"Catalog",id:n}),fragment:o.B,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultCatalogResponses",variables:{sortType:t,defaultPagingOptions:{limit:i.p4}}}}},65492:(e,n,t)=>{"use strict";var i;t.d(n,{H:()=>i}),function(e){e.edit="EDIT",e.create="CREATE"}(i||(i={}))},22889:(e,n,t)=>{"use strict";t.d(n,{O:()=>k});var i=t(59713),o=t.n(i),a=t(67294),r=t(68356),s=t.n(r),l=t(65492),d=t(2808),u=t(95989);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m={delay:1e3,timeout:2e4,loading:function(e){return e.error?a.createElement(d.C,{error:e.error}):e.timedOut?a.createElement(d.C,{error:new Error("Loadable Screen component has timed out")}):e.pastDelay?a.createElement(u.a,null):null}},v=s()(p(p({},m),{},{loader:function(){return Promise.all([t.e(7084),t.e(3115),t.e(6318),t.e(8121),t.e(6635)]).then(t.bind(t,60285))},modules:["src/components/responses/editor/ThreadedInlineResponseEditor"],webpack:function(){return[60285]},render:function(e,n){var t=e.ThreadedInlineResponseEditor;return a.createElement(t,n)}})),k=function(e){var n=e.parentEntityId,t=e.parentEntityTypename,i=e.responseId,o=e.parentCreatorName,r=e.parentEntitySlug,s=e.type,d=void 0===s?l.H.create:s,u=e.initialValue;return a.createElement(v,{parentEntitySlug:r,parentEntityId:n,parentEntityTypename:t,parentCreatorName:o,responseId:i,type:d,initialValue:u})}},6544:(e,n,t)=>{"use strict";t.d(n,{RZ:()=>N,Kv:()=>P,DN:()=>C});var i=t(28655),o=t.n(i),a=t(63038),r=t.n(a),s=t(21919),l=t(92471),d=t(67294),u=t(27517),c=t(1342),p=t(67922),m=t(80745),v=t(6443),k=t(38352),f=t(96086),g=t(93310),y=t(18627),S=t(66411),E=t(78285),b=t(71324);function h(){var e=o()(["\n  fragment BlockUserMenuItem_catalog on Catalog {\n    __typename\n    id\n    creator {\n      id\n    }\n  }\n"]);return h=function(){return e},e}function R(){var e=o()(["\n  fragment BlockUserMenuItem_post on Post {\n    __typename\n    id\n    creator {\n      id\n    }\n  }\n"]);return R=function(){return e},e}var N=function(e){var n,t,i=e.response,o=e.parentEntity,a=e.hidePopoverMenu,l=(0,v.H)().value,h=d.useContext(p.D).rootEntityTypename,R=(0,y.Av)(),N=(0,S.pK)(),P=(0,u.I0)(),C=d.useState(!1),F=r()(C,2),x=F[0],_=F[1],I=function(){return _(!1)},T=null==i||null===(n=i.creator)||void 0===n?void 0:n.id,O=d.useCallback((function(e,n,t){"Post"===n&&(0,b.g)(e,t),"Catalog"===n&&(0,b.k)(e,t)}),[]),D=(0,s.D)(c.O,{variables:{targetUserId:T,userId:null==l?void 0:l.id},update:function(e){O(e,o.__typename,o.id)},onCompleted:function(){I();var e=(0,m.Pm)(h);P((0,E.Dx)({message:"Responses by this user have been hidden".concat(e?" from this ".concat(e):"",".")}))}}),w=r()(D,1)[0],A=(null==l?void 0:l.id)===(null===(t=o.creator)||void 0===t?void 0:t.id);return(null==l?void 0:l.id)===T?null:l&&T&&A?d.createElement(d.Fragment,null,d.createElement(k.Sl,null,d.createElement(g.r,{onClick:function(){_(!0)}},"Block this author")),x&&d.createElement(f.r,{onConfirm:function(){R.event("user.blocked",{userId:T,source:N}),w()},isVisible:x,isInResponsesSidebar:!0,hide:function(){I(),a()}})):null},P=(0,l.Ps)(R()),C=(0,l.Ps)(h())},35006:(e,n,t)=>{"use strict";t.d(n,{s:()=>r,$:()=>s});var i=t(67294),o=t(72136),a=t(97217),r=function(){return i.createElement("div",null,"Deleted responses are gone forever.",i.createElement("br",null),"Are you sure?")},s=function(e){var n=e.isDialogOpen,t=e.cancelDialogAction,s=e.confirmDialogAction,l=e.responseDistribution,d=e.hide,u=l===a.Et.DISTRIBUTED,c=u?"Delete response and story":"Delete",p=u?"This response is also a story on your profile. Are you sure you want to delete this response?":i.createElement(r,null);return i.createElement(o.E,{isDialogOpen:n,dialogHeading:c,dialogDescription:p,cancelDialogAction:t,confirmDialogAction:s,confirmDialogButtonText:"Delete Response",confirmButtonStyle:"ERROR",hide:d})}},32407:(e,n,t)=>{"use strict";t.d(n,{nQ:()=>C,aI:()=>x,iP:()=>F});var i=t(28655),o=t.n(i),a=t(63038),r=t.n(a),s=t(21919),l=t(92471),d=t(67294),u=t(27517),c=t(67922),p=t(35283),m=t(6443),v=t(38352),k=t(93310),f=t(18627),g=t(66411),y=t(78285),S=t(10282);function E(){var e=o()(["\n  mutation HideCatalogResponseOnParent($parentCatalogId: ID!, $catalogResponseId: ID!) {\n    hideCatalogResponseOnParent(\n      parentCatalogId: $parentCatalogId\n      catalogResponseId: $catalogResponseId\n    )\n  }\n"]);return E=function(){return e},e}function b(){var e=o()(["\n  mutation HidePostResponseOnParentMutation($parentPostId: ID!, $postResponseId: ID!) {\n    hidePostResponseOnParentPost(parentPostId: $parentPostId, postResponseId: $postResponseId)\n  }\n"]);return b=function(){return e},e}var h=(0,l.Ps)(b()),R=(0,l.Ps)(E());function N(){var e=o()(["\n  fragment HideResponseMenuItem_catalog on Catalog {\n    __typename\n    id\n    creator {\n      id\n    }\n  }\n"]);return N=function(){return e},e}function P(){var e=o()(["\n  fragment HideResponseMenuItem_post on Post {\n    __typename\n    id\n    collection {\n      id\n      viewerEdge {\n        id\n        isEditor\n      }\n    }\n    creator {\n      id\n    }\n  }\n"]);return P=function(){return e},e}var C=function(e){var n,t,i,o=e.responseToBeHidden,a=e.parentEntity,l=e.hidePopoverMenu,E=(0,m.H)().value,b=(0,u.I0)(),N=(0,f.Av)(),P=(0,g.pK)(),C=d.useContext(p.H),F=C.inResponseToEntityId,x=C.inResponseToEntityTypename,_=d.useContext(c.D).responseSortType,I=(null==E?void 0:E.id)===(null===(n=a.creator)||void 0===n?void 0:n.id),T="Post"===a.__typename&&(null==a||null===(t=a.collection)||void 0===t?void 0:t.viewerEdge.isEditor),O=(null==E?void 0:E.id)===(null===(i=o.creator)||void 0===i?void 0:i.id),D=(0,s.D)(h,{variables:{postResponseId:o.id,parentPostId:F},update:function(e){!function(e){var n=e.cache,t=e.inResponseToPostId,i=e.responseToBeHiddenId,o=e.responseSortType,a=e.dispatch,r=e.source,s=e.reporter,l=e.hidePopoverMenu;(0,S.y_)(n,t,i,o)&&(a((0,y.Dx)({toastStyle:"HIDE_POST_RESPONSE",extraParams:{responseId:i,parentPostId:t,sortType:o}})),s.event("response.hidden",{postId:i,source:r}),l())}({cache:e,inResponseToPostId:F,responseToBeHiddenId:o.id,responseSortType:_,dispatch:b,source:P,reporter:N,hidePopoverMenu:l})}}),w=r()(D,1)[0],A=(0,s.D)(R,{variables:{catalogResponseId:o.id,parentCatalogId:F},update:function(e){!function(e){var n=e.cache,t=e.inResponseToCatalogId,i=e.responseToBeHiddenId,o=e.responseSortType,a=e.dispatch,r=e.hidePopoverMenu,s=e.reporter,l=e.source;(0,S.fz)(n,t,i,o)&&(a((0,y.Dx)({toastStyle:"HIDE_CATALOG_RESPONSE",extraParams:{responseId:i,parentCatalogId:t,sortType:o}})),s.event("response.hidden",{postId:i,source:l}),r())}({cache:e,inResponseToCatalogId:F,responseToBeHiddenId:o.id,responseSortType:_,dispatch:b,source:P,reporter:N,hidePopoverMenu:l})}}),j=r()(A,1)[0],M=d.useCallback((function(){"Post"===x&&w(),"Catalog"===x&&j()}),[x]);return O||"Catalog"===a.__typename&&!I||"Post"===a.__typename&&!I&&!T?null:d.createElement(v.Sl,null,d.createElement(k.r,{onClick:M},"Hide this response"))},F=(0,l.Ps)(P()),x=(0,l.Ps)(N())},75525:(e,n,t)=>{"use strict";t.d(n,{QU:()=>F,jj:()=>_,x0:()=>x});var i=t(28655),o=t.n(i),a=t(67154),r=t.n(a),s=t(63038),l=t.n(s),d=t(92471),u=t(67294),c=t(21919),p=t(27517),m=t(6419),v=t(78285),k=t(71324),f=t(80745),g=t(6443),y=t(26350),S=t(98007),E=t(38352),b=t(88417),h=t(93310),R=t(18627),N=t(66411);function P(){var e=o()(["\n  fragment ReportUserMenuItem_catalog on Catalog {\n    __typename\n    id\n  }\n"]);return P=function(){return e},e}function C(){var e=o()(["\n  fragment ReportUserMenuItem_post on Post {\n    __typename\n    id\n    ...SusiClickable_post\n  }\n  ","\n"]);return C=function(){return e},e}var F=function(e){var n,t=e.response,i=e.parentEntity,o=e.hidePopoverMenu,a=(0,g.H)().value,s=(0,R.Av)(),d=(0,N.pK)(),S=u.useState(!1),P=l()(S,2),C=P[0],F=P[1],x=i.__typename,_=function(e){var n,t=e.response,i=e.parentEntityTypename,o=e.parentEntityId,a=t.id,r=null===(n=t.creator)||void 0===n?void 0:n.id,s=(0,p.I0)(),d=(0,c.D)(m.g,{variables:{targetPostId:a,targetAuthorId:r,alsoBlockAuthor:!1,reason:"Spam"},onCompleted:function(){s((0,v.Dx)({message:"Successfully reported post."}))}}),f=l()(d,2),g=f[0],y=f[1];return{reportStory:u.useCallback((function(e){var n=e.alsoBlockAuthor,t=void 0!==n&&n,s=e.reportReason;return g({variables:{targetPostId:a,targetAuthorId:r,alsoBlockAuthor:t,reason:void 0===s?"Spam":s},update:function(e){t&&("Post"===i&&(0,k.g)(e,o),"Catalog"===i&&(0,k.k)(e,o))}})}),[t,g]),error:null==y?void 0:y.error,loading:null==y?void 0:y.loading}}({response:t,parentEntityTypename:x,parentEntityId:i.id}).reportStory,I=(null==a?void 0:a.id)===(null===(n=t.creator)||void 0===n?void 0:n.id);if(!t.creator||I)return null;var T="Post"===i.__typename?{post:i}:{};return u.createElement(u.Fragment,null,u.createElement(E.Sl,null,null!=a&&a.id?u.createElement(h.r,{onClick:function(){return F(!0)}},"Report this response"):u.createElement(y.R,r()({operation:"register",susiEntry:(0,f.FY)(x)},T),"Report this response")),u.createElement(b.$,{onSubmit:function(e,n){return s.event("response.flagged",{postId:t.id,reason:n,source:d}),_({alsoBlockAuthor:e,reportReason:n})},isVisible:C,hide:function(){F(!1),o()},isResponse:!0}))},x=(0,d.Ps)(C(),S.qU),_=(0,d.Ps)(P())},72136:(e,n,t)=>{"use strict";t.d(n,{E:()=>c});var i=t(67294),o=t(67922),a=t(91583),r=t(77355),s=t(93310),l=t(47230),d=t(20113),u=t(87691),c=function(e){var n=e.isDialogOpen,t=e.dialogHeading,c=e.dialogDescription,p=e.cancelDialogAction,m=e.confirmDialogAction,v=e.confirmDialogButtonText,k=e.confirmButtonStyle,f=void 0===k?"STRONG":k,g=e.hide,y=i.useContext(o.D).sidebarRef,S=function(e){var n;null!=y&&null!==(n=y.current)&&void 0!==n&&n.style&&(y.current.style.overflowY=e?"hidden":"")};return i.useEffect((function(){return S(n),function(){S(!1)}}),[n]),i.createElement(a.V,{isVisible:n,hide:g,withCloseButton:!1,noPortal:!0,padding:50},i.createElement(r.x,{display:"flex",margin:"auto",flexDirection:"column",alignItems:"center",width:"100%",height:"100%"},i.createElement(d.X6,{scale:"M"},t),i.createElement(r.x,{display:"flex",width:"100%",paddingRight:"5px",marginTop:"10px",marginBottom:"40px",textAlign:"center"},i.createElement(u.F,{scale:"M",color:"DARKER"},c)),i.createElement(r.x,{display:"flex",marginBottom:"20px"},i.createElement(s.r,{onClick:p},i.createElement(u.F,{scale:"M",color:"DARKER"},"Cancel")),i.createElement(r.x,{marginLeft:"25px"},i.createElement(l.z,{buttonStyle:f,onClick:m,"data-test-id":"close-discussion-button"},v)))))}},71324:(e,n,t)=>{"use strict";t.d(n,{g:()=>i,k:()=>o});var i=function(e,n){e.modify({id:e.identify({__typename:"Post",id:n}),fields:{postResponses:function(e,n){return n.DELETE},threadedPostResponses:function(e,n){return n.DELETE}}})},o=function(e,n){e.modify({id:e.identify({__typename:"Catalog",id:n}),fields:{responsesCount:function(e,n){return n.DELETE},threadedCatalogResponses:function(e,n){return n.DELETE}}})}},10282:(e,n,t)=>{"use strict";t.d(n,{kv:()=>k,fz:()=>g,y_:()=>f});var i=t(59713),o=t.n(i),a=t(28655),r=t.n(a),s=t(92471),l=t(38613);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=t(7793);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function v(){var e=r()(["\n  mutation DeleteResponseMutation($responseId: ID!) {\n    deletePost(targetPostId: $responseId)\n  }\n"]);return v=function(){return e},e}var k=(0,s.Ps)(v()),f=function(e,n,t,i){var o,a,r,s,l,d,p=(0,c.n)(n,i),v=e.readFragment(p),k=(o=t,(d=v)&&null!==(a=d.threadedPostResponses)&&void 0!==a&&null!==(r=a.posts)&&void 0!==r&&r.some((function(e){return e.id===o}))?u(u({},d),{},{postResponses:{count:((null===(s=d.postResponses)||void 0===s?void 0:s.count)||1)-1},threadedPostResponses:u(u({},d.threadedPostResponses),{},{posts:((null===(l=d.threadedPostResponses)||void 0===l?void 0:l.posts)||[]).filter((function(e){return e.id!==o}))})}):null);if(k)return e.writeFragment(m(m({},p),{},{data:m({},k)})),k},g=function(e,n,t,i){var o,a,r,s,d,c=(0,l.W)(e,n,i),p=e.readFragment(c),v=(o=t,(d=p)&&null!==(a=d.threadedCatalogResponses)&&void 0!==a&&null!==(r=a.posts)&&void 0!==r&&r.some((function(e){return e.id===o}))?u(u({},d),{},{responsesCount:(d.responsesCount||1)-1,threadedCatalogResponses:u(u({},d.threadedCatalogResponses),{},{posts:((null===(s=d.threadedCatalogResponses)||void 0===s?void 0:s.posts)||[]).filter((function(e){return e.id!==o}))})}):null);if(v)return e.writeFragment(m(m({},c),{},{data:m({},v)})),v}},86742:(e,n,t)=>{"use strict";t.d(n,{A:()=>S});var i=t(319),o=t.n(i),a=[{kind:"FragmentDefinition",name:{kind:"Name",value:"CloseDiscussion_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"isLockedResponse"}}]}}],r=([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchPostResponsesLockedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}}]}}]}}].concat(o()(a)),t(68216)),s=t(54341),l=t(15013),d=t(27048),u=t(18821),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseHeader_postHacky"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isBlocking"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}].concat(o()(d.W.definitions),o()(u.H.definitions))},p=t(82717),m=t(56190),v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseQuote_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inResponseToMediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"mediumQuote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quoteId"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildQuotePreviewParagraph_quote"}}]}}]}}]}}].concat(o()(p.Rg.definitions),o()(m.S.definitions))},k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isBlocking"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_postHacky"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseQuote_post"}}]}}].concat(o()(r.$m.definitions),o()(s.O.definitions),o()(l.h.definitions),o()(c.definitions),o()(v.definitions))},f=t(69724),g={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isBlocking"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"voterCount"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"latestRev"}},{kind:"Field",name:{kind:"Name",value:"recommenders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getSlateBodyFromPostBodyModel_bodyModel"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"inResponseToType"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostScrollTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseQuote_post"}}]}}].concat(o()(r.$m.definitions),o()(s.O.definitions),o()(u.H.definitions),o()([{kind:"FragmentDefinition",name:{kind:"Name",value:"getSlateBodyFromPostBodyModel_bodyModel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RichText"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"anchorType"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"linkMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"httpStatus"}}]}}]}}]}}]}}]),o()(l.h.definitions),o()(f.k.definitions),o()(v.definitions))},y={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}]}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}}]}}]}}]}}]}}].concat(o()(k.definitions),o()(g.definitions))},S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PagedThreadedPostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"responseDepth"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}}]}}]}}]}}]}}]}}].concat(o()(a),o()(k.definitions),o()(g.definitions),o()(y.definitions))}},7793:(e,n,t)=>{"use strict";t.d(n,{n:()=>o});var i=t(75774),o=function(e,n){return{id:"Post:".concat(e),fragment:i.K,fragmentName:"SimpleResponse_threadedSimpleResponse_defaultPostResponses",variables:{sortType:n}}}},38619:(e,n,t)=>{"use strict";var i;t.d(n,{Q:()=>i}),function(e){e.SIMPLE="SIMPLE",e.STORY="STORY"}(i||(i={}))},76412:(e,n,t)=>{"use strict";t.d(n,{I:()=>g});var i=t(63038),o=t.n(i),a=t(15303),r=t(67294),s=t(82186),l=t(80745),d=t(14646),u=t(97217),c=t(59713),p=t.n(c),m=t(97489),v=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white";return function(o){var a=n?"0.6s":"0s";return p()({width:t,position:"fixed",zIndex:520,backgroundColor:i,left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:e?"translateX(-".concat(t,")"):"translateX(0px)",transition:"transform ".concat(a," cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity ").concat(a," cubic-bezier(0.23, 1, 0.32, 1) 0s"),visibility:e?"visible":"hidden"},(0,m.sm)(o),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:e?"translateY(30px)":"translateY(100%)","-webkit-overflow-scrolling":"touch"})}},k=function(e){var n={top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,pointerEvents:"none"};return e&&(n.transition="opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"),n},f={"@media print":{display:"none"}},g=function(e){var n=e.cleanupSidebar,t=e.children,i=e.isResponsesSidebarVisible,c=e.pagingInfoNext,p=e.isFetchingNextSetOfResponses,m=e.setIsFetching,g=e.fetchMoreWithArguments,y=e.initialSidebarRender,S=e.sidebarRef,E=(0,d.I)(),b=r.useRef(null),h=r.useState(null),R=o()(h,2),N=R[0],P=R[1],C=r.useState(u.Et.NOT_DISTRIBUTED),F=o()(C,2),x=F[0],_=F[1];r.useEffect((function(){var e=b.current;if(e&&i){if(!N){var n=(0,a.v)(e,{initialFocus:e,fallbackFocus:e,preventScroll:!0,allowOutsideClick:function(e){var n;return!(null===(n=e.target)||void 0===n||!n.closest("reach-portal"))}});n.activate(),P(n)}return function(){N&&(N.deactivate(),P(null))}}}),[b.current,N,P,i]);var I,T=r.useCallback((function(){_(u.Et.NOT_DISTRIBUTED),n()}),[n]);return r.createElement("div",{className:E(f),role:"dialog","aria-modal":"true",ref:b,tabIndex:-1},r.createElement("div",{className:E([k(y),(I=i,I?{opacity:1,pointerEvents:"all"}:{})]),onClick:T,onKeyUp:function(e){13===e.keyCode&&T()},"aria-hidden":!i,role:"presentation"}),r.createElement("div",{className:E([v(i,y,s.ZR)]),"aria-hidden":!i,onScroll:function(e){return(0,l.vL)(e,c,p,m,g)},ref:S},t({responseDistribution:x,setResponseDistribution:_,closeSidebar:T})))}},15013:(e,n,t)=>{"use strict";t.d(n,{h:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPresentationTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]}},21021:(e,n,t)=>{"use strict";t.d(n,{r:()=>o});var i=t(67294),o=function(e,n){return i.useCallback((function(n){"key"in n&&"Enter"!==n.key&&" "!==n.key||("key"in n&&" "===n.key&&n.preventDefault(),e(n))}),n)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8051.0d675bc8.chunk.js.map